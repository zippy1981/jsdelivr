!function(t){"use strict";function r(){function t(){var t=function(t){var n,e=r.isFunction(t),i=r.slice(arguments,1);return e&&(n=t.apply(null,i)),n};return t.with=function(t){var r,n=Function.bind;return arguments[0]=null,r=n.apply(t,arguments)},t.ret=function(){var n,e=r.slice(arguments);return e.unshift(t),n=t.with.apply(null,e)},t.if=function(r,n,e){var i;return r?t(n,r):t(e,n),i},t.ifExist=function(r,n,e){var i,s=r&&r[n];return s&&(s=s.bind(r),i=t(s,e)),i},t.parallel=function(n,e){function i(t,n,i){var s=r.slice(n,1),o=!1,u=n[0],g=s.length;++c,o=c===f,u||(i[t]=g>=2?s:s[0]),a||!u&&!o||(a=!0,"array"===h?e.apply(null,[u].concat(i)):e(u,i))}var s=[],a=!1,o=[],u={},c=0,f=0,h=r.getType(n);switch(r.checkArgs(arguments,["funcs","callback"]),h){case"array":f=n.length,n.forEach(function(r,n){t(r,function(){i(n,arguments,o)})});break;case"object":s=Object.keys(n),f=s.length,s.forEach(function(r){var e=n[r];t(e,function(){i(r,arguments,u)})})}},t.series=function(n){var e,i,s=r.isArray(n);s&&(e=n.shift(),i=function(){return t.series(n)},t(e,i))},t.try=function(t){var r;try{r=t()}catch(n){r=n}return r},t.tryLog=function(t){var n;return n=this.try(t),r.logError(n)},t}var r=this;this.applyConstructor=function(t,r){var n=function(){return t.apply(this,r)};return n.prototype=t.prototype,new n},this.addListener=function(t,n,e,i){var s,a,o=r.getType(t);switch(o){case"string":s=e[t],s||(s=e[t]=[]),s.push(n),n&&i&&i.on(t,n);break;case"object":a=t,Object.keys(a).forEach(function(t){n=a[t],r.addListener(t,n,e,i)})}return this},this.removeListener=function(t,r,n,e){var i;return e&&e.removeListener(t,r),i=n[t],i&&(i=i.map(function(t){return t===r&&(t=null),t})),this},this.checkExt=function(t,n){var e,i,s,a=r.getType(n),o="\\.({{ exts }})$";switch(a){case"string":o=r.render(o,{exts:n}),s=new RegExp(o,"i"),e=s.test(t);break;case"array":i=n.join("|"),e=r.checkExt(t,i)}return!!e},this.checkArgs=function(t,n){var e,i="",s=0,a=n.length,o=a===t.length,u="{{ name }} coud not be empty!";if(!o)for(s=0;a>s;s++)if(!t[s])throw i=r.render(u,{name:n[s]}),e=new Error(i);return this},this.checkType=function(t,n,e){var i=r.getType(n)===e;if(!i)throw Error(t+" should be "+e);return this},this.copyObj=function(t,r){return r||(r=t,t={}),t&&Object.keys(r).forEach(function(n){t[n]=r[n]}),t},this.extend=function(t,n){var e,i,s,a=r.isFunction(n),o=r.isArray(n),u=r.isObject(t),c=u?t:{};return o?n.forEach(function(n){c=r.extend(t,n)}):n&&(e=a?new n:n,i=Object.keys(e),i.length||(s=Object.getPrototypeOf(n),i=Object.keys(s)),i.forEach(function(t){c[t]=e[t]})),c},this.extendProto=function(t){var n,e=function(){};return e.prototype=r.extend({},t),n=new e},this.parseJSON=function(t){var n;return r.exec.try(function(){n=JSON.parse(t)}),n},this.stringifyJSON=function(t){var n;return r.exec.tryLog(function(){n=JSON.stringify(t,null,4)}),n},this.strCmp=function(t,n){var e,i=r.getType(n);switch(i){case"array":n.some(function(n){return e=r.strCmp(t,n)});break;case"string":e=t===n}return e},this.getStrBigFirst=function(t){var n=r.isString(t),e=t;return n&&t.length&&(e=t[0].toUpperCase()+t.substring(1)),e},this.isContainStr=function(t,n){var e,i,s,a,o,u=r.isString(t),c=r.getType(n);if(u)switch(c){case"array":for(i=n.length,e=0;i>e&&(s=n[e],!(a=r.isContainStr(t,s)));e++);break;case"string":o=t.indexOf(n),a=o>=0}return a},this.isContainStrAtBegin=function(t,n){var e,i,s,a,o;if(r.isString(t))if(r.isArray(n))for(i=n.length,e=0;i>e&&!(o=r.isContainStrAtBegin(t,n[e]));e++);else s=n.length,a=t.substring(0,s),o=a===n;return o},this.log=function(){var t=this.slice(arguments),e=n.console,i="["+r.getDate()+"] ";return e&&t.length&&t[0]&&(t.unshift(i),e.log.apply(e,t),t.shift()),t.join(" ")},this.logArray=function(t){var n=r.isArray(t);return n&&t.forEach(function(t){r.log(t)}),t},this.logError=function(t){var e=n.console,i="["+r.getDate()+"] ";if(e&&t){var s=t.message;s&&(i+=t.message+" "),e.error(i,t)}return t},this.rmStr=function(t,n,e){var i,s=[],a=r.isString(t),o=r.isArray(n),u=function(t,r){var n=t.replace(r,"");return n};return i=e?u:r.replaceStr,a&&n&&(o?s=n:s.push(n),s.forEach(function(r){t=i(t,r,"")})),t},this.rmStrOnce=function(t,n){var e=!0;return t=r.rmStr(t,n,e)},this.replaceStr=function(t,n,e,i){var s,a=r.isString(t);return a&&n&&(i||(n=r.escapeRegExp(n)),s=new RegExp(n,"g"),t=t.replace(s,e)),t},this.convertName=function(t){var n=t&&t.toLowerCase();return n=r.rmStr(n,["(",")"]),n=r.replaceStr(n," ","-")},this.escapeRegExp=function(t){var n=r.isString(t);return n&&(t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),t},this.getRegExp=function(t){var n;return t||(t="*"),t="^"+t,t=r.replaceStr(t,".","\\."),t=r.replaceStr(t,"*",".*"),t=r.replaceStr(t,"?",".?\\"),t+="$",n=new RegExp(t)},this.render=function(t,n){var e,i=!0,s="\\s*",a=["{{"+s,s+"}}"];return e=r.ownRender(t,n,a,i)},this.ownRender=function(t,n,e,i){var s,a,o,u,c,f=t;u=e[0],c=e[1]||u;for(a in n)s=n[a],s=r.exec(s)||s,o=u+a+c,f=r.replaceStr(f,o,s,i);return o=u+".*"+c,f=r.replaceStr(f,o,"",i)},this.isArray=function(t){return Array.isArray(t)},this.isArrayBuffer=function(t){var r=this.getType(t),n="arraybuffer"===r;return n},this.isBoolean=function(t){return r.isType(t,"boolean")},this.isFunction=function(t){return r.isType(t,"function")},this.isNumber=function(t){return r.isType(t,"number")},this.isObject=function(t){var n=r.getType(t),e="object"===n;return e},this.isString=function(t){return r.isType(t,"string")},this.isUndefined=function(t){return r.isType(t,"undefined")},this.isFile=function(t){var n,e,i="[object File]";return n=r.exec.ifExist(t,"toString"),e=n===i},this.isType=function(t,r){return typeof t===r},this.getType=function(t){var r=new RegExp("\\s([a-zA-Z]+)"),n={}.toString.call(t),e=n.match(r)[1],i=e.toLowerCase();return i},this.retFalse=function(){var t=!1;return t},this.retParam=function(t){return t},this.slice=function(t,r,n){var e=[];return t&&(e=[].slice.call(t,r,n)),e},this.forEach=function(t,r){var n=[];return t&&(n=[].forEach.call(t,r)),n},this.exec=new t,this.getExt=function(t){var n,e="",i=r.isString(t);return i&&(n=t.lastIndexOf("."),~n&&(e=t.substr(n))),e},this.getNamesFromObjArray=function(t){var n=[],e=r.isArray(t);return t&&!e&&(t=t.data),t&&t.forEach(function(t){n.push(t.name||t)}),n},this.findObjByNameInArr=function(t,n){var e,i=r.isArray(t);return i&&t.some(function(t){var i=t.name===n,s=r.isArray(t);return i?e=t:s&&t.some(function(t){i=t.name===n,i&&(e=t.data)}),i}),e},this.getTime=function(){var t,r=new Date,n=r.getHours(),e=r.getMinutes(),i=r.getSeconds();return e=10>e?"0"+e:e,i=10>i?"0"+i:i,t=n+":"+e+":"+i},this.time=function(t){var e=n.console;return r.exec.ifExist(e,"time",t),this},this.timeEnd=function(t){var e=n.console;return r.exec.ifExist(e,"timeEnd",t),this},this.getDate=function(){var t=r.getShortDate(),n=r.getTime(),e=t+" "+n;return e},this.getShortDate=function(){var t,r=new Date,n=r.getDate(),e=r.getMonth()+1,i=r.getFullYear();return 9>=e&&(e="0"+e),t=i+"."+e+"."+n}}var n=t.window?window:global;"object"==typeof module&&module.exports?module.exports=new r:n.Util=new r}(this);
