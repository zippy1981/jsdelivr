/**
 * @overview better-dom: Live extension playground
 * @version 2.1.1 Tue, 16 Dec 2014 14:27:26 GMT
 * @copyright 2013-2014 Maksim Chemerisuk
 * @license MIT
 * @see https://github.com/chemerisuk/better-dom
 */
!function(){"use strict";function t(){}function e(n){if(!(this instanceof e)){if(n){var r=n.__2001001__;return r?r:new e(n)}return new t}n&&(n.__2001001__=this,this[0]=n,this._={handler2001001:[],watcher2001001:{},extension2001001:[],context2001001:{}})}function n(t){t&&9===t.nodeType&&(t=t.documentElement),e.call(this,t)}function r(t,e){var n=arguments[2];void 0===n&&(n="$Element");var r="http://chemerisuk.github.io/better-dom/"+n+".html#"+t,i="invalid call `"+n+("DOM"===n?".":"#")+t+"(";i+=b.map.call(e,function(t){return String(t)}).join(", ")+")`;",this.message=i+" check "+r+" to verify the function arguments"}function i(t,e){r.call(this,t,e,"DOM")}function o(t,n,r,i,o,a){if("number"==typeof t){var u=n.__2001001__;return u?u[t]:void 0}if(9>m){var s=i.ownerDocument.documentElement;switch(t){case"which":return n.keyCode;case"button":var c=n.button;return 1&c?1:2&c?3:4&c?2:0;case"pageX":return n.clientX+s.scrollLeft-s.clientLeft;case"pageY":return n.clientY+s.scrollTop-s.clientTop;case"preventDefault":return function(){return n.returnValue=!1};case"stopPropagation":return function(){return n.cancelBubble=!0}}}switch(t){case"type":return r;case"defaultPrevented":return"defaultPrevented"in n?n.defaultPrevented:n.returnValue===!1;case"target":return e(o);case"currentTarget":return e(a);case"relatedTarget":return e(n.relatedTarget||n[(n.toElement===i?"from":"to")+"Element"])}var f=n[t];return"function"==typeof f?function(){return f.apply(n,arguments)}:f}function a(t,e,n,r,i,u){var s=i[0],f=te[t],l=B(e,s),p=function(e){if(e=e||c.event,a.skip!==t&&(p._type!==v||e.srcUrn===t)){var f=e.target||e.srcElement||s.ownerDocument.documentElement,h=l?l(f):s,g=r||[];h&&(u&&i.off(t,n),g=r?g.map(function(n){return o(n,e,t,s,f,h)}):b.slice.call(e.__2001001__||[0],1),n.apply(i,g)===!1&&(9>m?e.returnValue=!1:e.preventDefault()))}};return f&&(p=f(p,t)||p),9>m&&!("on"+(p._type||t)in s)&&(p._type=v),p.type=t,p.callback=n,p.selector=e,p}function u(t){Te.forEach(function(e){e(t,!0)}),b.each.call(t.children,u)}var s=Array.prototype.slice,c=window,f=document,l=f.documentElement,p=c.navigator.userAgent,h=c.ScriptEngineMajorVersion,m=h&&h(),g=~p.indexOf("Android")&&p.indexOf("Chrome")<0,d=c.WebKitAnimationEvent?"-webkit-":"",v="dataavailable";e.prototype={constructor:function(t){return e(t&&1===t.nodeType?t:null)},toString:function(){var t=this[0];return t?"<"+t.tagName.toLowerCase()+">":""},version:"2.1.1"},t.prototype=new e,n.prototype=new e;var y=new n(f),w=Array.prototype,b={computeStyle:function(t){return 9>m?t.currentStyle:t.ownerDocument.defaultView.getComputedStyle(t)},injectElement:function(t){return t&&1===t.nodeType?t.ownerDocument.getElementsByTagName("head")[0].appendChild(t):void 0},every:w.every,each:w.forEach,filter:w.filter,map:w.map,slice:w.slice,isArray:Array.isArray,keys:Object.keys,safeCall:function(t,e,n,r){"string"==typeof e&&(e=t[e]);try{return e.call(t,n,r)}catch(i){return c.setTimeout(function(){throw i},1),!1}},register:function(n,r){r=r||function(){},Object.keys(n).forEach(function(i){var o=r(i)||function(){return this};e.prototype[i]=n[i],t.prototype[i]=o})},getLegacyFile:function(t){if(10>m){var e=w.filter.call(f.scripts,function(t){return t.src.indexOf("better-dom-legacy.js")>=0});if(e.length<1)throw new Error("In order to use live extensions in IE < 10 you have to include extra files. See https://github.com/chemerisuk/better-dom#notes-about-old-ies for details.");return e[0].src.replace(".js","."+t)}}};r.prototype=new TypeError,i.prototype=new TypeError;var E={"(":1,")":2,"^":3,">":4,"+":5,"*":6,"`":7,"[":8,".":8,"#":8},x=/`[^`]*`|\[[^\]]*\]|\.[^()>^+*`[#]+|[^()>^+*`[#.]+|\^+|./g,C=/\s*([\w\-]+)(?:=((?:`([^`]*)`)|[^\s]*))?/g,A=/(\$+)(?:@(-)?(\d+)?)?/g,T=/\./g,_=/\$/g,S={"":""},k=function(t,e,n,r){var i=n&&n.indexOf('"')>=0?"'":'"';return"string"==typeof r?n=r:"string"!=typeof n&&(n=e)," "+e+"="+i+n+i},O=function(t,e){return function(n){var r=e?n.lastIndexOf("<"):n.indexOf(">");return n.slice(0,r)+t+n.slice(r)}},D=function(t){return S[t]||(S[t]="<"+t+"></"+t+">")},L=function(t,e){var n,r=Array(t);for(n=0;t>n;++n)r[n]=e.replace(A,function(e,r,i,o){var a=(i?t-n-1:n)+(o?+o:1);return(r+a).slice(-r.length).replace(_,"0")});return r},N=/[&<>"']/g,j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};"area base br col hr img input link meta param command keygen source".split(" ").forEach(function(t){S[t]="<"+t+">"}),y.emmet=function(t,e){var n,r,o;if("string"!=typeof t)throw new i("emmet",arguments);if(e&&(t=y.format(t,e)),t in S)return S[t];var a=[],u=[];o=t.match(x),n=0,r=o.length;for(var s;r>n;){s=o[n++];var c=s[0],f=E[c];if(f){if("("!==s)for(var l=0,p="^"===c?s.length:1;p>l;++l)for(;a[0]!==c&&E[a[0]]>=f;){var h=a.shift();if(u.push(h),"^"===c&&">"===h)break}")"===s?a.shift():(("["===c||"`"===c)&&u.push(s.slice(1,-1)),"."===c&&u.push(s.slice(1).replace(T," ")),a.unshift(c))}else u.push(s)}n=r=o=void 0,u=u.concat(a),a=[],n=0,r=u.length;for(var m;r>n;){if(m=u[n++],m in E){var g=a.shift(),d=a.shift();switch("string"==typeof d&&(d=[D(d)]),m){case".":g=O(' class="'+g+'"');break;case"#":g=O(' id="'+g+'"');break;case"[":g=O(g.replace(C,k));break;case"*":d=L(+g,d.join(""));break;case"`":a.unshift(d),d=[g.replace(N,function(t){return j[t]})];break;default:g="string"==typeof g?D(g):g.join(""),">"===m?g=O(g,!0):d.push(g)}m="function"==typeof g?d.map(g):d}a.unshift(m)}return n=r=void 0,u=1===u.length?D(a[0]):a[0].join("")};var M=S,F=function(t){return function(n,r){var i=this[0].ownerDocument,o=this._.sandbox2001001;o||(o=i.createElement("div"),this._.sandbox2001001=o);var a,u;if(n&&n in M)a=i.createElement(n),t&&(a=[new e(a)]);else for(n=n.trim(),n="<"===n[0]&&">"===n[n.length-1]?r?y.format(n,r):n:y.emmet(n,r),o.innerHTML=n,a=t?[]:null;u=o.firstChild;)if(o.removeChild(u),1===u.nodeType){if(!t){a=u;break}a.push(new e(u))}return t?a:e(a)}};n.prototype.create=F(""),n.prototype.createAll=F("All"),n.prototype.importScripts=function(){var t=s.call(arguments,0),e=this[0].ownerDocument,n=function(){var r,o=t.shift(),a=typeof o;if("string"===a)r=e.createElement("script"),r.src=o,r.onload=n,r.async=!0,b.injectElement(r);else if("function"===a)o();else if(o)throw new i("importScripts",arguments)};n()},n.prototype.importStyles=function(t,e){var n=this._.styles2001001;if(!n){var r=this[0].ownerDocument,o=b.injectElement(r.createElement("style"));n=o.sheet||o.styleSheet,this._.styles2001001=n}if("string"!=typeof t||"string"!=typeof e)throw new i("importStyles",arguments);t.split(",").forEach(function(t){try{n.cssRules?n.insertRule(t+"{"+e+"}",n.cssRules.length):"@"!==t[0]?n.addRule(t,e):n.cssText+=t+"{"+e+"}"}catch(r){}})};var P=/^(\w*)(?:#([\w\-]+))?(?:\[([\w\-\=]+)\])?(?:\.([\w\-]+))?$/,q="m oM msM mozM webkitM".split(" ").reduce(function(t,e){var n=e+"atchesSelector";return t||l[n]&&n},null),B=function(t,e){if("string"!=typeof t)return null;var n=P.exec(t);return n&&(n[1]&&(n[1]=n[1].toLowerCase()),n[3]&&(n[3]=n[3].split("=")),n[4]&&(n[4]=" "+n[4]+" ")),function(r){var i,o,a,u;for(n||q||(u=(e||r.ownerDocument).querySelectorAll(t));r&&1===r.nodeType;r=r.parentNode){if(n)a=!(n[1]&&r.nodeName.toLowerCase()!==n[1]||n[2]&&r.id!==n[2]||n[3]&&(n[3][1]?r.getAttribute(n[3][0])!==n[3][1]:!r.hasAttribute(n[3][0]))||n[4]&&!((" "+r.className+" ").indexOf(n[4])>=0));else if(q)a=r[q](t);else{i=0,o=u.length;for(var s;o>i;)if(s=u[i++],s===r)return s;i=o=void 0}if(a||!e||r===e)break}return a&&r}},I=function(t){return function(n){if(t){if(n&&"string"!=typeof n)throw new r("children",arguments)}else if(n&&"number"!=typeof n)throw new r("child",arguments);var i=this[0],o=B(n),a=i.children;return 9>m&&(a=b.filter.call(a,function(t){return 1===t.nodeType})),t?(o&&(a=b.filter.call(a,o)),b.map.call(a,e)):(0>n&&(n=a.length+n),e(a[n]))}};b.register({child:I(!1),children:I(!0)},function(e){return"child"===e?function(){return new t}:function(){return[]}});var H=/[\n\t\r]/g,R=function(t,e){var n="contains"===t?"hasClass":t+"Class";return l.classList&&(e=function(e,n){return e[0].classList[t](n)}),"hasClass"===n||"toggleClass"===n?function(t,i){if("boolean"==typeof i&&"toggleClass"===n)return this[i?"addClass":"removeClass"](t),i;if("string"!=typeof t)throw new r(n,arguments);return e(this,t)}:function(){var t,i,o=arguments;t=0,i=o.length;for(var a;i>t;){if(a=o[t++],"string"!=typeof a)throw new r(n,arguments);e(this,a)}return t=i=void 0,this}};b.register({hasClass:R("contains",function(t,e){return(" "+t[0].className+" ").replace(H," ").indexOf(" "+e+" ")>=0}),addClass:R("add",function(t,e){t.hasClass(e)||(t[0].className+=" "+e)}),removeClass:R("remove",function(t,e){t[0].className=(" "+t[0].className+" ").replace(H," ").replace(" "+e+" "," ").trim()}),toggleClass:R("toggle",function(t,e){var n=t.hasClass(e);return n?t.removeClass(e):t[0].className+=" "+e,!n})},function(t){return"hasClass"===t||"toggleClass"===t?function(){return!1}:void 0}),b.register({clone:function(t){if("boolean"!=typeof t)throw new r("clone",arguments);var n,i=this[0];return 9>m?(n=y.create(i.outerHTML),t||n.set("")):n=new e(i.cloneNode(t)),n}},function(){return function(){return new t}}),b.register({contains:function(t){var n=this[0];if(t instanceof e){var i=t[0];return i===n?!0:n.contains?n.contains(i):16&n.compareDocumentPosition(i)}throw new r("contains",arguments)}},function(){return function(){return!1}});var U="div[style=overflow:hidden]>object[data=`about:blank` type=text/html style=`position:absolute` width=100% height=100%]";m&&(U=U.replace("position:absolute","width:calc(100% + 4px);height:calc(100% + 4px);left:-2px;top:-2px;position:absolute"),U=m>8?U.replace("data=`about:blank` ",""):U.replace("about:blank",b.getLegacyFile("html"))),b.register({context:function(t){var e=arguments[1];void 0===e&&(e=function(){});var r=this._.context2001001,i=r[t]||[];if(i[0])return c.setTimeout(function(){e(i[1])},1),i[0];var o=y.create(U),a=o.get("firstChild");return a.onload=function(){"static"===o.addClass(t).css("position")&&o.css("position","relative"),e(i[1]=new n(a.contentDocument))},this.before(o),m&&(a.data="about:blank",9>m&&y.requestFrame(function u(){if(!a.contentDocument)return y.requestFrame(u);var t;o[0].attachEvent("onresize",function(){t=t||y.requestFrame(function(){a.width=o[0].offsetWidth+4,a.height=o[0].offsetHeight+4,t=null})}),a.onload()})),r[t]=i,i[0]=o}});var z=/\-./g,$=["Webkit","O","Moz","ms"],V={get:{},set:{},find:function(t,e){var n=t.replace(z,function(t){return t[1].toUpperCase()});return n in e||(n=$.map(function(t){return t+n[0].toUpperCase()+n.slice(1)}).filter(function(t){return t in e})[0]),this.get[t]=this.set[t]=n}},W=["Top","Right","Bottom","Left"],X={font:["fontStyle","fontSize","/","lineHeight","fontFamily"],padding:W.map(function(t){return"padding"+t}),margin:W.map(function(t){return"margin"+t}),"border-width":W.map(function(t){return"border"+t+"Width"}),"border-style":W.map(function(t){return"border"+t+"Style"})};" float fill-opacity font-weight line-height opacity orphans widows z-index zoom ".split(" ").forEach(function(t){var e=t.replace(z,function(t){return t[1].toUpperCase()});"float"===t?(e="cssFloat"in l.style?"cssFloat":"styleFloat",V.get[t]=V.set[t]=e):(V.get[t]=e,V.set[t]=function(t,n){n[e]=t.toString()})}),b.keys(X).forEach(function(t){var e=X[t];V.get[t]=function(t){var n=[],r=function(e,r){return n.push("/"===e?e:t[e]),!n[r]};return e.some(r)?"":n.join(" ")},V.set[t]=function(n,r){n&&"cssText"in r?r.cssText+=";"+t+":"+n:e.forEach(function(t){return r[t]="number"==typeof n?n+"px":n.toString()})}});var Y=V;b.register({css:function(t,e){var n,i=this,o=arguments.length,a=this[0],u=a.style;if(1===o&&("string"==typeof t||b.isArray(t))){var s=function(t){var e=Y.get[t]||Y.find(t,u),r="function"==typeof e?e(u):u[e];return r||(n||(n=b.computeStyle(a)),r="function"==typeof e?e(n):n[e]),r};return"string"==typeof t?s(t):t.map(s).reduce(function(e,n,r){return e[t[r]]=n,e},{})}if(2===o&&"string"==typeof t){var c=Y.set[t]||Y.find(t,u);"function"==typeof e&&(e=e(this)),null==e&&(e=""),"function"==typeof c?c(e,u):u[c]="number"==typeof e?e+"px":e.toString()}else{if(1!==o||!t||"object"!=typeof t)throw new r("css",arguments);b.keys(t).forEach(function(e){i.css(e,t[e])})}return this}},function(){return function(t){return 1===arguments.length&&b.isArray(t)?{}:1!==arguments.length||"string"!=typeof t?this:void 0}});var Z=9>m?"toUpperCase":"toLowerCase";b.register({define:function(t,e,n){var i=this,o=this[0];if("string"!=typeof t||"function"!=typeof e||"function"!=typeof n)throw new r("define",arguments);var a=t[Z](),u=o.setAttribute,s=o.removeAttribute;if(9>m){var c=o.getAttribute(t);null!==c&&(o[a]=c)}return Object.defineProperty(o,t,{get:function(){var t=o.getAttribute(a,1);return e.call(i,t)},set:function(t){var e=n.call(i,t);null==e?s.call(o,a,1):u.call(o,a,e,1)}}),o.setAttribute=function(t,n,r){a===t[Z]()?o[t]=e.call(i,n):u.call(o,t,n,r)},o.removeAttribute=function(t,n){a===t[Z]()?o[t]=e.call(i,null):s.call(o,t,n)},this}}),b.register({empty:function(){return this.set("")}});var J=f.getElementsByClassName?/^(?:(\w+)|\.([\w\-]+))$/:/^(?:(\w+))$/,K=/'|\\/g,G=function(t){return function(n){if("string"!=typeof n)throw new r("find"+t,arguments);var i,o,a,u,s=this[0],c=J.exec(n);return c?(i=c[1]?s.getElementsByTagName(n):s.getElementsByClassName(c[2]),i&&!t&&(i=i[0])):(o=!0,u=s,s!==s.ownerDocument.documentElement&&((o=s.getAttribute("id"))?a=o.replace(K,"\\$&"):(a="DOM2001001",s.setAttribute("id",a)),a="[id='"+a+"'] ",n=a+n.split(",").join(","+a)),i=b.safeCall(u,"querySelector"+t,n),o||s.removeAttribute("id")),t?b.map.call(i,e):e(i)}};b.register({find:G(""),findAll:G("All")},function(e){return"find"===e?function(){return new t}:function(){return[]}});var Q={};"onfocusin"in f.documentElement?(Q.focus=function(t){t._type="focusin"},Q.blur=function(t){t._type="focusout"}):Q.focus=Q.blur=function(t){t.capturing=!0},f.createElement("input").validity&&(Q.invalid=function(t){t.capturing=!0}),9>m&&["submit","change","reset"].forEach(function(t){Q[t]=function(t){t._type="_"}});var te=Q,ee=a;b.register({fire:function(t){var e,n,i,o=this[0];if("string"!=typeof t)throw new r("fire",arguments);var a=te[t],u={};return a&&(u=a(u)||u),n=u._type||t,9>m?(e=o.ownerDocument.createEventObject(),e.__2001001__=arguments,"on"+n in o||(n=v),n===v&&(e.srcUrn=t),o.fireEvent("on"+n,e),i=e.returnValue!==!1):(e=o.ownerDocument.createEvent("HTMLEvents"),e.__2001001__=arguments,e.initEvent(n,!0,!0),i=o.dispatchEvent(e)),i&&o[t]&&(ee.skip=t,b.safeCall(o,t),ee.skip=null),i}},function(){return function(){return!0}});var ne={get:{},set:{}};"tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" ").forEach(function(t){ne.get[t.toLowerCase()]=function(e){return e[t]}}),ne.get.style=function(t){return t.style.cssText},ne.set.style=function(t,e){t.style.cssText=e},ne.get.title=function(t){var e=t.ownerDocument;return t===e.documentElement?e.title:t.title},ne.set.title=function(t,e){var n=t.ownerDocument;(t===n.documentElement?n:t).title=e},ne.get.undefined=function(t){var e;switch(t.tagName){case"SELECT":return~t.selectedIndex?t.options[t.selectedIndex].value:"";case"OPTION":e=t.hasAttribute("value")?"value":"text";break;default:e=t.type&&"value"in t?"value":"innerHTML"}return t[e]},ne.set.value=function(t,e){"SELECT"===t.tagName?b.every.call(t.options,function(t){return!(t.selected=t.value===e)})&&(t.selectedIndex=-1):t[9>m&&"textarea"===t.type?"innerText":"value"]=e},ne.get.type=function(t){return t.getAttribute("type")||t.type},9>m&&(ne.get.textContent=function(t){return t.innerText},ne.set.textContent=function(t,e){t.innerText=e},ne.set.innerHTML=function(t,e){try{t.innerHTML=e}catch(n){t.innerText="",y.createAll(e).forEach(function(e){t.appendChild(e)})}});var re=ne,ie=/[A-Z]/g,oe=function(t,e){e=e.replace(ie,function(t){return"-"+t.toLowerCase()});var n=t.getAttribute("data-"+e);if(null!=n&&"{"===n[0]&&"}"===n[n.length-1])try{n=JSON.parse(n)}catch(r){}return n};b.register({get:function(t){var e=this,n=this[0],i=re.get[t];if(i)return i(n,t);if("string"==typeof t){if(t in n)return n[t];if("_"!==t[0])return n.getAttribute(t);var o=t.slice(1),a=this._;return o in a||(a[o]=oe(n,o)),a[o]}if(b.isArray(t))return t.reduce(function(t,n){return t[n]=e.get(n),t},{});throw new r("get",arguments)}},function(){return function(){return void 0}});var ae=function(t,n,r,i){return function(){var t=s.call(arguments,0),o=this,a=this[0];if(r&&!a.parentNode)return this;var u=n?"":a.ownerDocument.createDocumentFragment();return t.forEach(function(t){"function"==typeof t&&(t=t(o)),"string"==typeof t?"string"==typeof u?u+=t.trim():t=y.createAll(t):t instanceof e&&(t=[t]),b.isArray(t)&&("string"==typeof u&&(t=y.createAll(u).concat(t),u=a.ownerDocument.createDocumentFragment()),t.forEach(function(t){u.appendChild(t[0])}))}),"string"==typeof u?a.insertAdjacentHTML(n,u):i(a,u),this}};b.register({after:ae("after","afterend",!0,function(t,e){t.parentNode.insertBefore(e,t.nextSibling)}),before:ae("before","beforebegin",!0,function(t,e){t.parentNode.insertBefore(e,t)}),prepend:ae("prepend","afterbegin",!1,function(t,e){t.insertBefore(e,t.firstChild)}),append:ae("append","beforeend",!1,function(t,e){t.appendChild(e)}),replace:ae("replace","",!0,function(t,e){t.parentNode.replaceChild(e,t)}),remove:ae("remove","",!0,function(t){t.parentNode.removeChild(t)})}),b.register({map:function(t,e){if("function"!=typeof t)throw new r("map",arguments);return[t.call(e,this)]}},function(){return function(){return[]}});var ue=function(t){var e=b.computeStyle(t);return"hidden"===e.visibility||"none"===e.display},se={":focus":function(t){return t===t.ownerDocument.activeElement},":visible":function(t){return!ue(t)},":hidden":ue};b.register({matches:function(t){if(!t||"string"!=typeof t)throw new r("matches",arguments);var e=se[t]||B(t);return!!e(this[0])}},function(){return function(){return!1}}),b.register({off:function(t,e,n){if("string"!=typeof t)throw new r("off",arguments);void 0===n&&(n=e,e=void 0);var i=this[0];return this._.handler2001001=this._.handler2001001.filter(function(r){var o=t!==r.type;return o=o||e&&e!==r.selector,(o=o||n&&n!==r.callback)?!0:(t=r._type||r.type,void(9>m?i.detachEvent("on"+t,r):i.removeEventListener(t,r,!!r.capturing)))}),this}}),b.register({offset:function(){var t=this[0],e=t.ownerDocument.documentElement,n=e.clientTop,r=e.clientLeft,i=c.pageYOffset||e.scrollTop,o=c.pageXOffset||e.scrollLeft,a=t.getBoundingClientRect();return{top:a.top+i-n,left:a.left+o-r,right:a.right+o-r,bottom:a.bottom+i-n,width:a.right-a.left,height:a.bottom-a.top}}},function(){return function(){return{top:0,left:0,right:0,bottom:0,width:0,height:0}}});var ce=function(t){return function(e,n,i,o){var a=this;if("string"==typeof e){if("function"==typeof i&&(o=i,"string"==typeof n?i=null:(i=n,n=null)),"function"==typeof n&&(o=n,n=null,i=null),"function"!=typeof o)throw new r(t,arguments);var u=this[0],s=ee(e,n,o,i,this,"once"===t);s&&(9>m?u.attachEvent("on"+(s._type||e),s):u.addEventListener(s._type||e,s,!!s.capturing),this._.handler2001001.push(s))}else{if("object"!=typeof e)throw new r(t,arguments);b.isArray(e)?e.forEach(function(e){a[t](e,n,i,o)}):b.keys(e).forEach(function(n){a[t](n,e[n])})}return this}};b.register({on:ce("on"),once:ce("once")}),b.register({set:function(t,e){var n=this,i=this[0];if(1===arguments.length&&(e="function"==typeof t?t:null==t?"":String(t),"[object Object]"!==e)){var o=i.tagName;t="INPUT"===o||"TEXTAREA"===o||"SELECT"===o||"OPTION"===o?"value":"innerHTML"}var a,u=re.set[t],s=this._.watcher2001001[t];if(s&&(a=this.get(t)),"string"==typeof t)"_"===t[0]?this._[t.slice(1)]=e:("function"==typeof e&&(e=e(this)),u?u(i,e):null==e?i.removeAttribute(t):t in i?i[t]=e:i.setAttribute(t,e),(9>m||g)&&(i.className=i.className));else if(b.isArray(t))t.forEach(function(t){n.set(t,e)});else{if("object"!=typeof t)throw new r("set",arguments);b.keys(t).forEach(function(e){n.set(e,t[e])})}return s&&a!==e&&s.forEach(function(t){b.safeCall(n,t,e,a)}),this}});var fe=function(t,n,i){return function(o){if(o&&"string"!=typeof o)throw new r(t,arguments);var a=B(o),u=i?[]:null,s=this[0];for(a&&"closest"===t||(s=s[n]);s;s=s[n])if(1===s.nodeType&&(!a||a(s))){if(!i)break;u.push(s)}return i?b.map.call(u,e):e(s)}};b.register({next:fe("next","nextSibling"),prev:fe("prev","previousSibling"),nextAll:fe("nextAll","nextSibling",!0),prevAll:fe("prevAll","previousSibling",!0),closest:fe("closest","parentNode")},function(e){return"All"===e.slice(-3)?function(){return[]}:function(){return new t}}),b.register({value:function(t){return 0===arguments.length?this.get():"string"==typeof t?this.set(t):this.set("").append(t)}});var le=["timing-function","property","duration","delay"].map(function(t){return"transition-"+t}),pe=function(t){var e=parseFloat(t)||0;return e&&"ms"!==t.slice(-2)?1e3*e:e},he=function(t){var e=t[3],n=t[2];return Math.max.apply(Math,n.map(function(t,n){return pe(t)+(pe(e[n])||0)}))};le.concat("animation-duration").forEach(function(t){Y.find(t,l.style)});var me=function(t,e,n,r,i){var o,a;if(g||10>m)return null;if(n){if(a=pe(e[Y.get["animation-duration"]]),!a)return;o=[d+"animation-direction:"+(r?"normal":"reverse"),d+"animation-name:"+n,"visibility:inherit"]}else{var u=le.map(function(t,n){return e[Y.get[t]].split(n?", ":/, (?!\d)/)});if(a=he(u),!a)return;if(u[1].indexOf("all")<0){var s=u[1].indexOf("visibility");0>s&&(s=u[2].indexOf("0s")),0>s&&(s=u[1].length),u[0][s]="linear",u[1][s]="visibility",u[r?2:3][s]="0s",u[r?3:2][s]=a+"ms"}o=u.map(function(t,e){for(var n=0,r=t.length;r>n;++n)t[n]=t[n]||t[n-1]||"initial";return d+le[e]+":"+t.join(", ")}),o.push("visibility:"+(r?"hidden":"inherit"),"will-change:"+u[1].join(", "))}return{cssText:o.join(";"),initialCssText:t.style.cssText,handleEvent:function(e){if(e.target===t){if(n){if(e.animationName!==n)return}else if("visibility"!==e.propertyName)return;e.stopPropagation(),i()}}}},ge=d?"webkitTransitionEnd":"transitionend",de=d?"webkitAnimationEnd":"animationend",ve=function(t,e){return function(n,i){var o=this;if("string"!=typeof n&&(i=n,n=null),i&&"function"!=typeof i)throw new r(t,arguments);var a=this[0],u=a.style,s=b.computeStyle(a),c=e,f=this._.frame2001001,l=function(){p?(a.removeEventListener(h,p,!0),u.cssText=p.initialCssText):o.set("aria-hidden",String(c)),u.visibility=c?"hidden":"inherit",o._.frame2001001=null,i&&i(o)};if("boolean"!=typeof c&&(c="hidden"!==s.visibility),f&&y.cancelFrame(f),a.ownerDocument.documentElement.contains(a)){var p=me(a,s,n,c,l),h=n?de:ge;this._.frame2001001=y.requestFrame(p?function(){a.addEventListener(h,p,!0),u.cssText=p.initialCssText+p.cssText,o.set("aria-hidden",String(c))}:l)}else l();return this}};b.register({show:ve("show",!1),hide:ve("hide",!0),toggle:ve("toggle")}),b.register({watch:function(t,e){var n=this._.watcher2001001;return n[t]||(n[t]=[]),n[t].push(e),this},unwatch:function(t,e){var n=this._.watcher2001001;return n[t]&&(n[t]=n[t].filter(function(t){return t!==e})),this}});var ye,we=/^(?:on|do)[A-Z]/,be=function(t,n,r,i){var o=r.hasOwnProperty("constructor")&&r.constructor,a=B(t);return function(t,u){var s=e(t);if(!~s._.extension2001001.indexOf(i)&&a(t)&&(s._.extension2001001.push(i),u===!0||n(s)!==!1)){var c=Object.keys(r).filter(function(t){var e=r[t];return we.exec(t)?(s[t]=function(){return e.apply(s,arguments)},!u):"constructor"!==t?(s[t]=e,!u&&"_"===t[0]):void 0});o&&b.safeCall(s,o),c.forEach(function(t){delete s[t]})}}},Ee=[],xe=function(){return!0},Ce=function(){return!1};if(y.extend=function(t,n,r){if(2===arguments.length&&(r=n,n=!0),"boolean"==typeof n&&(n=n?xe:Ce),"function"==typeof r&&(r={constructor:r}),!r||"object"!=typeof r||"function"!=typeof n)throw new i("extend",arguments);if("*"===t)b.keys(r).forEach(function(t){e.prototype[t]=r[t]});else{var o=be(t,n,r,Ee.length);Ee.push(o),b.each.call(f.querySelectorAll(t),o),y.importStyles(t,ye)}},10>m)ye="-ms-behavior:url("+b.getLegacyFile("htc")+") !important",f.attachEvent("on"+v,function(){var t=c.event;t.srcUrn===v&&Ee.forEach(function(e){e(t.srcElement)})});else{var Ae=y.extend;ye=d+"animation-name:DOM2001001 !important;",ye+=d+"animation-duration:1ms !important",y.extend=function(){y.importStyles("@"+d+"keyframes DOM2001001","from {opacity:.99} to {opacity:1}"),(y.extend=Ae).apply(y,arguments)},f.addEventListener(d?"webkitAnimationStart":"animationstart",function(t){"DOM2001001"===t.animationName&&(Ee.forEach(function(e){e(t.target)}),t.stopImmediatePropagation())},!0)}var Te=Ee,_e=/\{([\w\-]+)\}/g;y.format=function(t,e){return"string"!=typeof t&&(t=String(t)),e&&"object"==typeof e||(e={}),t.replace(_e,function(t,n,r){return n in e&&(t=e[n],"function"==typeof t&&(t=t(r)),t=String(t)),t})};var Se=c.requestAnimationFrame,ke=c.cancelAnimationFrame,Oe=0;Se&&ke||["ms","moz","webkit","o"].forEach(function(t){Se=Se||c[t+"RequestAnimationFrame"],ke=ke||c[t+"CancelAnimationFrame"]}),y.requestFrame=function(t){if(Se)return Se.call(c,t);var e=Date.now(),n=Math.max(0,16-(e-Oe));return Oe=e+n,c.setTimeout(function(){t(e+n)},n)},y.cancelFrame=function(t){ke?ke.call(c,t):c.clearTimeout(t)},y.mock=function(e,n){if(!e)return new t;var r=y.create(e,n);return u(r[0]),r};var De=c.DOM;y.noConflict=function(){return c.DOM===y&&(c.DOM=De),y},c.DOM=y}();