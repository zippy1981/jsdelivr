!function(e){var a="//code.jquery.com/jquery-1.11.1.min.js",o="//www.jplayer.org/2.7.0/js/jquery.jplayer.min.js",t="//www.jplayer.org/2.7.0/js/Jplayer.swf",n="html,flash",r=!1,i=!1,l=!1,d={mp3:{codec:"audio/mpeg;",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},s=function(e){return e&&"object"==typeof e&&e.hasOwnProperty?!0:!1},c=function(e){var a=!1;return/\.mp3$/i.test(e)?a="mp3":/\.mp4$/i.test(e)||/\.m4v$/i.test(e)?a="m4v":/\.m4a$/i.test(e)?a="m4a":/\.ogg$/i.test(e)||/\.oga$/i.test(e)?a="oga":/\.ogv$/i.test(e)?a="ogv":/\.webm$/i.test(e)&&(a="webmv"),a},u=function(e){var a="",o="";if(s(e))for(var t in e)e.hasOwnProperty(t)&&(a+=o+t,o=",");return r&&console.log('getSupplied(): Generated: supplied = "'+a+'"'),a};e.player("jplayer",{_canPlayType:function(e,a){var o,t=e.toLowerCase(),r={media:{},options:{}},i=!1;if("video"!==t&&"audio"!==t&&("string"==typeof a?/^http.*/i.test(a)&&(o=c(a),o&&(r.media[o]=a,r.options.solution=n,r.options.supplied=o)):r=a,s(r)&&s(r.media))){s(r.options)||(r.options={}),r.options.solution||(r.options.solution=n),r.options.supplied||(r.options.supplied=u(r.media));for(var l=r.options.solution.toLowerCase().split(","),p=r.options.supplied.toLowerCase().split(","),y=0;y<l.length;y++)for(var f,m=l[y].replace(/^\s+|\s+$/g,""),v="html"===m,g="flash"===m,P=0;P<p.length;P++)if(o=p[P].replace(/^\s+|\s+$/g,""),d[o]){!f&&v&&(f=document.createElement(d[o].media));var h=!!(f&&f.canPlayType&&f.canPlayType(d[o].codec)),j=h&&v,C=d[o].flashCanPlay&&g;(j||C)&&(i={html:j,type:o},y=l.length,P=p.length)}}return i},_setup:function(){var d,p,y=this,f="unknown",m={},v={},g=!1,P=0,h=null,j=!1,C=null,w=function(){g?(r&&console.log("Dispatched event : durationchange : "+P),y.dispatchEvent("durationchange")):(r&&console.log("DELAYED EVENT (!ready) : durationchange : "+P),clearTimeout(h),h=setTimeout(w,250))},T=function(){var e=function(e){e.jPlayer.status.duration!==P&&(P=e.jPlayer.status.duration,w())},a=function(e){j||100!==e.jPlayer.status.seekPercent||(j=!0,setTimeout(function(){r&&console.log("Trigger : canplaythrough"),p._trigger($.jPlayer.event.canplaythrough)},0))};d.bind($.jPlayer.event.loadstart,function(){setTimeout(function(){r&&console.log("Trigger : loadeddata"),p._trigger($.jPlayer.event.loadeddata)},0)}).bind($.jPlayer.event.progress,function(o){e(o),a(o)}).bind($.jPlayer.event.timeupdate,function(o){e(o),a(o)}).bind($.jPlayer.event.play,function(){setTimeout(function(){r&&console.log("Trigger : playing"),p._trigger($.jPlayer.event.playing)},0)}),r&&console.log("Created CUSTOM event handlers for FLASH")},b=function(){!function(a){d=a("#"+y.id),"string"==typeof y.src?(f=c(y.src),m[f]=y.src,v.supplied=f,v.solution=n):s(y.src)&&(m=s(y.src.media)?y.src.media:{},v=s(y.src.options)?y.src.options:{},v.solution=v.solution||n,v.supplied=v.supplied||u(y.src.media)),v.swfPath=v.swfPath||t,d.bind(a.jPlayer.event.ready,function(e){e.jPlayer.flash.used&&T(),a(this).jPlayer("setMedia",m).jPlayer("load")});var o=a.jPlayer.reservedEvent+" loadeddata durationchange",i=o.split(/\s+/g),l=function(e){d.bind(a.jPlayer.event[e],function(a){r&&console.log("Dispatched event: "+e+(a&&a.jPlayer?" ("+a.jPlayer.status.currentTime+"s)":"")),y.dispatchEvent(e)}),r&&console.log("Created event handler for: "+e)};for(var h in a.jPlayer.event)if(a.jPlayer.event.hasOwnProperty(h)){var j=!0;for(var b in i)if(i.hasOwnProperty(b)&&i[b]===h){j=!1;break}j?l(h):r&&console.log("Skipped auto event handler creation for: "+h)}d.bind(a.jPlayer.event.loadeddata,function(e){r&&console.log("Dispatched event: loadeddata"+(e&&e.jPlayer?" ("+e.jPlayer.status.currentTime+"s)":"")),y.dispatchEvent("loadeddata"),g=!0}),r&&console.log("Created CUSTOM event handler for: loadeddata"),d.bind(a.jPlayer.event.durationchange,function(e){P=e.jPlayer.status.duration,w()}),r&&console.log("Created CUSTOM event handler for: durationchange"),d.bind(a.jPlayer.event.error,function(e){C=e.jPlayer.error,C.code=C.type===a.jPlayer.error.URL?4:0,r&&console.log("Dispatched event: error"),r&&console.dir(C),y.dispatchEvent("error")}),r&&console.log("Created CUSTOM event handler for: error"),e.player.defineProperty(y,"error",{set:function(){return C},get:function(){return C}}),e.player.defineProperty(y,"currentTime",{set:function(e){return p.status.paused?d.jPlayer("pause",e):d.jPlayer("play",e),e},get:function(){return p.status.currentTime}}),e.player.defineProperty(y,"duration",{set:function(){return g?P:0/0},get:function(){return g?P:0/0}}),e.player.defineProperty(y,"muted",{set:function(e){return d.jPlayer("mute",e),p.options.muted},get:function(){return p.options.muted}}),e.player.defineProperty(y,"volume",{set:function(e){return d.jPlayer("volume",e),p.options.volume},get:function(){return p.options.volume}}),e.player.defineProperty(y,"paused",{set:function(){return p.status.paused},get:function(){return p.status.paused}}),y.play=function(){d.jPlayer("play")},y.pause=function(){d.jPlayer("pause")},d.jPlayer(v),p=d.data("jPlayer")}(jQuery)},E=function(){jQuery.jPlayer?b():l?setTimeout(E,250):(l=!0,e.getScript(o,function(){l=!1,b()}))},S=function(){window.jQuery?E():i?setTimeout(S,250):(i=!0,e.getScript(a,function(){i=!1,E()}))};S()},_teardown:function(){jQuery("#"+this.id).jPlayer("destroy")}})}(Popcorn);