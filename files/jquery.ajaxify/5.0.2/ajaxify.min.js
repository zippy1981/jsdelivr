function getRootUrl(){var e=window.location.protocol+"//"+(window.location.hostname||window.location.host);if(window.location.port||!1)e+=":"+window.location.port;return e+="/",e}String.prototype.iO=function(e){return this.toString().indexOf(e)+1};(function(e){e.fn.hoverIntent=function(t,n,r){var i={interval:100,sensitivity:7,timeout:0};if(typeof t==="object"){i=e.extend(i,t)}else{if(e.isFunction(n)){i=e.extend(i,{over:t,out:n,selector:r})}else{i=e.extend(i,{over:t,out:t,selector:n})}}var s,o,u,f;var l=function(e){s=e.pageX;o=e.pageY};var c=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(u-s)+Math.abs(f-o)<i.sensitivity){e(n).off("mousemove.hoverIntent",l);n.hoverIntent_s=1;return i.over.apply(n,[t])}else{u=s;f=o;n.hoverIntent_t=setTimeout(function(){c(t,n)},i.interval)}};var h=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=0;return i.out.apply(t,[e])};var p=function(t){var n=jQuery.extend({},t);var r=this;if(r.hoverIntent_t){r.hoverIntent_t=clearTimeout(r.hoverIntent_t)}if(t.type=="mouseenter"){u=n.pageX;f=n.pageY;e(r).on("mousemove.hoverIntent",l);if(r.hoverIntent_s!=1){r.hoverIntent_t=setTimeout(function(){c(n,r)},i.interval)}}else{e(r).off("mousemove.hoverIntent",l);if(r.hoverIntent_s==1){r.hoverIntent_t=setTimeout(function(){h(n,r)},i.timeout)}}};return this.on({"mouseenter.hoverIntent":p,"mouseleave.hoverIntent":p},i.selector)}})(jQuery);var l=0,pass=0,api=window.history&&window.history.pushState&&window.history.replaceState,docType=/<\!DOCTYPE[^>]*>/i,tagso=/<(html|head|body|title|meta|script|link)([\s\>])/gi,tagsc=/<\/(html|head|body|title|meta|script|link)\>/gi,div12='<div class="ajy-$1"$2',linki='<link rel="stylesheet" type="text/css" href="*" />',scri='<script type="text/javascript" src="*" />',linkr='link[href*="!"]',scrr='script[src*="!"]';(function(e){var t=function(t){var n=window.console;var r=e.extend({verbosity:0},t);var i=r.verbosity;this.a=function(e){if(l<i&&n)n.log(e)}};e.log=function(n,r){if(!e.log.o)e.log.o=new t(r);return e.log.o.a(n)}})(jQuery);(function(e){var t=function(){var t=false;this.a=function(n){if(!n){return t}if(typeof n==="string"){if(n==="f"){e.pages("f");e.log("Cache flushed")}else t=e.pages(e.memory(n));return t}if(typeof n==="object"){t=n;return t}}};e.cache=function(n){if(!e.cache.o)e.cache.o=new t;return e.cache.o.a(n)}})(jQuery);(function(e){var t=function(t){var n=false;var r=e.extend({memoryoff:false},t);var i=r.memoryoff;this.a=function(e){n=i;if(!e||n===true)return false;if(n===false)return e;if(n.iO(", ")){n=n.split(", ");if(n.iO(e))return false;else return e}return e==n?false:e}};e.memory=function(n,r){if(!e.memory.o)e.memory.o=new t(r);return e.memory.o.a(n)}})(jQuery);(function(e){var t=function(){var e=[];this.a=function(t){if(typeof t==="string"){if(t==="f")e=[];else for(var n=0;n<e.length;n++)if(e[n][0]==t)return e[n][1]}if(typeof t==="object"){e.push(t)}if(typeof t==="boolean"){return false}}};e.pages=function(n){if(!e.pages.o)e.pages.o=new t;return e.pages.o.a(n)}})(jQuery);(function(e){var t=function(){function t(t,n){pass++;i(n);e.scripts(t);e.scripts("s");e.scripts("a");return e.scripts("c")}function n(t,n,r,i){if(t.iO("#"))t=t.split("#")[0];if(r||!e.cache(t))return s(t,n,r,i);if(n)n()}function r(t,n){n.find(".ajy-script").each(function(){if(!e(this).attr("src"))e(this).replaceWith('<script type="text/javascript">'+e(this).text()+"</script>");else e(this).replaceWith(scri.replace("*",e(this).attr("src")))});t.html(n.html())}function i(t){if(e.cache())t.each(function(){r(e(this),e.cache().find("#"+e(this).attr("id")))})}function s(t,n,r,i){var s=e.ajax({url:t,type:r?"POST":"GET",data:r?r.data:null,success:function(r){if(!r||!o(s)){if(!i)location.href=t}e.cache(e(u(r)));e.pages([t,e.cache()]);if(n)n()},error:function(r,i,s){try{e.log("Response text : "+r.responseText);e.cache(e(u(r.responseText)));e.pages([t,e.cache()]);if(n)n(s)}catch(o){}}})}function o(e){var t;return t=e.getResponseHeader("Content-Type"),t&&(t.iO("text/html")||t.iO("text/xml"))}function u(t){return e.trim(a(t))}function a(e){return String(e).replace(docType,"").replace(tagso,div12).replace(tagsc,"</div>")}this.a=function(r,i,s){if(!r){return e.cache()}if(r.iO("/")){return n(r,i,s)}if(r==="+"){return n(i,s,false,true)}if(r==="-"){return t(i,s)}if(e.cache())return e.cache().find(".ajy-"+r)}};e.getPage=function(n,r,i){if(!e.getPage.o)e.getPage.o=new t;return e.getPage.o.a(n,r,i)}})(jQuery);(function(e){var t=function(t){function s(t){if(!api||!r)return false;e.scripts("i",t);e.cache(0,t);e.memory(0,t);return true}var n=e.extend({pluginon:true,deltas:true,fn:e.getPage},t);var r=n.pluginon,i=n.deltas;this.a=function(t,r){if(!r){e(function(){if(s(n)){t.pronto(0,n);if(i)e.scripts("1")}})}else return e().pronto(r)}};e.fn.ajaxify=function(n){var r=e(this);if(!e.fn.ajaxify.o)e.fn.ajaxify.o=new t(n);return typeof n=="string"?e.fn.ajaxify.o.a(r,n):e.fn.ajaxify.o.a(r)}})(jQuery);(function($){var Scripts=function(options){function _allstyle(e){if(!style||!e)return;$("head").find("style").remove();e.each(function(){var e=$(this).text();_addstyle(e)})}function _alltxts(e){e.each(function(){var e=$(this).text();if(!e.iO(").ajaxify(")&&(inline||$(this).hasClass("ajaxy")||_inline(e)))_addtext(e)})}function _addtext(t){try{$.globalEval(t)}catch(e){try{eval(t)}catch(e){$.log("Error in inline script : "+t+"\nError code : "+e)}}}function _addstyle(e){$("head").append('<style type="text/css">'+e+"</style>")}function _inline(e){var t=inlinehints;if(t){t=t.split(", ");for(var n=0;n<t.length;n++)if(e.iO(t[n]))return true}}function _addScripts(e,t,n){t.c.addAll(e,"href",n);t.s.addAll(e,"src",n)}var $s=$();var settings=$.extend({canonical:true,inline:true,inlinehints:false,style:true},options);var canonical=settings.canonical,inline=settings.inline,inlinehints=settings.inlinehints,style=settings.style;this.a=function(e){if(e==="i"){return true}if(e==="s"){return _allstyle($s.y)}if(e==="1"){$.detScripts($s);return _addScripts(false,$s,settings)}if(e==="a"){return _alltxts($s.t)}if(e==="c"){if(canonical&&$s.can)return $s.can.attr("href");else return false}$.detScripts($s);_addScripts(e,$s,settings)}};$.scripts=function(e,t){if(!$.scripts.o)$.scripts.o=new Scripts(t);return $.scripts.o.a(e)}})(jQuery);(function(e){var t=function(){function i(t,n){return e(t).filter(function(){return e(this).attr("rel").iO(n)})}var t,n,r;this.a=function(s){t=pass?e.getPage("head"):e("head");n=t.find(pass?".ajy-link":"link");r=pass?e.getPage("script"):e("script");s.c=i(n,"stylesheet");s.y=t.find("style");s.can=i(n,"canonical");s.s=r.filter(function(){return e(this).attr("src")});s.t=r.filter(function(){return!e(this).attr("src")})}};e.detScripts=function(n){if(!e.detScripts.o)e.detScripts.o=new t;return e.detScripts.o.a(n)}})(jQuery);(function(e){var t=function(t){function l(t,n){if(f)return false;t.each(function(){p(e(this)[0],n)});return true}function c(t,n){t.each(function(){if(e(this).attr("data-class")=="always"){p(e(this).attr(n),n);e(this).remove()}})}function h(e,t){for(var n=0;n<e.length;n++)if(e[n][1]===0)p(e[n][0],t)}function p(t,n){e("head").append((n=="href"?linki:scri).replace("*",t))}function d(t,n,r,i){var s;t.each(function(){s=[e(this).attr(i),0];n.push(s);if(!pass)r.push(s)})}function v(e,t){for(var n=0;n<e.length;n++){e[n][1]=2;if(m(e[n][0],t))e[n][1]=1}}function m(e,t){if(e)for(var n=0;n<t.length;n++)if(t[n][0]==e){t[n][1]=1;return true}}function g(e,t){for(var n=0;n<e.length;n++)if(e[n][1]==2&&e[n][0])y(e[n][0],t)}function y(t,n){e((n=="href"?linkr:scrr).replace("!",t)).remove()}var n,r,i=[],s=[],o=[],u=[];var a=e.extend({},t);var f=a.deltas;this.a=function(e,t,a){if(!e.length)return;if(a=="href"){n=i;r=s}else{n=o;r=u}if(l(e,a))return true;if(pass)c(e,a);if(t)return h(r,a);r=[];d(e,r,n,a);if(pass){v(n,r);g(n,a);h(r,a);n=r.slice()}if(a=="href"){i=n;s=r}else{o=n;u=r}}};e.fn.addAll=function(n,r,i){var s=e(this);if(!e.fn.addAll.o)e.fn.addAll.o=new t(i);return e.fn.addAll.o.a(s,n,r)}})(jQuery);(function(e){var t=function(t){function w(){f.$body=e("body");r=window.location.href;_();n.on("popstate",D);if(m){e(l).hoverIntent(S,E);e(l).on("touchstart",S)}f.$body.on("click.pronto",l,L);k()}function E(){}function S(t){s=null;var n=t.currentTarget;if(j(n))return false;if(r==n.href)return false;var i=function(){if(g===true)return false;if(!x(n)&&(g===false||!e(n).closest(g).length))L(t,true)};b("+",n.href,i)}function x(t){var n=false;o.each(function(){try{if(e(t).parents("#"+e(this).attr("id")).length>0)n=true}catch(r){alert(r)}});return n}function T(e,t){if(e.indexOf("?")>0){e=e.substring(0,e.indexOf("?"))}return e+"?"+t}function N(){var t=u.serialize();var n=e("input[name][type=submit]",u);if(n.length===0)return t;var r=n.attr("name")+"="+n.val();if(t.length>0){t+="&"+r}else{t=r}return t}function C(e){return e.substring(0,a.length)===a||!e.iO(":")}function k(t){if(!v)return false;var i;i=t?o:e("body");i.find(v).filter(function(){return C(e(this).attr("action"))}).submit(function(t){u=e(t.target);if(!u.is("form")){u=u.filter("input[type=submit]").parents("form:first");if(u.length===0){return true}}var i=N();var o="get",a=u.attr("method");if(a.length>0&&a.toLowerCase()=="post")o="post";var f,l=u.attr("action");if(l!==null&&l.length>0)f=l;else f=r;if(o=="get")f=T(f,i);else{s={};s.data=i}n.trigger("pronto.submit",f);A(f);return false})}function L(e,t){var n=e.currentTarget;s=null;if(F(e)||j(n))return;if(I(n)){_();return true}e.preventDefault();e.stopPropagation();if(r==n.href){_()}else A(e,t)}function A(t,r){var i=typeof t!=="string"?t.currentTarget.href:t;n.trigger("pronto.request",t);var o=function(i){if(i){e.log("Error : "+i);n.trigger("pronto.error",i)}O(t,true,r)};b(i,o,s)}function O(e,t,n){if(i!==null){clearTimeout(i);i=null}i=setTimeout(function(){M(e,t,n)},d)}function M(t,n,r){var i=function(){H(t,n,r)};if(c)o.fadeOut(c,i);else if(p){o.each(function(){var t=e("#"+e(this).attr("id"));t.data("oldwidth",t.width());t.animate({width:0,opacity:0,marginRight:t.width()},p,i)})}else i()}function _(){history.replaceState({url:r},"state-"+r,r)}function D(e){var t=e.originalEvent.state;if(t!==null&&t.url!==r){n.trigger("pronto.request",e);var i=function(){O(e,false,false)};b(t.url,i)}}function P(e,t){r=e;if(t){history.pushState({url:r},"state-"+r,r)}else{_()}}function H(t,r,i){var u,a;u=typeof t!=="string"?t.currentTarget.href||t.originalEvent.state.url:t;n.trigger("pronto.load",t);B(u);_();e("title").html(b("title").html());a=b("-",s,o);if(c)o.fadeIn(c);if(h){var f=o;f.css({opacity:1}).effect("scale",{from:{width:f.width()/2,height:f.height()/2},percent:100},h)}else if(p){o.each(function(){var t=e("#"+e(this).attr("id"));t.animate({width:t.data("oldwidth"),opacity:1,marginRight:0},p)})}if(a&&a!=u&&!u.iO("#")&&!u.iO("?"))u=a;k(true);if(u.iO("#")&&i!==true){e("html, body").animate({scrollTop:e("#"+u.split("#")[1]).offset().top},500)}P(u,r);n.trigger("pronto.render",t);if(y)y()}function B(e){if(typeof window.ga!=="undefined")window.ga("send","pageview",e)}function j(e){return window.location.protocol!==e.protocol||window.location.host!==e.host}function F(e){return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey}function I(e){return e.hash&&e.href.replace(e.hash,"")===window.location.href.replace(location.hash,"")||e.href===window.location.href+"#"}var n=e(window),r="",i=null,s=null,o,u,a=getRootUrl();var f=e.extend({selector:"a:not(.no-ajaxy)",fade:0,pop:0,squeeze:0,requestDelay:0,forms:"form:not(.no-ajaxy)",prefetch:true,previewoff:true,fn:false,cb:0},t);var l=f.selector,c=f.fade,h=f.pop,p=f.squeeze,d=f.requestDelay,v=f.forms,m=f.prefetch,g=f.previewoff,y=f.cb,b=f.fn;this.a=function(e,t){if(!t){o=e;w();return e}else if(t.iO("/")){A(t,true);return"OK"}}};e.fn.pronto=function(n,r){var i=e(this);if(!e.fn.pronto.o)e.fn.pronto.o=new t(r);return e.fn.pronto.o.a(i,n)}})(jQuery);jQuery.log("Ajaxify loaded...",{verbosity:2})
