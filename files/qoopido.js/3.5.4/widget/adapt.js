/*!
* Qoopido.js library v3.5.4, 2014-9-30
* https://github.com/dlueth/qoopido.js
* (c) 2014 Dirk Lueth
* Dual licensed under MIT and GPL
*/
!function(t){window.qoopido.register("widget/adapt",t,["../dom/element","../dom/element/emerge","../component/sense"])}(function(t,e,i,n,a,o,r){"use strict";function l(t){return this.setStyle("paddingBottom",100*t+"%")}function c(t,e){var i=this;t.mql=u.create(e).on("matched dematched",function(){d.call(i)})}function d(){for(var t,e,i,n,o,c,d=this,s=0;(t=d._candidates[s])!==r;s++)if(!t.mql||t.mql.matches&&t.mql.matches()===!0){l.call(d,t.ratio),d._visible===!0&&(e=d._image||(d._image=p.create("<img />",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",alt:d._caption},{position:"absolute",display:"block",width:"100%",height:"100%",top:"0",left:"0",margin:"0",padding:"0"}).appendTo(d)),i=e.element.getBoundingClientRect(),n=Math.round(i.width),o=Math.round(i.width*t.ratio),c=t.url.replace(m,"$1."+n+"x"+o+"@"+(a.devicePixelRatio||1)+".$2"),e.setAttribute("src",c));break}}var s,m=new RegExp("(.+?).(jpg|jpeg|png|gif|webp)$"),p=t["dom/element"],u=t["component/sense"],g=[];return s=t["dom/element/emerge"].extend({_visible:!1,_candidates:null,_image:null,_caption:null,_constructor:function(t,e){var i,n,a,o,m=this,p=0;for(s._parent._constructor.call(m,t,e),m.setStyles({position:"relative",display:"block",width:"100%",height:0,padding:0}),i=parseFloat(m.getAttribute("data-ratio")||1),n=m.find('[itemprop="source"],[itemprop="contentUrl"]'),m._candidates=[],m._caption=(o=m.find('[itemprop="caption"]')[0])?o.getAttribute("content"):null,l.call(m,i);(a=n[p])!==r;p++){var u=parseFloat(a.getAttribute("data-ratio")||i),A=a.getAttribute("data-media")||null;m._candidates.push({ratio:u,url:a.getAttribute("content"),mql:A}),A&&c.call(m,m._candidates[m._candidates.length-1],A)}m.on("emerged demerged",function(t){m._visible="emerged"===t.type?!0:!1,d.call(m)}),g.push(m)}}),p.create(a).on("resize orientationchange",function(){for(var t,e=0;(t=g[e])!==r;e++)d.call(t)}),s});