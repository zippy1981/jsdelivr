/*! CSS Critic - v0.6.0 - 2015-01-31
* http://www.github.com/cburgmer/csscritic
* Copyright (c) 2015 Christoph Burgmer, Copyright (c) 2012, 2013 ThoughtWorks, Inc.; Licensed MIT */
/* Integrated dependencies:
 * imagediff.js (MIT License),
 * ayepromise (BSD License & WTFPL),
 * url (MIT License),
 * CSSOM (MIT License),
 * xmlserializer (MIT License),
 * css-font-face-src (BSD License),
 * inlineresources (MIT License),
 * rasterizeHTML.js (MIT License) */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.csscritic=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c='#csscritic_basichtmlreporter{font-family:sans-serif;font-size:13px}#csscritic_basichtmlreporter .timeTaken{float:right;min-height:1.5em}#csscritic_basichtmlreporter .comparison{padding:8px;margin:5px 0;clear:both;transition:background-color 1s}#csscritic_basichtmlreporter .comparison:after{content:"";display:block;clear:both}#csscritic_basichtmlreporter .passed.comparison{background-color:#00FF7F}#csscritic_basichtmlreporter .failed.comparison{background-color:#FE3F44}#csscritic_basichtmlreporter .referenceMissing.comparison{background-color:#FFFF73}#csscritic_basichtmlreporter .error.comparison{background-color:#BE2F33}#csscritic_basichtmlreporter .comparison .pageUrl{color:#000}#csscritic_basichtmlreporter .comparison .parameters,#csscritic_basichtmlreporter .comparison .parameters dd,#csscritic_basichtmlreporter .comparison .parameters dt{display:inline-block;margin:0}#csscritic_basichtmlreporter .comparison .parameters{margin-left:1.5em;color:#444}#csscritic_basichtmlreporter .comparison .parameters dt{font-style:italic}#csscritic_basichtmlreporter .comparison .parameters dt::after{content:":"}#csscritic_basichtmlreporter .comparison .parameters dd{margin-left:.5em;margin-right:.7em}#csscritic_basichtmlreporter .comparison .parameters dd::before{content:"\'"}#csscritic_basichtmlreporter .comparison .parameters dd::after{content:"\',"}#csscritic_basichtmlreporter .comparison .parameters dd:last-child::after{content:"\'"}#csscritic_basichtmlreporter .comparison .status{float:right}#csscritic_basichtmlreporter .resizable .currentPageResizableCanvas{resize:both;overflow:hidden;padding:0 10px 10px 0}#csscritic_basichtmlreporter .currentPageImageContainer{width:100%;height:100%;overflow:hidden;resize:none}@media (min--moz-device-pixel-ratio:2){#csscritic_basichtmlreporter .currentPageImageContainer img{width:50%;-moz-transform:scale(2);-moz-transform-origin:0 0;transform:scale(2);transform-origin:0 0}}#csscritic_basichtmlreporter .currentPageSection,#csscritic_basichtmlreporter .referenceSection{display:inline-block;vertical-align:top;margin-right:20px}#csscritic_basichtmlreporter .currentPageImageContainer,#csscritic_basichtmlreporter .differenceCanvasContainer canvas,#csscritic_basichtmlreporter .referenceImageContainer img{border:1px solid #000}#csscritic_basichtmlreporter .currentPageImageContainer,#csscritic_basichtmlreporter .referenceImageContainer img{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAKUlEQVQ4jWNYt27df2Lwo0ePiMIMowaOGjgsDSRWIbEWjxo4auCwNBAAenk4PB4atggAAAAASUVORK5CYII=) -5px -5px}#csscritic_basichtmlreporter .differenceCanvasSection{margin:8px 0 20px}#csscritic_basichtmlreporter .differenceCanvasContainer{display:inline-block}#csscritic_basichtmlreporter .differenceCanvasContainer .highlightedDifferenceCanvas,#csscritic_basichtmlreporter .differenceCanvasContainer:hover .differenceCanvas{display:none}#csscritic_basichtmlreporter .differenceCanvasContainer:hover .highlightedDifferenceCanvas{display:block}#csscritic_basichtmlreporter .currentPageSection,#csscritic_basichtmlreporter .differenceCanvasContainer{position:relative}#csscritic_basichtmlreporter .comparison:hover .differenceCanvasContainer:after,#csscritic_basichtmlreporter .comparison:hover .resizable.currentPageSection:after{position:absolute;padding:4px;white-space:nowrap;background-color:#000;opacity:.55;color:#fff;border-radius:5px}#csscritic_basichtmlreporter .comparison:hover .differenceCanvasContainer:after{content:"< Hover over difference image to highlight subtle changes";margin-right:-5px;top:0;right:0;-moz-transform:translateX(100%);-ms-transform:translateX(100%);-o-transform:translateX(100%);-webkit-transform:translateX(100%);transform:translateX(100%)}#csscritic_basichtmlreporter .comparison:hover .resizable.currentPageSection:after{content:"< Drag lower right corner to resize";margin-right:-5px;margin-bottom:10px;bottom:0;right:0;-moz-transform:translateX(100%) translateY(100%);-ms-transform:translateX(100%) translateY(100%);-o-transform:translateX(100%) translateY(100%);-webkit-transform:translateX(100%) translateY(100%);transform:translateX(100%) translateY(100%)}#csscritic_basichtmlreporter .currentPageSection:hover:after,#csscritic_basichtmlreporter .differenceCanvasContainer:hover:after{display:none}#csscritic_basichtmlreporter .saveHint button,#csscritic_basichtmlreporter .updateHint button{font-size:inherit;font-weight:inherit;line-height:inherit;width:auto;overflow:visible;border:1px solid #AAA;border-radius:4px;background:#00FF7F;cursor:pointer;margin:0 3px;padding:1px}#csscritic_basichtmlreporter .saveHint button:hover,#csscritic_basichtmlreporter .updateHint button:hover{background-color:#0C6}#csscritic_basichtmlreporter .saveHint button:active,#csscritic_basichtmlreporter .updateHint button:active{padding:2px 0 0 2px;position:relative;top:1px}#csscritic_basichtmlreporter .errorMsg:before,#csscritic_basichtmlreporter .loadErrors:before,#csscritic_basichtmlreporter .saveHint:before,#csscritic_basichtmlreporter .updateHint:before{content:"⚠";font-size:25px;padding-right:5px}#csscritic_basichtmlreporter .errorMsg,#csscritic_basichtmlreporter .loadErrors,#csscritic_basichtmlreporter .saveHint,#csscritic_basichtmlreporter .updateHint{margin:8px 0;font-weight:700}#csscritic_basichtmlreporter .finished:after{content:"✓";font-size:20px;color:#0C6;padding-left:5px}#csscritic_basichtmlreporter .caption{display:block;font-style:italic;line-height:13px;font-size:12px}#csscritic_basichtmlreporter .loadErrors ul{margin:4px 0}#csscritic_basichtmlreporter_tooltip{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAKUlEQVQ4jWNYt27df2Lwo0ePiMIMowaOGjgsDSRWIbEWjxo4auCwNBAAenk4PB4atggAAAAASUVORK5CYII=) -5px -5px;border:1px solid #000;max-width:400px}#csscritic_basichtmlreporter_tooltip img{width:100%}#csscritic_basichtmlreporter .browserWarning:before{content:"⚠";font-size:25px;padding-right:5px;vertical-align:middle}#csscritic_basichtmlreporter .browserWarning{position:fixed;top:0;left:0;width:100%;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#922;background-color:rgba(150,20,30,.85);color:#fff;font-size:120%;border:2px solid #000;padding:20px}.cssCriticNiceReporter{font-family:sans-serif;font-size:16px}.cssCriticNiceReporter a{text-decoration:none;color:inherit}.cssCriticNiceReporter button{padding:2px 10px;border:1px solid #000;background-color:#00c04e;font-size:inherit;font-family:inherit}.cssCriticNiceReporter button[disabled]{background-color:transparent}.cssCriticNiceReporter button:hover{background-color:#24d66c}.cssCriticNiceReporter button:not([disabled]):active{background-color:#4cec8d}.cssCriticNiceReporter .errorText{color:#591100;margin-bottom:1em}.cssCriticNiceReporter .errorText:not(:empty)::before{content:"⚠";color:#591100;font-size:1.2rem;padding-right:5px;vertical-align:middle}.cssCriticNiceReporter .errorText ul{margin:.2em 0}.cssCriticNiceReporter .errorText a{text-decoration:underline}.cssCriticNiceReporter #header{padding:15px;transition:background-color 1s}.cssCriticNiceReporter #header.pass{background-color:#00c04e}.cssCriticNiceReporter #header.fail{background-color:#ff3100}.cssCriticNiceReporter #timeTaken{float:right;padding:.5em 0 0 1em}.cssCriticNiceReporter .statusText{display:inline-block}.cssCriticNiceReporter .statusText .runAll{display:block;margin-top:.5em;text-decoration:underline}.cssCriticNiceReporter .acceptAll{display:none;margin:-4px 0 -4px 1em}.cssCriticNiceReporter .acceptAll.active{display:inline-block}.cssCriticNiceReporter .cssCriticVersion{font-size:.7rem}.cssCriticNiceReporter #progressBar{margin:.4em 0;list-style:none;padding:0}.cssCriticNiceReporter #progressBar li{display:inline-block;margin-right:-.4rem;transition:color 1s}.cssCriticNiceReporter #progressBar a{width:0;height:0;border-width:.63rem;border-style:solid;border-color:inherit;border-radius:50%;display:block}.cssCriticNiceReporter #progressBar .pending{color:grey}.cssCriticNiceReporter #progressBar .passed{color:#048337}.cssCriticNiceReporter #progressBar .failed{color:#b62705}.cssCriticNiceReporter #progressBar .error{color:#591100}.cssCriticNiceReporter #progressBar .referenceMissing{color:#ff0}.cssCriticNiceReporter #progressBar a:focus{outline:0}.cssCriticNiceReporter .comparison{background-color:#f5f5f5;padding:15px;margin:4px 0}.cssCriticNiceReporter .comparison .title{font-weight:400}.cssCriticNiceReporter .comparison.fakeTarget .title,.cssCriticNiceReporter .comparison:target .title{font-weight:700}.cssCriticNiceReporter .comparison .title .titleLink:hover{text-decoration:underline}.cssCriticNiceReporter .comparison .title .externalLink{vertical-align:top;font-size:.8rem;line-height:.6em;color:#888;display:inline-block}.cssCriticNiceReporter .comparison .title .externalLink:hover{transform:scale(1.1);transform-origin:bottom left}.cssCriticNiceReporter .comparison .parameters,.cssCriticNiceReporter .comparison .parameters dd,.cssCriticNiceReporter .comparison .parameters dt{display:inline-block;margin:0}.cssCriticNiceReporter .comparison .parameters{margin-left:1.5em;color:#444}.cssCriticNiceReporter .comparison .parameters dt{font-style:italic}.cssCriticNiceReporter .comparison .parameters dt::after{content:":"}.cssCriticNiceReporter .comparison .parameters dd{margin-left:.5em;margin-right:.7em}.cssCriticNiceReporter .comparison .parameters dd::after{content:","}.cssCriticNiceReporter .comparison .parameters dd:last-child::after{content:""}.cssCriticNiceReporter .running.comparison .imageContainer{opacity:.2}.cssCriticNiceReporter .comparison .imageContainer:empty{display:none}.cssCriticNiceReporter .comparison .imageWrapper{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAKUlEQVQ4jWNYt27df2Lwo0ePiMIMowaOGjgsDSRWIbEWjxo4auCwNBAAenk4PB4atggAAAAASUVORK5CYII=) -5px -5px}.cssCriticNiceReporter .comparison canvas,.cssCriticNiceReporter .comparison img{display:block}.cssCriticNiceReporter .comparison .changedImageContainer,.cssCriticNiceReporter .comparison .imageContainer{border:1px solid #000}.cssCriticNiceReporter .comparison .outerChangedImageContainer{margin-top:4px;display:inline-block;position:relative}.cssCriticNiceReporter .comparison .imageContainer{position:relative;display:inline-block}.cssCriticNiceReporter .comparison .imageContainer .diff{max-height:0;max-width:0;opacity:0}.cssCriticNiceReporter .failed.comparison .imageContainer:hover .diff{max-height:none;max-width:none;opacity:1;transition:opacity 1s}.cssCriticNiceReporter .failed.comparison .imageContainer:hover .imageWrapper{opacity:.5;transition:opacity 1s;position:absolute;top:0;left:0;right:0;bottom:0}.cssCriticNiceReporter .comparison .accept{vertical-align:top;position:absolute;top:0;bottom:0;right:-65px;width:50px;font-size:.7rem}.cssCriticNiceReporter .accepted.comparison .accept{font-size:1.4rem}.cssCriticNiceReporter .comparison button span{transform:rotate(-90deg);display:block}.cssCriticNiceReporter .comparison .imageContainer{opacity:1;max-height:1000000px}.cssCriticNiceReporter .accepted.comparison .imageContainer{opacity:0;max-height:0;border-width:0;transition:max-height .001s ease 1s,opacity 1s,border-width .001s ease 1s}.cssCriticNiceReporter .failed.comparison:hover .imageContainer{position:relative}.cssCriticNiceReporter .failed.comparison:hover .imageContainer::after{position:absolute;top:0;right:0;transform:translateX(100%);margin-right:-8px;padding:4px;white-space:nowrap;background-color:#000;opacity:.55;color:#fff;font-size:.9rem;border-radius:5px;content:"< Hover over reference image to highlight changes"}.cssCriticNiceReporter .failed.comparison .imageContainer:hover::after{display:none}.cssCriticNiceReporter .browserWarning::before{content:"⚠";font-size:1.2rem;padding-right:5px;vertical-align:middle}.cssCriticNiceReporter .browserWarning{position:fixed;top:0;left:0;width:100%;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:rgba(182,39,5,.85);color:#fff;font-size:1.2rem;border:2px solid #000;padding:20px}';a("/home/vagrant/csscritic/node_modules/cssify")(c),b.exports=c},{"/home/vagrant/csscritic/node_modules/cssify":4}],2:[function(b,c,d){!function(e,f){"function"==typeof a&&a.amd?a([],function(a,b,c){return e.returnExportsGlobal=f(a,b,c)}):"object"==typeof d?c.exports=f(b("ayepromise"),b("imagediff"),b("rasterizehtml"),b("../build/csscritic.concat.css")):e.csscritic=f()}(this,function(a,b,c){var d={};d.main=function(a,b,c,d,e){"use strict";var f={},g=[],h=function(a){return"string"==typeof a?{url:a}:a};f.add=function(a){g.push(h(a))};var i=function(a){return c.all(a.map(function(a){return d.readReferenceImage(a).then(function(b){return{testCase:a,referenceImage:b.image,viewport:b.viewport}},function(){return{testCase:a}})}))},j=function(a){return a.map(function(a){return{configuredComparison:a,selected:!e||e.isComparisonSelected(a)}})},k=function(a){return c.all(a.map(function(a){var c=a.selected;return b.doReportConfiguredComparison(a.configuredComparison,c)}))},l=function(c){return a.compare(c).then(function(a){return b.doReportComparison(a).then(function(){return a})})};return f.execute=function(){var a,d;return i(g).then(function(b){return a=j(b),k(a)}).then(function(){var b=a.filter(function(a){return a.selected}).map(function(a){return a.configuredComparison});return c.all(b.map(l))}).then(function(a){d=c.hasTestSuitePassed(a)}).then(function(){return b.doReportTestSuite(d)}).then(function(){return d})},f},d.regression=function(a,b,c){"use strict";var d={},e=1,f=function(a,b){b&&c.diff(a,b)},g=function(a,c){return f(a,c),b.workAroundTransparencyIssueInFirefox(a)},h=function(a,b){var d;return g(a,b).then(function(a){return b?(d=c.equal(a,b,e),d?"passed":"failed"):"referenceMissing"})},i=function(a,c,d,e,f){var g={status:a,viewport:b.clone(c),renderErrors:d};return e&&(g.pageImage=e),f&&(g.referenceImage=f),g},j=function(b,c,d){return a.render({url:b.url,hover:b.hover,active:b.active,width:c.width,height:c.height}).then(function(a){return h(a.image,d).then(function(b){return i(b,c,a.errors,a.image,d)})},function(){return i("error",c,[])}).then(function(a){return a.testCase=b,a})},k=function(a){var b=800,c=100;return{width:a.width||b,height:a.height||c}};return d.compare=function(a){var b=a.viewport;return void 0===a.referenceImage&&(b=k(a.testCase)),j(a.testCase,b,a.referenceImage)},d},d.reporting=function(a,b,c){"use strict";var d={},e=[];d.addReporter=function(a){e.push(a)};var f=function(a){return void 0===a.width&&void 0===a.height},g=function(c){var d,e;c.pageImage&&(d=c.viewport.width,e=c.viewport.height,f(c.testCase)&&(c.resizePageImage=function(b,f){return d=b,e=f,a.render({url:c.testCase.url,hover:c.testCase.hover,active:c.testCase.active,width:b,height:f}).then(function(a){return c.pageImage=a.image,a.image})}),c.acceptPage=function(){b.storeReferenceImage(c.testCase,c.pageImage,{width:d,height:e})})},h=function(a,b){return b?a.reportSelectedComparison?a.reportSelectedComparison:a.reportComparisonStarting:a.reportDeselectedComparison};return d.doReportConfiguredComparison=function(a,b){return c.all(e.map(function(c){var d=h(c,b);return d?d(a):void 0}))},d.doReportComparison=function(a){var b=c.clone(a);return g(b),c.all(e.map(function(a){return a.reportComparison?a.reportComparison(b):void 0}))},d.doReportTestSuite=function(a){return c.all(e.map(function(b){return b.reportTestSuite?b.reportTestSuite({success:a}):void 0}))},d},d.util=function(){"use strict";var b={};b.getDataURIForImage=function(a){var b=window.document.createElement("canvas"),c=b.getContext("2d");return b.width=a.naturalWidth,b.height=a.naturalHeight,c.drawImage(a,0,0),b.toDataURL("image/png")},b.getImageForUrl=function(b){var c=a.defer(),d=new window.Image;return d.onload=function(){c.resolve(d)},d.onerror=function(){c.reject()},d.src=b,c.promise};var c=function(a){var b;return b=a.indexOf("?")<0?"?":"&",a+b+"_="+Date.now()};b.ajax=function(b){var d=a.defer(),e=new XMLHttpRequest;e.onload=function(){200===e.status||0===e.status?d.resolve(e.response):d.reject()},e.onerror=function(){d.reject()};try{e.open("get",c(b),!0),e.send()}catch(f){d.reject()}return d.promise},b.loadAsBlob=function(b){var d=a.defer(),e=new XMLHttpRequest;e.onload=function(){200===e.status||0===e.status?d.resolve(e.response):d.reject()},e.onerror=function(){d.reject()};try{e.open("get",c(b),!0),e.responseType="blob",e.send()}catch(f){d.reject()}return d.promise},b.loadBlobAsText=function(b){var c=a.defer(),d=new FileReader;return d.onload=function(a){c.resolve(a.target.result)},d.onerror=function(){c.reject()},d.readAsText(b),c.promise},b.loadBlobAsDataURI=function(b){var c=a.defer(),d=new FileReader;return d.onload=function(a){c.resolve(a.target.result)},d.onerror=function(){c.reject()},d.readAsDataURL(b),c.promise},b.excludeKey=function(a,b){var c={};return Object.keys(a).forEach(function(d){d!==b&&(c[d]=a[d])}),c},b.serializeMap=function(a){var b=[],c=Object.keys(a);return c.sort(),c.forEach(function(c){b.push(c+"="+a[c])}),b.join(",")},b.clone=function(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};var d=function(b){var c=a.defer();return c.resolve(b),c.promise};return b.workAroundTransparencyIssueInFirefox=function(a){var c;try{c=b.getDataURIForImage(a)}catch(e){return d(a)}return b.getImageForUrl(c)},b.hasTestSuitePassed=function(a){var b=a.filter(function(a){return"passed"!==a.status}),c=0===b.length;return c},b.all=function(b){var c=a.defer(),d=b.length,e=[],f=function(a,b){d-=1,e[b]=a,0===d&&c.resolve(e)};return 0===b.length?(c.resolve([]),c.promise):(b.forEach(function(a,b){a&&a.then?a.then(function(a){f(a,b)},function(a){c.reject(a)}):f(a,b)}),c.promise)},b},d.basicHTMLReporter=function(a,b,c){"use strict";var d={},e=function(a){return a.toString().replace(/&/g,"&amp;").replace(new RegExp("<"),"&lt;","g").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},f=function(a,b){return a.replace(/\{\{(\w+)\}\}/g,function(a,c){var d=b[c]||"";return e(d)})},g=function(a){var b=c.createElement("body");return b.insertAdjacentHTML("beforeend",a),b.firstChild},h=function(a){return parseInt(a,10)},i=function(a,b){var c=h(a.style.width),d=h(a.style.height);a.onmouseup=function(){var e=h(a.style.width),f=h(a.style.height);(c!==e||d!==f)&&(c=e,d=f,b(c,d))}},j=function(){var a="csscritic_basichtmlreporter",b=c.getElementById(a);return null===b&&(b=g(f('<div id="{{reporterId}}"><div class="timeTaken"></div></div>',{reporterId:a})),c.getElementsByTagName("body")[0].appendChild(b)),b},k=function(a,b){var c,d,e,h="";return b&&(h='<span class="caption">Page</span>'),c=g(f('<div class="currentPageSection">'+h+'<div class="currentPageResizableCanvas" style="width: {{width}}px; height: {{height}}px;"><div class="currentPageImageContainer"></div></div></div>',{width:a.pageImage.width,height:a.pageImage.height})),d=c.querySelector(".currentPageResizableCanvas"),e=c.querySelector(".currentPageImageContainer"),e.appendChild(a.pageImage),a.resizePageImage&&(c.classList.add("resizable"),i(d,function(b,c){var f=a.pageImage;a.resizePageImage(b,c).then(function(a){d.style.width=a.width+"px",d.style.height=a.height+"px",e.removeChild(f),e.appendChild(a)})})),c},l=function(a){var b=g('<div class="referenceSection"><span class="caption">Reference</span><div class="referenceImageContainer"></div></div>'),c=b.querySelector(".referenceImageContainer");return c.appendChild(a.referenceImage),b},m=function(a,b){var c=g(f('<div class="{{className}}">{{prefix}}<button>{{buttonCaption}}</button>{{postfix}}</div>',b)),d=c.querySelector("button");return d.onclick=function(){a.acceptPage(),c.classList.add("finished")},c},n=function(a){return m(a,{className:"saveHint",prefix:"",buttonCaption:"Accept the rendered page",postfix:"and save this as later reference."})},o=function(a){return m(a,{className:"updateHint",prefix:"You can",buttonCaption:"accept the rendered page",postfix:"thus making it the new reference."})},p=function(a){var b=a.map(function(a){return f("<li>{{value}}</li>",{value:a})});return"<ul>"+b.join("\n")+"</ul>"},q=function(a){return g('<div class="loadErrors">Had the following errors rendering the page:'+p(a.renderErrors)+"Make sure that resource paths lie within the same origin as this document.</div>")},r=function(a){return g(f("<div class=\"errorMsg\">The page '{{url}}' could not be rendered. Make sure the path lies within the same origin as this document.</div>",{url:a.testCase.url}))},s=function(a){var c=g('<div class="differenceCanvasSection"><div class="differenceCanvasContainer"></div></div>'),d=c.querySelector(".differenceCanvasContainer"),e=b.getDifferenceCanvas(a.pageImage,a.referenceImage),f=b.getHighlightedDifferenceCanvas(a.pageImage,a.referenceImage);return e.className="differenceCanvas",d.appendChild(e),f.className="highlightedDifferenceCanvas",d.appendChild(f),c},t={passed:"passed",failed:"failed",referenceMissing:"missing reference",error:"error"},u=function(a){return g(f('<span class="status">{{status}}</span>',{status:t[a.status]}))},v=function(a){var b=c.getElementById(a);return b||(b=g(f('<div id="{{id}}" style="display: none; position: absolute;"></div>',{id:a})),c.getElementsByTagName("body")[0].appendChild(b)),b},w=function(a){for(;a.hasChildNodes();)a.removeChild(a.lastChild)},x=function(a,b){a.onmouseover=function(a){var c=v("csscritic_basichtmlreporter_tooltip"),d=b.referenceImage;w(c),c.style.display="block",c.style.top=a.pageY+10+"px",c.style.left=a.pageX+10+"px",c.appendChild(d)},a.onmousemove=function(a){var b=v("csscritic_basichtmlreporter_tooltip");b.style.top=a.pageY+10+"px",b.style.left=a.pageX+10+"px"},a.onmouseout=function(){var a=v("csscritic_basichtmlreporter_tooltip");a.style.display="none"}},y=function(a,b){a.className+=" "+b.status,a.appendChild(u(b)),b.renderErrors&&b.renderErrors.length&&a.appendChild(q(b)),"failed"===b.status?(a.appendChild(s(b)),a.appendChild(k(b,!0)),a.appendChild(l(b)),a.appendChild(o(b))):"referenceMissing"===b.status?(a.appendChild(n(b)),a.appendChild(k(b))):"error"===b.status?a.appendChild(r(b)):"passed"===b.status&&x(a,b)},z=function(b){var c=a.excludeKey(b.testCase,"url"),d=Object.keys(c);return d.length?(d.sort(),'<dl class="parameters">'+d.map(function(a){return f("<dt>{{key}}</dt><dd>{{value}}</dd>",{key:a,value:c[a]})}).join("\n")+"</dl>"):""},A=function(a){return g(f('<div class="comparison running"><a href="{{url}}" class="pageUrl">{{url}}</a>'+z(a)+"</div>",{url:a.testCase.url}))},B=function(a,b){b.className=b.className.replace(" running",""),y(b,a)},C=function(a,b){for(a+="";a.length<b;)a="0"+a;return a},D=function(a){var b=Math.floor(a/1e3),c=a%1e3;return b+"."+C(c,3)},E=function(){var a=Date.now();return{stop:function(){var b=null===a?0:Date.now()-a;return b}}},F=function(a){var b=j(),c=null===a?0:a.stop(),d=b.getElementsByClassName("timeTaken")[0];d.textContent="finished in "+D(c)+"s"},G=function(){b.supportsReadingHtmlFromCanvas(function(a){a||j().appendChild(g('<div class="browserWarning">Your browser is currently not supported, as it does not support reading rendered HTML from the canvas (<a href="https://code.google.com/p/chromium/issues/detail?id=294129">Chrome #294129</a>, <a href="https://bugs.webkit.org/show_bug.cgi?id=17352">Safari #17352</a>). How about trying Firefox?</div>'))})};return d.BasicHTMLReporter=function(){var b={},c=null;G();var d=function(c){var d=a.serializeMap(c.testCase),e=A(c);return j().appendChild(e),b[d]=e,e},e=function(c){var d=a.serializeMap(c.testCase);return b[d]};return{reportComparisonStarting:function(a){null===c&&(c=E()),d(a)},reportComparison:function(a){var b=e(a);B(a,b)},reportTestSuite:function(){F(c)}}},d},d.basicHTMLReporterUtil=function(){"use strict";var a={};a.supportsReadingHtmlFromCanvas=function(a){var b=document.createElement("canvas"),c='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',d=new Image;d.onload=function(){var c=b.getContext("2d");try{c.drawImage(d,0,0),c.getImageData(0,0,1,1)}catch(e){return a(!1),!1}a(!0)},d.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(c)};var c=function(a){var b,c=document.createElement("canvas");return c.height=a.height,c.width=a.width,b=c.getContext("2d"),b.putImageData(a,0,0),c},d=function(a,c){return b.diff(a,c,{align:"top"})};a.getDifferenceCanvas=function(a,b){var e=d(a,b);return c(e)};var e=function(a){var b=Math.log(256);return Math.floor(255*Math.log(a+1)/b)};return a.getHighlightedDifferenceCanvas=function(a,b){for(var f=d(a,b),g=0;g<f.data.length;g++)3>g%4&&(f.data[g]=e(f.data[g]));return c(f)},a},d.browserRenderer=function(a,b,c){"use strict";var d,e={},f={},g=function(){return d||(d=b()),d},h=function(a){return a.map(function(a){return a.msg})},i=function(a){var b={cache:"repeated",cacheBucket:f,width:a.width,height:a.height,executeJs:!0,executeJsTimeout:50,baseUrl:a.baseUrl};return a.hover&&(b.hover=a.hover),a.active&&(b.active=a.active),c.drawHTML(a.html,b).then(function(a){var b=h(a.errors);return{image:a.image,errors:b}})},j=function(a){return g().execute(function(){return i(a)})},k=function(b,c){return a.loadBlobAsText(b).then(function(a){return j({html:a,baseUrl:c.url,width:c.width,height:c.height,hover:c.hover,active:c.active})})},l=function(b,c){return a.loadBlobAsDataURI(b).then(a.getImageForUrl).then(function(a){return{image:a,errors:[]}},function(){return k(b,c)})};return e.render=function(b){return a.loadAsBlob(b.url).then(function(a){return l(a,b)})},e},d.domstorage=function(b,c){"use strict";var d={},e=function(a){var c=b.excludeKey(a,"url"),d=b.serializeMap(c),e=a.url;return d&&(e+=","+d),e},f=function(){var b=a.defer();return b.resolve(),b.promise};d.storeReferenceImage=function(a,d,g){var h,i,j;try{h=b.getDataURIForImage(d)}catch(k){throw window.alert("An error occurred reading the canvas. Are you sure you are using Firefox?\n"+k),k}return i={referenceImageUri:h,viewport:{width:g.width,height:g.height}},j=e(a),c.setItem(j,JSON.stringify(i)),f()};var g=function(a){var b;if(!a)throw new Error("No data supplied");if(b=JSON.parse(a),!b.referenceImageUri)throw new Error("No reference image found");return b},h=function(){var b=a.defer();return b.reject(),b.promise};return d.readReferenceImage=function(a){var d,f=e(a);try{d=g(c.getItem(f))}catch(i){return h()}return b.getImageForUrl(d.referenceImageUri).then(function(a){var b=d.viewport||{width:a.width,height:a.height};return{image:a,viewport:b}})},d},d.fallbackFilter=function(a){"use strict";var b={},c="csscriticFallbackFilter";return b.isComparisonSelected=function(a){var b=sessionStorage.getItem(c);return!b||a.testCase.url===b},b.filterUrlFor=function(){return"#"},b.filterFor=function(b){sessionStorage.setItem(c,b),a.reload()},b.clearFilterUrl=function(){return"#"},b.clearFilter=function(){sessionStorage.removeItem(c),a.reload()},b},d.indexeddbstorage=function(b){"use strict";var c={},d=function(a){a.createObjectStore("references",{keyPath:"testCase"})},e=function(){var b=a.defer(),c=indexedDB.open("csscritic",1);return c.onsuccess=function(a){var c=a.target.result;b.resolve(c)},c.onupgradeneeded=function(a){var b=a.target.result;d(b)},b.promise},f=function(a){var c=b.excludeKey(a,"url"),d=b.serializeMap(c),e=a.url;return d&&(e+=","+d),e};return c.storeReferenceImage=function(c,d,g){var h,i=a.defer();h=b.getDataURIForImage(d);var j=f(c);return e().then(function(a){var b=a.transaction(["references"],"readwrite").objectStore("references").put({testCase:j,reference:{imageUri:h,viewport:g}});b.onsuccess=function(){a.close(),i.resolve()}}),i.promise},c.readReferenceImage=function(c){var d=a.defer(),g=f(c);return e().then(function(a){var c=a.transaction(["references"]).objectStore("references").get(g);c.onsuccess=function(){if(a.close(),void 0===c.result||void 0===c.result.reference||void 0===c.result.reference.imageUri)return void d.reject();var e=c.result.reference;b.getImageForUrl(e.imageUri).then(function(a){var b=e.viewport||{width:a.width,height:a.height};d.resolve({image:a,viewport:b})},d.reject)}}),d.promise},c},d.jobQueue=function(){"use strict";var b={},c=[],d=!1,e=function(a){var b=a.func();return a.resolve(b),b},f=function(){var a;c.length>0?(d=!0,a=c.shift(),e(a).then(f,f)):d=!1},g=function(b){var c=a.defer();return{func:b,resolve:c.resolve,promise:c.promise}};return b.execute=function(a){var b=g(a);return c.push(b),d||f(),b.promise},b},d.migratetoindexeddbstorage=function(a,b){"use strict";var c={};c.storeReferenceImage=function(a,c,d){return b.storeReferenceImage(a,c,d)};var d=function(b){return a.readReferenceImage(b).then(function(a){return c.storeReferenceImage(b,a.image,a.viewport).then(function(){return a})})};return c.readReferenceImage=function(a){return b.readReferenceImage(a).then(null,function(){return d(a)})},c},d.niceReporter=function(a,c,d,e){"use strict";var f,g={},h=function(a){return a.toString().replace(/&/g,"&amp;").replace(new RegExp("<"),"&lt;","g").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},i=function(a,b){return a.replace(/\{\{(\w+)\}\}/g,function(a,c){var d=void 0!==b[c]?b[c]:"";return h(d)})},j=function(a){var b=document.createElement("body");return b.insertAdjacentHTML("beforeend",a),b.firstChild},k="header",l="timeTaken",m="progressBar",n="statusText",o=function(a){var b=j('<div class="cssCriticNiceReporter"></div>');return p(b),a.appendChild(b),b},p=function(a){var b=j(i('<header id="{{headerId}}"><a href="http://cburgmer.github.io/csscritic/" class="cssCriticVersion">CSS Critic {{packageVersion}}</a><span id="{{timeTakenId}}"></span><ul id="{{progressBarId}}"></ul><div id="{{statusTextId}}" class="statusText"></div></header>',{headerId:k,timeTakenId:l,progressBarId:m,statusTextId:n,packageVersion:e}));a.appendChild(b)},q=function(a,b){return a.querySelector("#"+b)},r=function(a){return a.replace(" ","_","g")},s=function(a,b){void 0===f&&(f=document.title),document.title="("+b+"/"+a+") "+f},t=function(a,b){for(a+="";a.length<b;)a="0"+a;return a},u=function(a){var b=Math.floor(a/1e3),c=a%1e3;return b+"."+t(c,3)},v=function(a,b){var c=q(a,l);c.textContent="finished in "+u(b)+"s"},w=function(a,b){var c=q(a,k);c.classList.add(b?"pass":"fail")},x="pending",y=function(a,b,c){var e=q(a,m),f='<li><a href="#{{linkTarget}}" title="{{title}}"></a></li>',g='<li><a title="{{title}}"></a></li>',h=c?f:g,k=j(i(h,{linkTarget:c?r(c):"",title:b}));return k.classList.add(x),e.appendChild(k),d&&d.install(k.querySelector("a")),k},z=function(a,b){b.classList.remove(x),b.classList.add(a)},A=function(a,b,c){return 1===a?b:c},B=function(a,b){var c="{{total}} "+A(a,"entry","entries")+", ";return a>b&&(c="{{selected}} of "+c),i("<span>"+c+"</span>",{total:a,selected:b})},C=function(a,b,c){var d="{{issues}} "+A(a,"needs","need")+" some love",e="all good",f=b===c&&0===a,g=f?e:d;return i("<span>"+g+"</span>",{issues:a})},D="acceptAll",E=function(){return j(i('<button class="{{acceptAllClassName}}">... accept all (I know what I\'m doing)</button>',{acceptAllClassName:D}))},F=function(a,b){var c=q(a,n),d=c.querySelector("."+D);b.length>2&&(d.classList.add("active"),d.onclick=function(){b.forEach(function(a){a.acceptPage(),Y(a.entry)}),d.setAttribute("disabled","disabled")
})},G=function(a){c.clearFilter&&(a.onclick=function(a){c.clearFilter(),a.preventDefault()})},H=function(a,b,d,e,f){var g=c.clearFilterUrl?c.clearFilterUrl():"#",h=j(i('<a class="runAll" href="{{url}}">Run all</a>',{url:g})),k=q(a,n);k.innerHTML="",k.appendChild(j(B(b,d))),k.appendChild(j(C(e,d,f))),k.appendChild(E()),b>d&&(G(h),k.appendChild(h))},I=function(b){var c=a.excludeKey(b,"url"),d=a.serializeMap(c),e=b.url;return d?e+","+d:e},J="running",K="imageContainer",L="errorText",M=function(a){var b=j('<div class="imageWrapper"></div>');return b.appendChild(a),b},N=function(a){return"string"==typeof a?"'"+a+"'":a},O=function(b){var c=a.excludeKey(b,"url"),d=Object.keys(c);return d.length?(d.sort(),'<dl class="parameters">'+d.map(function(a){return i("<dt>{{key}}</dt><dd>{{value}}</dd>",{key:a,value:N(c[a])})}).join("\n")+"</dl>"):""},P=function(a,b){c.filterFor&&(a.onclick=function(a){c.filterFor(b),a.preventDefault()})},Q=function(a,b,d,e){var f="titleLink",g=c.filterUrlFor?c.filterUrlFor(b.url):"#",h=j(i('<section class="comparison {{runningComparisonClassName}}" id="{{id}}"><h3 class="title"><a class="{{titleLinkClassName}}" href="{{filterUrl}}">{{url}}</a> <a class="externalLink" href="{{url}}">↗</a>'+O(b)+'</h3><div class="{{errorContainerClassName}}"></div><div><div class="{{imageContainerClassName}}"></div></div></section>',{url:b.url,filterUrl:g,id:r(e),runningComparisonClassName:J,errorContainerClassName:L,imageContainerClassName:K,titleLinkClassName:f})),k=h.querySelector("."+K),l=h.querySelector("."+f);return d&&k.appendChild(M(d)),P(l,b.url),a.appendChild(h),h},R=function(a){var b,c=document.createElement("canvas");return c.height=a.height,c.width=a.width,b=c.getContext("2d"),b.putImageData(a,0,0),c},S=function(a,c){return b.diff(a,c,{align:"top"})},T=function(a){var b,c=a.data;for(b=0;b<c.length;b+=4)0===c[b]&&0===c[b+1]&&0===c[b+2]?c[b+3]=0:(c[b]=0,c[b+1]=0,c[b+2]=255,c[b+3]=255);return a},U=function(a,b){var c=S(a,b),d=R(T(c));return d.classList.add("diff"),d},V=function(a){var b,c=document.createElement("canvas"),d=a.naturalWidth,e=a.naturalHeight;return c.width=d,c.height=e,b=c.getContext("2d"),b.drawImage(a,0,0,d,e),c.style.width=d+"px",c.style.height=e+"px",c},W=function(a,b,c){var d=c.querySelector("."+K);d.appendChild(U(a,b))},X="accept",Y=function(a){var b=a.querySelector("."+X);b.setAttribute("disabled","disabled"),b.textContent="✓",a.classList.add("accepted")},Z=function(a,b,c){var d="changedImageContainer",e=j(i('<div class="outerChangedImageContainer"><div class="{{changedImageContainerClassName}}"></div><button class="{{acceptClassName}}"><span>Accept</span></button></div>',{changedImageContainerClassName:d,acceptClassName:X})),f=e.querySelector("."+d),g=e.querySelector("button");return f.appendChild(M(a)),g.onclick=function(){b(),Y(c)},e},$=function(a,b,c,d){W(b,a,d),d.appendChild(Z(V(a),c,d))},_=function(a,b){var c=b.querySelector("."+K);c.innerHTML="",c.appendChild(M(V(a)))},ab=function(a,b,c){c.appendChild(Z(V(a),b,c))},bb='Make sure the path lies within the <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy">same origin</a> as this document.',cb=function(a,b){var c=j(i('<span>The page "{{url}}" could not be rendered. '+bb+"</span>",{url:a})),d=b.querySelector("."+L);d.appendChild(c)},db=function(a,b){var c=j(i("<span>Had the following errors rendering the page:<ul></ul>"+bb+"</span>")),d=c.querySelector("ul"),e=b.querySelector("."+L);a.map(function(a){return j(i("<li>{{msg}}</li>",{msg:a}))}).forEach(function(a){d.appendChild(a)}),e.appendChild(c)},eb=function(a,b){b.classList.remove(J),b.classList.add(a)},fb=function(a){var b=document.createElement("canvas"),c='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',d=new Image;d.onload=function(){var c=b.getContext("2d");try{c.drawImage(d,0,0),b.toDataURL("image/png")}catch(e){return void a(!1)}a(!0)},d.src=!window.URL||!window.URL.createObjectURL||navigator.userAgent.indexOf("WebKit")>=0&&navigator.userAgent.indexOf("Chrome")<=0?"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(c):window.URL.createObjectURL(new Blob([c],{type:"image/svg+xml;charset=utf-8"}))},gb=!1,hb=function(a){gb||(gb=!0,fb(function(b){b||a.appendChild(j('<div class="browserWarning">Your browser is currently not supported, as it does not support reading rendered HTML from the canvas (<a href="https://code.google.com/p/chromium/issues/detail?id=294129">Chrome #294129</a>, <a href="https://bugs.webkit.org/show_bug.cgi?id=17352">Safari #17352</a>). How about trying Firefox?</div>'))}))};return g.NiceReporter=function(a){var b,c,d=0,e=0,f=0,g=0,h={},i={},j=[],k=function(){return b||(b=o(a||document.body)),b},l=function(){d+=1,c||(c=Date.now()),hb(k()),s(d,f),H(k(),d,e,g)};return{reportDeselectedComparison:function(a){l();var b=I(a.testCase);y(k(),b)},reportSelectedComparison:function(a){var b=I(a.testCase);e+=1,l();var c=y(k(),b,b);h[b]=c;var d=Q(k(),a.testCase,a.referenceImage,b);i[b]=d},reportComparison:function(a){var b=I(a.testCase),c=h[b],l=i[b];f+=1,"passed"!==a.status&&(g+=1),s(d,f),H(k(),d,e,g,f),z(a.status,c),"failed"===a.status?($(a.pageImage,a.referenceImage,a.acceptPage,l),j.push(a)):"referenceMissing"===a.status?(ab(a.pageImage,a.acceptPage,l),j.push(a)):"passed"===a.status?_(a.pageImage,l):"error"===a.status&&cb(a.testCase.url,l),a.renderErrors.length>0&&db(a.renderErrors,l),eb(a.status,l)},reportTestSuite:function(a){var b=j.map(function(a){var b=I(a.testCase);return{acceptPage:a.acceptPage,entry:i[b]}});v(k(),c?Date.now()-c:0),w(k(),a.success),F(k(),b)}}},g},d.pageNavigationHandlingFallback=function(){"use strict";var a={},b="fakeTarget",c=function(){var a=Array.prototype.slice.call(document.querySelectorAll("."+b));a.forEach(function(a){a.classList.remove(b)})},d=function(a){a.classList.add(b)},e=function(a){var b;c(),a?(b=document.getElementById(a),b.scrollIntoView(),d(b)):window.scrollTo(0,0)},f=!1,g=function(){f||(f=!0,window.onpopstate=function(a){e(a.state)})};return a.install=function(a){g(),a.onclick=function(a){var b=a.target.href,c=b.substr(b.indexOf("#")+1);e(c),history.pushState(c,c),a.preventDefault()}},a},d.urlQueryFilter=function(a){"use strict";var b={},c="filter",d=function(a){var b=a.replace(/^\?/,"");return b?b.split("&").map(function(a){var b,c,d=a.indexOf("=");return d>=0?(b=a.substr(0,d),c=a.substr(d+1)):b=a,{key:b,value:c}}):[]},e=function(a){return a.value?a.key+"="+a.value:a.key},f=function(){var b=d(a.search).filter(function(a){return a.key===c}).pop();return b?decodeURIComponent(b.value):void 0},g=f(),h=d(a.search);b.isComparisonSelected=function(a){return!g||a.testCase.url===g};var i=function(a){var b=h.filter(function(a){return a.key!==c});return a&&b.push({key:c,value:encodeURIComponent(a)}),"?"+b.map(e).join("&")};return b.filterUrlFor=function(a){return i(a)},b.clearFilterUrl=function(){return i()},b},d.packageVersion="0.6.0";var e=function(){"use strict";var a=function(a,b){return a.substr(0,b.length)===b},e=function(){return a(window.location.href,"file://")},f=d.packageVersion||"dev",g=d.util(),h=d.domstorage(g,localStorage),i=d.indexeddbstorage(g),j=d.migratetoindexeddbstorage(h,i),k=d.browserRenderer(g,d.jobQueue,c),l=d.reporting(k,j,g),m=d.regression(k,g,b),n=d.urlQueryFilter(window.location),o=d.fallbackFilter(window.location),p=e()?o:n,q=d.main(m,l,g,j,p),r=d.basicHTMLReporterUtil(),s=d.basicHTMLReporter(g,r,window.document),t=d.pageNavigationHandlingFallback(window.location),u=d.niceReporter(g,p,e()?t:void 0,f);return{add:q.add,execute:q.execute,addReporter:l.addReporter,BasicHTMLReporter:s.BasicHTMLReporter,NiceReporter:u.NiceReporter}}();return e})},{"../build/csscritic.concat.css":1,ayepromise:3,imagediff:16,rasterizehtml:45}],3:[function(b,c,d){!function(b,e){"function"==typeof a&&a.amd?a(e):"object"==typeof d?c.exports=e():b.ayepromise=e()}(this,function(){"use strict";var a={},b=function(){var a=!1;return function(b){return function(){a||(a=!0,b.apply(null,arguments))}}},c=function(a){var b=a&&a.then;return"object"==typeof a&&"function"==typeof b?function(){return b.apply(a,arguments)}:void 0},d=function(b,c){var d=a.defer(),e=function(a,b){setTimeout(function(){var c;try{c=a(b)}catch(e){return void d.reject(e)}c===d.promise?d.reject(new TypeError("Cannot resolve promise with itself")):d.resolve(c)},1)},g=function(a){b&&b.call?e(b,a):d.resolve(a)},h=function(a){c&&c.call?e(c,a):d.reject(a)};return{promise:d.promise,handle:function(a,b){a===f?g(b):h(b)}}},e=0,f=1,g=2;return a.defer=function(){var a,h=e,i=[],j=function(b,c){h=b,a=c,i.forEach(function(b){b.handle(h,a)}),i=null},k=function(a){j(f,a)},l=function(a){j(g,a)},m=function(b,c){var f=d(b,c);return h===e?i.push(f):f.handle(h,a),f.promise},n=function(a){var c=b();try{a(c(o),c(l))}catch(d){c(l)(d)}},o=function(a){var b;try{b=c(a)}catch(d){return void l(d)}b?n(b):k(a)},p=b();return{resolve:p(o),reject:p(l),promise:{then:m,fail:function(a){return m(null,a)}}}},a})},{}],4:[function(a,b){b.exports=function(a,b){var c=b||document;if(c.createStyleSheet){var d=c.createStyleSheet();return d.cssText=a,d.ownerNode}var e=c.getElementsByTagName("head")[0],f=c.createElement("style");return f.type="text/css",f.styleSheet?f.styleSheet.cssText=a:f.appendChild(c.createTextNode(a)),e.appendChild(f),f},b.exports.byUrl=function(a){if(document.createStyleSheet)return document.createStyleSheet(a).ownerNode;var b=document.getElementsByTagName("head")[0],c=document.createElement("link");return c.rel="stylesheet",c.href=a,b.appendChild(c),c}},{}],5:[function(){},{}],6:[function(a,b,c){function d(a,b,c){if(!(this instanceof d))return new d(a,b,c);var e,f=typeof a;if("number"===f)e=a>0?a>>>0:0;else if("string"===f)"base64"===b&&(a=x(a)),e=d.byteLength(a,b);else{if("object"!==f||null===a)throw new TypeError("must start with number, buffer, array or string");"Buffer"===a.type&&J(a.data)&&(a=a.data),e=+a.length>0?Math.floor(+a.length):0}if(this.length>K)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K.toString(16)+" bytes");var g;d.TYPED_ARRAY_SUPPORT?g=d._augment(new Uint8Array(e)):(g=this,g.length=e,g._isBuffer=!0);var h;if(d.TYPED_ARRAY_SUPPORT&&"number"==typeof a.byteLength)g._set(a);else if(z(a))if(d.isBuffer(a))for(h=0;e>h;h++)g[h]=a.readUInt8(h);else for(h=0;e>h;h++)g[h]=(a[h]%256+256)%256;else if("string"===f)g.write(a,0,b);else if("number"===f&&!d.TYPED_ARRAY_SUPPORT&&!c)for(h=0;e>h;h++)g[h]=0;return g}function e(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function f(a,b,c,d){var e=F(B(b),a,c,d);return e}function g(a,b,c,d){var e=F(C(b),a,c,d);return e}function h(a,b,c,d){return g(a,b,c,d)}function i(a,b,c,d){var e=F(E(b),a,c,d);return e}function j(a,b,c,d){var e=F(D(b),a,c,d,2);return e}function k(a,b,c){return H.fromByteArray(0===b&&c===a.length?a:a.slice(b,c))}function l(a,b,c){var d="",e="";c=Math.min(a.length,c);for(var f=b;c>f;f++)a[f]<=127?(d+=G(e)+String.fromCharCode(a[f]),e=""):e+="%"+a[f].toString(16);return d+G(e)}function m(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function n(a,b,c){return m(a,b,c)}function o(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=A(a[f]);return e}function p(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function q(a,b,c){if(a%1!==0||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function r(a,b,c,e,f,g){if(!d.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>f||g>b)throw new TypeError("value is out of bounds");if(c+e>a.length)throw new TypeError("index out of range")}function s(a,b,c,d){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);f>e;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function t(a,b,c,d){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);f>e;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function u(a,b,c,d,e,f){if(b>e||f>b)throw new TypeError("value is out of bounds");if(c+d>a.length)throw new TypeError("index out of range")}function v(a,b,c,d,e){return e||u(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),I.write(a,b,c,d,23,4),c+4}function w(a,b,c,d,e){return e||u(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),I.write(a,b,c,d,52,8),c+8}function x(a){for(a=y(a).replace(M,"");a.length%4!==0;)a+="=";return a}function y(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function z(a){return J(a)||d.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function A(a){return 16>a?"0"+a.toString(16):a.toString(16)}function B(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);if(127>=d)b.push(d);else{var e=c;d>=55296&&57343>=d&&c++;for(var f=encodeURIComponent(a.slice(e,c+1)).substr(1).split("%"),g=0;g<f.length;g++)b.push(parseInt(f[g],16))}}return b}function C(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function D(a){for(var b,c,d,e=[],f=0;f<a.length;f++)b=a.charCodeAt(f),c=b>>8,d=b%256,e.push(d),e.push(c);return e}function E(a){return H.toByteArray(a)}function F(a,b,c,d,e){e&&(d-=d%e);for(var f=0;d>f&&!(f+c>=b.length||f>=a.length);f++)b[f+c]=a[f];return f}function G(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}var H=a("base64-js"),I=a("ieee754"),J=a("is-array");c.Buffer=d,c.SlowBuffer=d,c.INSPECT_MAX_BYTES=50,d.poolSize=8192;var K=1073741823;d.TYPED_ARRAY_SUPPORT=function(){try{var a=new ArrayBuffer(0),b=new Uint8Array(a);return b.foo=function(){return 42},42===b.foo()&&"function"==typeof b.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(c){return!1}}(),d.isBuffer=function(a){return!(null==a||!a._isBuffer)},d.compare=function(a,b){if(!d.isBuffer(a)||!d.isBuffer(b))throw new TypeError("Arguments must be Buffers");for(var c=a.length,e=b.length,f=0,g=Math.min(c,e);g>f&&a[f]===b[f];f++);return f!==g&&(c=a[f],e=b[f]),e>c?-1:c>e?1:0},d.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(a,b){if(!J(a))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===a.length)return new d(0);if(1===a.length)return a[0];var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var e=new d(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(e,f),f+=g.length}return e},d.byteLength=function(a,b){var c;switch(a+="",b||"utf8"){case"ascii":case"binary":case"raw":c=a.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=2*a.length;break;case"hex":c=a.length>>>1;break;case"utf8":case"utf-8":c=B(a).length;break;case"base64":c=E(a).length;break;default:c=a.length}return c},d.prototype.length=void 0,d.prototype.parent=void 0,d.prototype.toString=function(a,b,c){var d=!1;if(b>>>=0,c=void 0===c||1/0===c?this.length:c>>>0,a||(a="utf8"),0>b&&(b=0),c>this.length&&(c=this.length),b>=c)return"";for(;;)switch(a){case"hex":return o(this,b,c);case"utf8":case"utf-8":return l(this,b,c);case"ascii":return m(this,b,c);case"binary":return n(this,b,c);case"base64":return k(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}},d.prototype.equals=function(a){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");return 0===d.compare(this,a)},d.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},d.prototype.compare=function(a){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");return d.compare(this,a)},d.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},d.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},d.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var k=d;d=b,b=c,c=k}b=Number(b)||0;var l=this.length-b;c?(c=Number(c),c>l&&(c=l)):c=l,d=String(d||"utf8").toLowerCase();var m;switch(d){case"hex":m=e(this,a,b,c);break;case"utf8":case"utf-8":m=f(this,a,b,c);break;case"ascii":m=g(this,a,b,c);break;case"binary":m=h(this,a,b,c);break;case"base64":m=i(this,a,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":m=j(this,a,b,c);break;default:throw new TypeError("Unknown encoding: "+d)}return m},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.slice=function(a,b){var c=this.length;if(a=~~a,b=void 0===b?c:~~b,0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c),0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c),a>b&&(b=a),d.TYPED_ARRAY_SUPPORT)return d._augment(this.subarray(a,b));for(var e=b-a,f=new d(e,void 0,!0),g=0;e>g;g++)f[g]=this[g+a];return f},d.prototype.readUInt8=function(a,b){return b||q(a,1,this.length),this[a]},d.prototype.readUInt16LE=function(a,b){return b||q(a,2,this.length),this[a]|this[a+1]<<8},d.prototype.readUInt16BE=function(a,b){return b||q(a,2,this.length),this[a]<<8|this[a+1]},d.prototype.readUInt32LE=function(a,b){return b||q(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},d.prototype.readUInt32BE=function(a,b){return b||q(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},d.prototype.readInt8=function(a,b){return b||q(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},d.prototype.readInt16LE=function(a,b){b||q(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},d.prototype.readInt16BE=function(a,b){b||q(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},d.prototype.readInt32LE=function(a,b){return b||q(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},d.prototype.readInt32BE=function(a,b){return b||q(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},d.prototype.readFloatLE=function(a,b){return b||q(a,4,this.length),I.read(this,a,!0,23,4)},d.prototype.readFloatBE=function(a,b){return b||q(a,4,this.length),I.read(this,a,!1,23,4)},d.prototype.readDoubleLE=function(a,b){return b||q(a,8,this.length),I.read(this,a,!0,52,8)},d.prototype.readDoubleBE=function(a,b){return b||q(a,8,this.length),I.read(this,a,!1,52,8)},d.prototype.writeUInt8=function(a,b,c){return a=+a,b>>>=0,c||r(this,a,b,1,255,0),d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=a,b+1},d.prototype.writeUInt16LE=function(a,b,c){return a=+a,b>>>=0,c||r(this,a,b,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8):s(this,a,b,!0),b+2},d.prototype.writeUInt16BE=function(a,b,c){return a=+a,b>>>=0,c||r(this,a,b,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a):s(this,a,b,!1),b+2},d.prototype.writeUInt32LE=function(a,b,c){return a=+a,b>>>=0,c||r(this,a,b,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=a):t(this,a,b,!0),b+4},d.prototype.writeUInt32BE=function(a,b,c){return a=+a,b>>>=0,c||r(this,a,b,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a):t(this,a,b,!1),b+4},d.prototype.writeInt8=function(a,b,c){return a=+a,b>>>=0,c||r(this,a,b,1,127,-128),d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=a,b+1},d.prototype.writeInt16LE=function(a,b,c){return a=+a,b>>>=0,c||r(this,a,b,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8):s(this,a,b,!0),b+2},d.prototype.writeInt16BE=function(a,b,c){return a=+a,b>>>=0,c||r(this,a,b,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a):s(this,a,b,!1),b+2},d.prototype.writeInt32LE=function(a,b,c){return a=+a,b>>>=0,c||r(this,a,b,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[b]=a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):t(this,a,b,!0),b+4},d.prototype.writeInt32BE=function(a,b,c){return a=+a,b>>>=0,c||r(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a):t(this,a,b,!1),b+4},d.prototype.writeFloatLE=function(a,b,c){return v(this,a,b,!0,c)},d.prototype.writeFloatBE=function(a,b,c){return v(this,a,b,!1,c)},d.prototype.writeDoubleLE=function(a,b,c){return w(this,a,b,!0,c)},d.prototype.writeDoubleBE=function(a,b,c){return w(this,a,b,!1,c)},d.prototype.copy=function(a,b,c,e){var f=this;if(c||(c=0),e||0===e||(e=this.length),b||(b=0),e!==c&&0!==a.length&&0!==f.length){if(c>e)throw new TypeError("sourceEnd < sourceStart");if(0>b||b>=a.length)throw new TypeError("targetStart out of bounds");if(0>c||c>=f.length)throw new TypeError("sourceStart out of bounds");if(0>e||e>f.length)throw new TypeError("sourceEnd out of bounds");e>this.length&&(e=this.length),a.length-b<e-c&&(e=a.length-b+c);var g=e-c;if(1e3>g||!d.TYPED_ARRAY_SUPPORT)for(var h=0;g>h;h++)a[h+b]=this[h+c];else a._set(this.subarray(c,c+g),b)}},d.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),b>c)throw new TypeError("end < start");if(c!==b&&0!==this.length){if(0>b||b>=this.length)throw new TypeError("start out of bounds");if(0>c||c>this.length)throw new TypeError("end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=B(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},d.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(d.TYPED_ARRAY_SUPPORT)return new d(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var L=d.prototype;d._augment=function(a){return a.constructor=d,a._isBuffer=!0,a._get=a.get,a._set=a.set,a.get=L.get,a.set=L.set,a.write=L.write,a.toString=L.toString,a.toLocaleString=L.toString,a.toJSON=L.toJSON,a.equals=L.equals,a.compare=L.compare,a.copy=L.copy,a.slice=L.slice,a.readUInt8=L.readUInt8,a.readUInt16LE=L.readUInt16LE,a.readUInt16BE=L.readUInt16BE,a.readUInt32LE=L.readUInt32LE,a.readUInt32BE=L.readUInt32BE,a.readInt8=L.readInt8,a.readInt16LE=L.readInt16LE,a.readInt16BE=L.readInt16BE,a.readInt32LE=L.readInt32LE,a.readInt32BE=L.readInt32BE,a.readFloatLE=L.readFloatLE,a.readFloatBE=L.readFloatBE,a.readDoubleLE=L.readDoubleLE,a.readDoubleBE=L.readDoubleBE,a.writeUInt8=L.writeUInt8,a.writeUInt16LE=L.writeUInt16LE,a.writeUInt16BE=L.writeUInt16BE,a.writeUInt32LE=L.writeUInt32LE,a.writeUInt32BE=L.writeUInt32BE,a.writeInt8=L.writeInt8,a.writeInt16LE=L.writeInt16LE,a.writeInt16BE=L.writeInt16BE,a.writeInt32LE=L.writeInt32LE,a.writeInt32BE=L.writeInt32BE,a.writeFloatLE=L.writeFloatLE,a.writeFloatBE=L.writeFloatBE,a.writeDoubleLE=L.writeDoubleLE,a.writeDoubleBE=L.writeDoubleBE,a.fill=L.fill,a.inspect=L.inspect,a.toArrayBuffer=L.toArrayBuffer,a};var M=/[^+\/0-9A-z]/g},{"base64-js":7,ieee754:8,"is-array":9}],7:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g?62:b===h?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],8:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],9:[function(a,b){var c=Array.isArray,d=Object.prototype.toString;b.exports=c||function(a){return!!a&&"[object Array]"==d.call(a)}},{}],10:[function(b,c,d){(function(b){!function(e){function f(a){throw RangeError(I[a])}function g(a,b){for(var c=a.length;c--;)a[c]=b(a[c]);return a}function h(a,b){return g(a.split(H),b).join(".")}function i(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function j(a){return g(a,function(a){var b="";return a>65535&&(a-=65536,b+=L(a>>>10&1023|55296),a=56320|1023&a),b+=L(a)}).join("")}function k(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:x}function l(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function m(a,b,c){var d=0;for(a=c?K(a/B):a>>1,a+=K(a/b);a>J*z>>1;d+=x)a=K(a/J);return K(d+(J+1)*a/(a+A))}function n(a){var b,c,d,e,g,h,i,l,n,o,p=[],q=a.length,r=0,s=D,t=C;for(c=a.lastIndexOf(E),0>c&&(c=0),d=0;c>d;++d)a.charCodeAt(d)>=128&&f("not-basic"),p.push(a.charCodeAt(d));for(e=c>0?c+1:0;q>e;){for(g=r,h=1,i=x;e>=q&&f("invalid-input"),l=k(a.charCodeAt(e++)),(l>=x||l>K((w-r)/h))&&f("overflow"),r+=l*h,n=t>=i?y:i>=t+z?z:i-t,!(n>l);i+=x)o=x-n,h>K(w/o)&&f("overflow"),h*=o;b=p.length+1,t=m(r-g,b,0==g),K(r/b)>w-s&&f("overflow"),s+=K(r/b),r%=b,p.splice(r++,0,s)}return j(p)}function o(a){var b,c,d,e,g,h,j,k,n,o,p,q,r,s,t,u=[];for(a=i(a),q=a.length,b=D,c=0,g=C,h=0;q>h;++h)p=a[h],128>p&&u.push(L(p));for(d=e=u.length,e&&u.push(E);q>d;){for(j=w,h=0;q>h;++h)p=a[h],p>=b&&j>p&&(j=p);for(r=d+1,j-b>K((w-c)/r)&&f("overflow"),c+=(j-b)*r,b=j,h=0;q>h;++h)if(p=a[h],b>p&&++c>w&&f("overflow"),p==b){for(k=c,n=x;o=g>=n?y:n>=g+z?z:n-g,!(o>k);n+=x)t=k-o,s=x-o,u.push(L(l(o+t%s,0))),k=K(t/s);u.push(L(l(k,0))),g=m(c,r,d==e),c=0,++d}++c,++b}return u.join("")}function p(a){return h(a,function(a){return F.test(a)?n(a.slice(4).toLowerCase()):a})}function q(a){return h(a,function(a){return G.test(a)?"xn--"+o(a):a})}var r="object"==typeof d&&d,s="object"==typeof c&&c&&c.exports==r&&c,t="object"==typeof b&&b;(t.global===t||t.window===t)&&(e=t);var u,v,w=2147483647,x=36,y=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^ -~]/,H=/\x2E|\u3002|\uFF0E|\uFF61/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=x-y,K=Math.floor,L=String.fromCharCode;if(u={version:"1.2.4",ucs2:{decode:i,encode:j},decode:n,encode:o,toASCII:q,toUnicode:p},"function"==typeof a&&"object"==typeof a.amd&&a.amd)a("punycode",function(){return u});else if(r&&!r.nodeType)if(s)s.exports=u;else for(v in u)u.hasOwnProperty(v)&&(r[v]=u[v]);else e.punycode=u}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(a,b){"use strict";function c(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,e,f){b=b||"&",e=e||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;j>k;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(e);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),c(g,n)?d(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],12:[function(a,b){"use strict";function c(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var d=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,g,h){return b=b||"&",g=g||"=",null===a&&(a=void 0),"object"==typeof a?c(f(a),function(f){var h=encodeURIComponent(d(f))+g;return e(a[f])?c(a[f],function(a){return h+encodeURIComponent(d(a))}).join(b):h+encodeURIComponent(d(a[f]))}).join(b):h?encodeURIComponent(d(h))+g+encodeURIComponent(d(a)):""};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},f=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],13:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":11,"./encode":12}],14:[function(a,b,c){function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return i(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}function i(a){return"string"==typeof a}function j(a){return"object"==typeof a&&null!==a}function k(a){return null===a}function l(a){return null==a}var m=a("punycode");c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f,c.Url=d;var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,p=["<",">",'"',"`"," ","\r","\n","	"],q=["{","}","|","\\","^","`"].concat(p),r=["'"].concat(q),s=["%","/","?",";","#"].concat(r),t=["/","?","#"],u=255,v=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=a("querystring");d.prototype.parse=function(a,b,c){if(!i(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a;d=d.trim();var e=n.exec(d);if(e){e=e[0];var f=e.toLowerCase();this.protocol=f,d=d.substr(e.length)}if(c||e||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===d.substr(0,2);!g||e&&y[e]||(d=d.substr(2),this.slashes=!0)}if(!y[e]&&(g||e&&!z[e])){for(var h=-1,j=0;j<t.length;j++){var k=d.indexOf(t[j]);-1!==k&&(-1===h||h>k)&&(h=k)}var l,o;o=-1===h?d.lastIndexOf("@"):d.lastIndexOf("@",h),-1!==o&&(l=d.slice(0,o),d=d.slice(o+1),this.auth=decodeURIComponent(l)),h=-1;for(var j=0;j<s.length;j++){var k=d.indexOf(s[j]);-1!==k&&(-1===h||h>k)&&(h=k)}-1===h&&(h=d.length),this.host=d.slice(0,h),d=d.slice(h),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var q=this.hostname.split(/\./),j=0,B=q.length;B>j;j++){var C=q[j];if(C&&!C.match(v)){for(var D="",E=0,F=C.length;F>E;E++)D+=C.charCodeAt(E)>127?"x":C[E];
if(!D.match(v)){var G=q.slice(0,j),H=q.slice(j+1),I=C.match(w);I&&(G.push(I[1]),H.unshift(I[2])),H.length&&(d="/"+H.join(".")+d),this.hostname=G.join(".");break}}}if(this.hostname=this.hostname.length>u?"":this.hostname.toLowerCase(),!p){for(var J=this.hostname.split("."),K=[],j=0;j<J.length;++j){var L=J[j];K.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+m.encode(L):L)}this.hostname=K.join(".")}var M=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+M,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!x[f])for(var j=0,B=r.length;B>j;j++){var O=r[j],P=encodeURIComponent(O);P===O&&(P=escape(O)),d=d.split(O).join(P)}var Q=d.indexOf("#");-1!==Q&&(this.hash=d.substr(Q),d=d.slice(0,Q));var R=d.indexOf("?");if(-1!==R?(this.search=d.substr(R),this.query=d.substr(R+1),b&&(this.query=A.parse(this.query)),d=d.slice(0,R)):b&&(this.search="",this.query={}),d&&(this.pathname=d),z[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",L=this.search||"";this.path=M+L}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j(this.query)&&Object.keys(this.query).length&&(f=A.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||z[b])&&e!==!1?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(i(a)){var b=new d;b.parse(a,!1,!0),a=b}var c=new d;if(Object.keys(this).forEach(function(a){c[a]=this[a]},this),c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),z[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!z[a.protocol])return Object.keys(a).forEach(function(b){c[b]=a[b]}),c.href=c.format(),c;if(c.protocol=a.protocol,a.host||y[a.protocol])c.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),c.pathname=e.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var f=c.pathname||"",g=c.search||"";c.path=f+g}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var h=c.pathname&&"/"===c.pathname.charAt(0),j=a.host||a.pathname&&"/"===a.pathname.charAt(0),m=j||h||c.host&&a.pathname,n=m,o=c.pathname&&c.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],p=c.protocol&&!z[c.protocol];if(p&&(c.hostname="",c.port=null,c.host&&(""===o[0]?o[0]=c.host:o.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),m=m&&(""===e[0]||""===o[0])),j)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,o=e;else if(e.length)o||(o=[]),o.pop(),o=o.concat(e),c.search=a.search,c.query=a.query;else if(!l(a.search)){if(p){c.hostname=c.host=o.shift();var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return c.search=a.search,c.query=a.query,k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!o.length)return c.pathname=null,c.path=c.search?"/"+c.search:null,c.href=c.format(),c;for(var r=o.slice(-1)[0],s=(c.host||a.host)&&("."===r||".."===r)||""===r,t=0,u=o.length;u>=0;u--)r=o[u],"."==r?o.splice(u,1):".."===r?(o.splice(u,1),t++):t&&(o.splice(u,1),t--);if(!m&&!n)for(;t--;t)o.unshift("..");!m||""===o[0]||o[0]&&"/"===o[0].charAt(0)||o.unshift(""),s&&"/"!==o.join("/").substr(-1)&&o.push("");var v=""===o[0]||o[0]&&"/"===o[0].charAt(0);if(p){c.hostname=c.host=v?"":o.length?o.shift():"";var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return m=m||c.host&&o.length,m&&!v&&o.unshift(""),o.length?c.pathname=o.join("/"):(c.pathname=null,c.path=null),k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=o.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},{punycode:10,querystring:13}],15:[function(a,b){"use strict";b.exports=function(){return document.createElement("canvas")}},{}],16:[function(b,c){(function(d){!function(d,e){var f=this;if("undefined"!=typeof c){try{var g=b("canvas")}catch(h){throw new Error(h.message+"\nPlease see https://github.com/HumbleSoftware/js-imagediff#cannot-find-module-canvas\n")}c.exports=e(f,d,g)}else"function"==typeof a&&"object"==typeof a.amd?a(e):f[d]=e(f,d)}("imagediff",function(a,e,f){function g(a,b){var c=f?new f:document.createElement("canvas");return a&&(c.width=a),b&&(c.height=b),c}function h(a,b){return M.width=a,M.height=b,N.clearRect(0,0,a,b),N.createImageData(a,b)}function i(){return f}function j(a){return o(a,J)}function k(a){return o(a,H)}function l(a){return o(a,I)}function m(a){return!(!a||!o(a,K)||typeof a.width===L||typeof a.height===L||typeof a.data===L)}function n(a){return j(a)||k(a)||l(a)||m(a)}function o(a,b){return"object"==typeof a&&!!Object.prototype.toString.apply(a).match(b)}function p(a){var b,c,d,e=a.height,f=a.width,g=a.data;for(M.width=f,M.height=e,b=N.getImageData(0,0,f,e),c=b.data,d=a.data.length;d--;)c[d]=g[d];return b}function q(a){return j(a)?r(a):k(a)?s(a):l(a)?t(a):m(a)?a:void 0}function r(a){var b=a.height,c=a.width;return M.width=c,M.height=b,N.clearRect(0,0,c,b),N.drawImage(a,0,0),N.getImageData(0,0,c,b)}function s(a){var b=a.height,c=a.width,d=a.getContext("2d");return d.getImageData(0,0,c,b)}function t(a){var b=a.canvas,c=b.height,d=b.width;return a.getImageData(0,0,d,c)}function u(a){var b=q(a),c=g(b.width,b.height),d=c.getContext("2d");return d.putImageData(b,0,0),c}function v(a,b){return a.width===b.width}function w(a,b){return a.height===b.height}function x(a,b){return w(a,b)&&v(a,b)}function y(a,b,c){var d,e=a.data,f=b.data,g=e.length;if(c=c||0,!x(a,b))return!1;for(d=g;d--;)if(e[d]!==f[d]&&Math.abs(e[d]-f[d])>c)return!1;return!0}function z(a,b,c){return(x(a,b)?A:B)(a,b,c)}function A(a,b){var c,d=a.height,e=a.width,f=h(e,d),g=a.data,i=b.data,j=f.data,k=j.length;for(c=0;k>c;c+=4)j[c]=Math.abs(g[c]-i[c]),j[c+1]=Math.abs(g[c+1]-i[c+1]),j[c+2]=Math.abs(g[c+2]-i[c+2]),j[c+3]=Math.abs(255-Math.abs(g[c+3]-i[c+3]));return f}function B(a,b,c){function d(a){"top"===r?(e=0,f=0):(e=Math.floor((l-a.height)/2),f=Math.floor((m-a.width)/2))}var e,f,g,i,j,k,l=Math.max(a.height,b.height),m=Math.max(a.width,b.width),n=h(m,l),o=a.data,p=b.data,q=n.data,r=c&&c.align;for(j=q.length-1;j>0;j-=4)q[j]=255;for(d(a),g=a.height;g--;)for(i=a.width;i--;)j=4*((g+e)*m+(i+f)),k=4*(g*a.width+i),q[j+0]=o[k+0],q[j+1]=o[k+1],q[j+2]=o[k+2];for(d(b),g=b.height;g--;)for(i=b.width;i--;)j=4*((g+e)*m+(i+f)),k=4*(g*b.width+i),q[j+0]=Math.abs(q[j+0]-p[k+0]),q[j+1]=Math.abs(q[j+1]-p[k+1]),q[j+2]=Math.abs(q[j+2]-p[k+2]);return n}function C(){var a;for(a=0;a<arguments.length;a++)if(!n(arguments[a]))throw{name:"ImageTypeError",message:"Submitted object was not an image."}}function D(a,b){return a=document.createElement(a),a&&b&&(a.innerHTML=b),a}function E(a,c,e){var f,g,h=u(a);e=e||Function,f=h.toDataURL().replace(/^data:image\/\w+;base64,/,""),g=new d(f,"base64"),b("fs").writeFile(c,g,e)}var F,G,H=/\[object (Canvas|HTMLCanvasElement)\]/i,I=/\[object CanvasRenderingContext2D\]/i,J=/\[object (Image|HTMLImageElement)\]/i,K=/\[object ImageData\]/i,L="undefined",M=g(),N=M.getContext("2d"),O=a[e];return G={toBeImageData:function(){return F.isImageData(this.actual)},toImageDiffEqual:function(a,b){return typeof document!==L&&(this.message=function(){var b,c=D("div"),d=D("div","<div>Actual:</div>"),e=D("div","<div>Expected:</div>"),f=D("div","<div>Diff:</div>"),h=F.diff(this.actual,a),i=g();return i.height=h.height,i.width=h.width,c.style.overflow="hidden",d.style["float"]="left",e.style["float"]="left",f.style["float"]="left",b=i.getContext("2d"),b.putImageData(h,0,0),d.appendChild(u(this.actual)),e.appendChild(u(a)),f.appendChild(i),c.appendChild(d),c.appendChild(e),c.appendChild(f),[c,"Expected not to be equal."]}),F.equal(this.actual,a,b)}},F={createCanvas:g,createImageData:h,getCanvasRef:i,isImage:j,isCanvas:k,isContext:l,isImageData:m,isImageType:n,toImageData:function(a){return C(a),m(a)?p(a):q(a)},equal:function(a,b,c){return C(a,b),a=q(a),b=q(b),y(a,b,c)},diff:function(a,b,c){return C(a,b),a=q(a),b=q(b),z(a,b,c)},jasmine:G,noConflict:function(){return a[e]=O,F}},"undefined"!=typeof c&&(F.imageDataToPNG=E),F})}).call(this,b("buffer").Buffer)},{buffer:6,canvas:15,fs:5}],17:[function(a,b){b.exports=function(){function b(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function c(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function d(b){function d(a){function c(a,c,d){var e,f;for(e=c;d>e;e++)f=b.charAt(e),"\n"===f?(a.seenCR||a.line++,a.column=1,a.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a.line++,a.column=1,a.seenCR=!0):(a.column++,a.seenCR=!1)}return T!==a&&(T>a&&(T=0,U={line:1,column:1,seenCR:!1}),c(U,T,a),T=a),U}function e(a){V>R||(R>V&&(V=R,W=[]),W.push(a))}function f(a,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=d(f),j=f<b.length?b.charAt(f):null;return null!==e&&g(e),new c(null!==a?a:h(e,j),e,j,f,i.line,i.column)}function g(){var a,b;return a=h(),a===r&&(a=R,b=[],b!==r&&(S=a,b=u()),a=b),a}function h(){var a,c,d,f,g,j;if(a=R,c=i(),c!==r){for(d=[],f=o();f!==r;)d.push(f),f=o();if(d!==r)if(44===b.charCodeAt(R)?(f=w,R++):(f=r,0===X&&e(x)),f!==r){for(g=[],j=o();j!==r;)g.push(j),j=o();g!==r?(j=h(),j!==r?(S=a,c=y(c,j),a=c):(R=a,a=v)):(R=a,a=v)}else R=a,a=v;else R=a,a=v}else R=a,a=v;return a===r&&(a=R,c=i(),c!==r&&(S=a,c=z(c)),a=c),a}function i(){var a;return a=j(),a===r&&(a=m()),a}function j(){var a,b,c,d;if(a=R,b=k(),b!==r){if(c=[],d=o(),d!==r)for(;d!==r;)c.push(d),d=o();else c=v;c!==r?(d=l(),d!==r?(S=a,b=A(b,d),a=b):(R=a,a=v)):(R=a,a=v)}else R=a,a=v;return a===r&&(a=R,b=k(),b!==r&&(S=a,b=B(b)),a=b),a}function k(){var a,c,d,f;return a=R,b.substr(R,4)===C?(c=C,R+=4):(c=r,0===X&&e(D)),c!==r?(d=n(),d!==r?(41===b.charCodeAt(R)?(f=E,R++):(f=r,0===X&&e(F)),f!==r?(S=a,c=G(d),a=c):(R=a,a=v)):(R=a,a=v)):(R=a,a=v),a}function l(){var a,c,d,f;return a=R,b.substr(R,7)===H?(c=H,R+=7):(c=r,0===X&&e(I)),c!==r?(d=n(),d!==r?(41===b.charCodeAt(R)?(f=E,R++):(f=r,0===X&&e(F)),f!==r?(S=a,c=G(d),a=c):(R=a,a=v)):(R=a,a=v)):(R=a,a=v),a}function m(){var a,c,d,f;return a=R,b.substr(R,6)===J?(c=J,R+=6):(c=r,0===X&&e(K)),c!==r?(d=n(),d!==r?(41===b.charCodeAt(R)?(f=E,R++):(f=r,0===X&&e(F)),f!==r?(S=a,c=L(d),a=c):(R=a,a=v)):(R=a,a=v)):(R=a,a=v),a}function n(){var a,c,d;if(a=R,c=[],M.test(b.charAt(R))?(d=b.charAt(R),R++):(d=r,0===X&&e(N)),d!==r)for(;d!==r;)c.push(d),M.test(b.charAt(R))?(d=b.charAt(R),R++):(d=r,0===X&&e(N));else c=v;return c!==r&&(S=a,c=O(c)),a=c}function o(){var a;return P.test(b.charAt(R))?(a=b.charAt(R),R++):(a=r,0===X&&e(Q)),a}var p,q=arguments.length>1?arguments[1]:{},r={},s={start:g},t=g,u=function(){return[]},v=r,w=",",x={type:"literal",value:",",description:'","'},y=function(a,b){return[a].concat(b)},z=function(a){return[a]},A=function(a,b){return{url:a,format:b}},B=function(a){return{url:a}},C="url(",D={type:"literal",value:"url(",description:'"url("'},E=")",F={type:"literal",value:")",description:'")"'},G=function(a){return a},H="format(",I={type:"literal",value:"format(",description:'"format("'},J="local(",K={type:"literal",value:"local(",description:'"local("'},L=function(a){return{local:a}},M=/^[^)]/,N={type:"class",value:"[^)]",description:"[^)]"},O=function(a){return Y.extractValue(a.join(""))},P=/^[ \t\r\n\f]/,Q={type:"class",value:"[ \\t\\r\\n\\f]",description:"[ \\t\\r\\n\\f]"},R=0,S=0,T=0,U={line:1,column:1,seenCR:!1},V=0,W=[],X=0;if("startRule"in q){if(!(q.startRule in s))throw new Error("Can't start parsing from rule \""+q.startRule+'".');t=s[q.startRule]}var Y=a("../util");if(p=t(),p!==r&&R===b.length)return p;throw p!==r&&R<b.length&&e({type:"end",description:"end of input"}),f(null,W,V)}return b(c,Error),{SyntaxError:c,parse:d}}()},{"../util":19}],18:[function(a,b,c){var d=a("./grammar");c.SyntaxError=function(a,b){this.message=a,this.offset=b},c.parse=function(a){try{return d.parse(a)}catch(b){throw new c.SyntaxError(b.message,b.offset)}},c.serialize=function(a){return a.map(function(a){var b;return a.url?(b='url("'+a.url+'")',a.format&&(b+=' format("'+a.format+'")')):b='local("'+a.local+'")',b}).join(", ")}},{"./grammar":17}],19:[function(a,b,c){var d=function(a){var b=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return a.replace(b,"$1")},e=function(a){var b=/^"(.*)"$/,c=/^'(.*)'$/;return b.test(a)?a.replace(b,"$1"):c.test(a)?a.replace(c,"$1"):a};c.extractValue=function(a){return e(d(a))}},{}],20:[function(a,b,c){var d={CSSRule:a("./CSSRule").CSSRule,MatcherList:a("./MatcherList").MatcherList};d.CSSDocumentRule=function(){d.CSSRule.call(this),this.matcher=new d.MatcherList,this.cssRules=[]},d.CSSDocumentRule.prototype=new d.CSSRule,d.CSSDocumentRule.prototype.constructor=d.CSSDocumentRule,d.CSSDocumentRule.prototype.type=10,Object.defineProperty(d.CSSDocumentRule.prototype,"cssText",{get:function(){for(var a=[],b=0,c=this.cssRules.length;c>b;b++)a.push(this.cssRules[b].cssText);return"@-moz-document "+this.matcher.matcherText+" {"+a.join("")+"}"}}),c.CSSDocumentRule=d.CSSDocumentRule},{"./CSSRule":26,"./MatcherList":32}],21:[function(a,b,c){var d={CSSStyleDeclaration:a("./CSSStyleDeclaration").CSSStyleDeclaration,CSSRule:a("./CSSRule").CSSRule};d.CSSFontFaceRule=function(){d.CSSRule.call(this),this.style=new d.CSSStyleDeclaration,this.style.parentRule=this},d.CSSFontFaceRule.prototype=new d.CSSRule,d.CSSFontFaceRule.prototype.constructor=d.CSSFontFaceRule,d.CSSFontFaceRule.prototype.type=5,Object.defineProperty(d.CSSFontFaceRule.prototype,"cssText",{get:function(){return"@font-face {"+this.style.cssText+"}"}}),c.CSSFontFaceRule=d.CSSFontFaceRule},{"./CSSRule":26,"./CSSStyleDeclaration":27}],22:[function(a,b,c){var d={CSSRule:a("./CSSRule").CSSRule,CSSStyleSheet:a("./CSSStyleSheet").CSSStyleSheet,MediaList:a("./MediaList").MediaList};d.CSSImportRule=function(){d.CSSRule.call(this),this.href="",this.media=new d.MediaList,this.styleSheet=new d.CSSStyleSheet},d.CSSImportRule.prototype=new d.CSSRule,d.CSSImportRule.prototype.constructor=d.CSSImportRule,d.CSSImportRule.prototype.type=3,Object.defineProperty(d.CSSImportRule.prototype,"cssText",{get:function(){var a=this.media.mediaText;return"@import url("+this.href+")"+(a?" "+a:"")+";"},set:function(a){for(var b,c,d=0,e="",f="";c=a.charAt(d);d++)switch(c){case" ":case"	":case"\r":case"\n":case"\f":"after-import"===e?e="url":f+=c;break;case"@":e||a.indexOf("@import",d)!==d||(e="after-import",d+="import".length,f="");break;case"u":if("url"===e&&a.indexOf("url(",d)===d){if(b=a.indexOf(")",d+1),-1===b)throw d+': ")" not found';d+="url(".length;var g=a.slice(d,b);g[0]===g[g.length-1]&&('"'===g[0]||"'"===g[0])&&(g=g.slice(1,-1)),this.href=g,d=b,e="media"}break;case'"':if("url"===e){if(b=a.indexOf('"',d+1),!b)throw d+": '\"' not found";this.href=a.slice(d+1,b),d=b,e="media"}break;case"'":if("url"===e){if(b=a.indexOf("'",d+1),!b)throw d+': "\'" not found';this.href=a.slice(d+1,b),d=b,e="media"}break;case";":"media"===e&&f&&(this.media.mediaText=f.trim());break;default:"media"===e&&(f+=c)}}}),c.CSSImportRule=d.CSSImportRule},{"./CSSRule":26,"./CSSStyleSheet":29,"./MediaList":33}],23:[function(a,b,c){var d={CSSRule:a("./CSSRule").CSSRule,CSSStyleDeclaration:a("./CSSStyleDeclaration").CSSStyleDeclaration};d.CSSKeyframeRule=function(){d.CSSRule.call(this),this.keyText="",this.style=new d.CSSStyleDeclaration,this.style.parentRule=this},d.CSSKeyframeRule.prototype=new d.CSSRule,d.CSSKeyframeRule.prototype.constructor=d.CSSKeyframeRule,d.CSSKeyframeRule.prototype.type=9,Object.defineProperty(d.CSSKeyframeRule.prototype,"cssText",{get:function(){return this.keyText+" {"+this.style.cssText+"} "}}),c.CSSKeyframeRule=d.CSSKeyframeRule},{"./CSSRule":26,"./CSSStyleDeclaration":27}],24:[function(a,b,c){var d={CSSRule:a("./CSSRule").CSSRule};d.CSSKeyframesRule=function(){d.CSSRule.call(this),this.name="",this.cssRules=[]},d.CSSKeyframesRule.prototype=new d.CSSRule,d.CSSKeyframesRule.prototype.constructor=d.CSSKeyframesRule,d.CSSKeyframesRule.prototype.type=8,Object.defineProperty(d.CSSKeyframesRule.prototype,"cssText",{get:function(){for(var a=[],b=0,c=this.cssRules.length;c>b;b++)a.push("  "+this.cssRules[b].cssText);return"@"+(this._vendorPrefix||"")+"keyframes "+this.name+" { \n"+a.join("\n")+"\n}"}}),c.CSSKeyframesRule=d.CSSKeyframesRule},{"./CSSRule":26}],25:[function(a,b,c){var d={CSSRule:a("./CSSRule").CSSRule,MediaList:a("./MediaList").MediaList};d.CSSMediaRule=function(){d.CSSRule.call(this),this.media=new d.MediaList,this.cssRules=[]},d.CSSMediaRule.prototype=new d.CSSRule,d.CSSMediaRule.prototype.constructor=d.CSSMediaRule,d.CSSMediaRule.prototype.type=4,Object.defineProperty(d.CSSMediaRule.prototype,"cssText",{get:function(){for(var a=[],b=0,c=this.cssRules.length;c>b;b++)a.push(this.cssRules[b].cssText);return"@media "+this.media.mediaText+" {"+a.join("")+"}"}}),c.CSSMediaRule=d.CSSMediaRule},{"./CSSRule":26,"./MediaList":33}],26:[function(a,b,c){var d={};d.CSSRule=function(){this.parentRule=null,this.parentStyleSheet=null},d.CSSRule.STYLE_RULE=1,d.CSSRule.IMPORT_RULE=3,d.CSSRule.MEDIA_RULE=4,d.CSSRule.FONT_FACE_RULE=5,d.CSSRule.PAGE_RULE=6,d.CSSRule.WEBKIT_KEYFRAMES_RULE=8,d.CSSRule.WEBKIT_KEYFRAME_RULE=9,d.CSSRule.prototype={constructor:d.CSSRule},c.CSSRule=d.CSSRule},{}],27:[function(a,b,c){var d={};d.CSSStyleDeclaration=function(){this.length=0,this.parentRule=null,this._importants={}},d.CSSStyleDeclaration.prototype={constructor:d.CSSStyleDeclaration,getPropertyValue:function(a){return this[a]||""},setProperty:function(a,b,c){if(this[a]){var d=Array.prototype.indexOf.call(this,a);0>d&&(this[this.length]=a,this.length++)}else this[this.length]=a,this.length++;this[a]=b,this._importants[a]=c},removeProperty:function(a){if(!(a in this))return"";var b=Array.prototype.indexOf.call(this,a);if(0>b)return"";var c=this[a];return this[a]="",Array.prototype.splice.call(this,b,1),c},getPropertyCSSValue:function(){},getPropertyPriority:function(a){return this._importants[a]||""},getPropertyShorthand:function(){},isPropertyImplicit:function(){},get cssText(){for(var a=[],b=0,c=this.length;c>b;++b){var d=this[b],e=this.getPropertyValue(d),f=this.getPropertyPriority(d);f&&(f=" !"+f),a[b]=d+": "+e+f+";"}return a.join(" ")},set cssText(a){var b,c;for(b=this.length;b--;)c=this[b],this[c]="";Array.prototype.splice.call(this,0,this.length),this._importants={};var e=d.parse("#bogus{"+a+"}").cssRules[0].style,f=e.length;for(b=0;f>b;++b)c=e[b],this.setProperty(e[b],e.getPropertyValue(c),e.getPropertyPriority(c))}},c.CSSStyleDeclaration=d.CSSStyleDeclaration,d.parse=a("./parse").parse},{"./parse":37}],28:[function(a,b,c){var d={CSSStyleDeclaration:a("./CSSStyleDeclaration").CSSStyleDeclaration,CSSRule:a("./CSSRule").CSSRule};d.CSSStyleRule=function(){d.CSSRule.call(this),this.selectorText="",this.style=new d.CSSStyleDeclaration,this.style.parentRule=this},d.CSSStyleRule.prototype=new d.CSSRule,d.CSSStyleRule.prototype.constructor=d.CSSStyleRule,d.CSSStyleRule.prototype.type=1,Object.defineProperty(d.CSSStyleRule.prototype,"cssText",{get:function(){var a;return a=this.selectorText?this.selectorText+" {"+this.style.cssText+"}":""},set:function(a){var b=d.CSSStyleRule.parse(a);this.style=b.style,this.selectorText=b.selectorText}}),d.CSSStyleRule.parse=function(a){for(var b,c,e,f=0,g="selector",h=f,i="",j={selector:!0,value:!0},k=new d.CSSStyleRule,l="";e=a.charAt(f);f++)switch(e){case" ":case"	":case"\r":case"\n":case"\f":if(j[g])switch(a.charAt(f-1)){case" ":case"	":case"\r":case"\n":case"\f":break;default:i+=" "}break;case'"':if(h=f+1,b=a.indexOf('"',h)+1,!b)throw'" is missing';i+=a.slice(f,b),f=b-1;break;case"'":if(h=f+1,b=a.indexOf("'",h)+1,!b)throw"' is missing";i+=a.slice(f,b),f=b-1;break;case"/":if("*"===a.charAt(f+1)){if(f+=2,b=a.indexOf("*/",f),-1===b)throw new SyntaxError("Missing */");f=b+1}else i+=e;break;case"{":"selector"===g&&(k.selectorText=i.trim(),i="",g="name");break;case":":"name"===g?(c=i.trim(),i="",g="value"):i+=e;break;case"!":"value"===g&&a.indexOf("!important",f)===f?(l="important",f+="important".length):i+=e;break;case";":"value"===g?(k.style.setProperty(c,i.trim(),l),l="",i="",g="name"):i+=e;break;case"}":if("value"===g)k.style.setProperty(c,i.trim(),l),l="",i="";else{if("name"===g)break;i+=e}g="selector";break;default:i+=e}return k},c.CSSStyleRule=d.CSSStyleRule},{"./CSSRule":26,"./CSSStyleDeclaration":27}],29:[function(a,b,c){var d={StyleSheet:a("./StyleSheet").StyleSheet,CSSStyleRule:a("./CSSStyleRule").CSSStyleRule};d.CSSStyleSheet=function(){d.StyleSheet.call(this),this.cssRules=[]},d.CSSStyleSheet.prototype=new d.StyleSheet,d.CSSStyleSheet.prototype.constructor=d.CSSStyleSheet,d.CSSStyleSheet.prototype.insertRule=function(a,b){if(0>b||b>this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");var c=d.parse(a).cssRules[0];return c.parentStyleSheet=this,this.cssRules.splice(b,0,c),b},d.CSSStyleSheet.prototype.deleteRule=function(a){if(0>a||a>=this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");this.cssRules.splice(a,1)},d.CSSStyleSheet.prototype.toString=function(){for(var a="",b=this.cssRules,c=0;c<b.length;c++)a+=b[c].cssText+"\n";return a},c.CSSStyleSheet=d.CSSStyleSheet,d.parse=a("./parse").parse},{"./CSSStyleRule":28,"./StyleSheet":34,"./parse":37}],30:[function(a,b,c){var d={};d.CSSValue=function(){},d.CSSValue.prototype={constructor:d.CSSValue,set cssText(a){var b=this._getConstructorName();throw new Exception('DOMException: property "cssText" of "'+b+'" is readonly!')},get cssText(){var a=this._getConstructorName();throw new Exception('getter "cssText" of "'+a+'" is not implemented!')},_getConstructorName:function(){var a=this.constructor.toString(),b=a.match(/function\s([^\(]+)/),c=b[1];return c}},c.CSSValue=d.CSSValue},{}],31:[function(a,b,c){var d={CSSValue:a("./CSSValue").CSSValue};d.CSSValueExpression=function(a,b){this._token=a,this._idx=b},d.CSSValueExpression.prototype=new d.CSSValue,d.CSSValueExpression.prototype.constructor=d.CSSValueExpression,d.CSSValueExpression.prototype.parse=function(){for(var a,b=this._token,c=this._idx,d="",e="",f="",g=[];;++c){if(d=b.charAt(c),""==d){f="css expression error: unfinished expression!";break}switch(d){case"(":g.push(d),e+=d;break;case")":g.pop(d),e+=d;break;case"/":(a=this._parseJSComment(b,c))?a.error?f="css expression error: unfinished comment in expression!":c=a.idx:(a=this._parseJSRexExp(b,c))?(c=a.idx,e+=a.text):e+=d;break;case"'":case'"':a=this._parseJSString(b,c,d),a?(c=a.idx,e+=a.text):e+=d;break;default:e+=d}if(f)break;if(0==g.length)break}var h;return h=f?{error:f}:{idx:c,expression:e}},d.CSSValueExpression.prototype._parseJSComment=function(a,b){var c,d=a.charAt(b+1);if("/"==d||"*"==d){var e,f,g=b;return"/"==d?f="\n":"*"==d&&(f="*/"),e=a.indexOf(f,g+1+1),-1!==e?(e=e+f.length-1,c=a.substring(b,e+1),{idx:e,text:c}):(error="css expression error: unfinished comment in expression!",{error:error})}return!1},d.CSSValueExpression.prototype._parseJSString=function(a,b,c){var d,e=this._findMatchedIdx(a,b,c);return-1===e?!1:(d=a.substring(b,e+c.length),{idx:e,text:d})},d.CSSValueExpression.prototype._parseJSRexExp=function(a,b){var c=a.substring(0,b).replace(/\s+$/,""),d=[/^$/,/\($/,/\[$/,/\!$/,/\+$/,/\-$/,/\*$/,/\/\s+/,/\%$/,/\=$/,/\>$/,/\<$/,/\&$/,/\|$/,/\^$/,/\~$/,/\?$/,/\,$/,/delete$/,/in$/,/instanceof$/,/new$/,/typeof$/,/void$/],e=d.some(function(a){return a.test(c)});if(e){var f="/";return this._parseJSString(a,b,f)}return!1},d.CSSValueExpression.prototype._findMatchedIdx=function(a,b,c){for(var d,e=b,f=-1;;){if(d=a.indexOf(c,e+1),-1===d){d=f;break}var g=a.substring(b+1,d),h=g.match(/\\+$/);if(!h||h[0]%2==0)break;e=d}var i=a.indexOf("\n",b+1);return d>i&&(d=f),d},c.CSSValueExpression=d.CSSValueExpression},{"./CSSValue":30}],32:[function(a,b,c){var d={};d.MatcherList=function(){this.length=0},d.MatcherList.prototype={constructor:d.MatcherList,get matcherText(){return Array.prototype.join.call(this,", ")},set matcherText(a){for(var b=a.split(","),c=this.length=b.length,d=0;c>d;d++)this[d]=b[d].trim()},appendMatcher:function(a){-1===Array.prototype.indexOf.call(this,a)&&(this[this.length]=a,this.length++)},deleteMatcher:function(a){var b=Array.prototype.indexOf.call(this,a);-1!==b&&Array.prototype.splice.call(this,b,1)}},c.MatcherList=d.MatcherList},{}],33:[function(a,b,c){var d={};d.MediaList=function(){this.length=0},d.MediaList.prototype={constructor:d.MediaList,get mediaText(){return Array.prototype.join.call(this,", ")},set mediaText(a){for(var b=a.split(","),c=this.length=b.length,d=0;c>d;d++)this[d]=b[d].trim()},appendMedium:function(a){-1===Array.prototype.indexOf.call(this,a)&&(this[this.length]=a,this.length++)},deleteMedium:function(a){var b=Array.prototype.indexOf.call(this,a);-1!==b&&Array.prototype.splice.call(this,b,1)}},c.MediaList=d.MediaList},{}],34:[function(a,b,c){var d={};d.StyleSheet=function(){this.parentStyleSheet=null},c.StyleSheet=d.StyleSheet},{}],35:[function(a,b,c){var d={CSSStyleSheet:a("./CSSStyleSheet").CSSStyleSheet,CSSStyleRule:a("./CSSStyleRule").CSSStyleRule,CSSMediaRule:a("./CSSMediaRule").CSSMediaRule,CSSStyleDeclaration:a("./CSSStyleDeclaration").CSSStyleDeclaration,CSSKeyframeRule:a("./CSSKeyframeRule").CSSKeyframeRule,CSSKeyframesRule:a("./CSSKeyframesRule").CSSKeyframesRule};d.clone=function e(a){var b=new d.CSSStyleSheet,c=a.cssRules;if(!c)return b;for(var f={1:d.CSSStyleRule,4:d.CSSMediaRule,8:d.CSSKeyframesRule,9:d.CSSKeyframeRule},g=0,h=c.length;h>g;g++){var i=c[g],j=b.cssRules[g]=new f[i.type],k=i.style;if(k){for(var l=j.style=new d.CSSStyleDeclaration,m=0,n=k.length;n>m;m++){var o=l[m]=k[m];l[o]=k[o],l._importants[o]=k.getPropertyPriority(o)}l.length=k.length}i.hasOwnProperty("keyText")&&(j.keyText=i.keyText),i.hasOwnProperty("selectorText")&&(j.selectorText=i.selectorText),i.hasOwnProperty("mediaText")&&(j.mediaText=i.mediaText),i.hasOwnProperty("cssRules")&&(j.cssRules=e(i).cssRules)}return b},c.clone=d.clone},{"./CSSKeyframeRule":23,"./CSSKeyframesRule":24,"./CSSMediaRule":25,"./CSSStyleDeclaration":27,"./CSSStyleRule":28,"./CSSStyleSheet":29}],36:[function(a,b,c){"use strict";c.CSSStyleDeclaration=a("./CSSStyleDeclaration").CSSStyleDeclaration,c.CSSRule=a("./CSSRule").CSSRule,c.CSSStyleRule=a("./CSSStyleRule").CSSStyleRule,c.MediaList=a("./MediaList").MediaList,c.CSSMediaRule=a("./CSSMediaRule").CSSMediaRule,c.CSSImportRule=a("./CSSImportRule").CSSImportRule,c.CSSFontFaceRule=a("./CSSFontFaceRule").CSSFontFaceRule,c.StyleSheet=a("./StyleSheet").StyleSheet,c.CSSStyleSheet=a("./CSSStyleSheet").CSSStyleSheet,c.CSSKeyframesRule=a("./CSSKeyframesRule").CSSKeyframesRule,c.CSSKeyframeRule=a("./CSSKeyframeRule").CSSKeyframeRule,c.MatcherList=a("./MatcherList").MatcherList,c.CSSDocumentRule=a("./CSSDocumentRule").CSSDocumentRule,c.CSSValue=a("./CSSValue").CSSValue,c.CSSValueExpression=a("./CSSValueExpression").CSSValueExpression,c.parse=a("./parse").parse,c.clone=a("./clone").clone},{"./CSSDocumentRule":20,"./CSSFontFaceRule":21,"./CSSImportRule":22,"./CSSKeyframeRule":23,"./CSSKeyframesRule":24,"./CSSMediaRule":25,"./CSSRule":26,"./CSSStyleDeclaration":27,"./CSSStyleRule":28,"./CSSStyleSheet":29,"./CSSValue":30,"./CSSValueExpression":31,"./MatcherList":32,"./MediaList":33,"./StyleSheet":34,"./clone":35,"./parse":37}],37:[function(a,b,c){var d={};d.parse=function(a){for(var b,c,e,f,g,h,i,j,k,l,m=0,n="before-selector",o="",p={selector:!0,value:!0,atRule:!0,"importRule-begin":!0,importRule:!0,atBlock:!0,"documentRule-begin":!0},q=new d.CSSStyleSheet,r=q,s="",t=/@(-(?:\w+-)+)?keyframes/g,u=function(b){var c=a.substring(0,m).split("\n"),d=c.length,e=c.pop().length+1,f=new Error(b+" (line "+d+", char "+e+")");throw f.line=d,f["char"]=e,f.styleSheet=q,f};l=a.charAt(m);m++)switch(l){case" ":case"	":case"\r":case"\n":case"\f":p[n]&&(o+=l);break;case'"':b=m+1;do b=a.indexOf('"',b)+1,b||u('Unmatched "');while("\\"===a[b-2]);switch(o+=a.slice(m,b),m=b-1,n){case"before-value":n="value";break;case"importRule-begin":n="importRule"}break;case"'":b=m+1;do b=a.indexOf("'",b)+1,b||u("Unmatched '");while("\\"===a[b-2]);switch(o+=a.slice(m,b),m=b-1,n){case"before-value":n="value";break;case"importRule-begin":n="importRule"}break;case"/":"*"===a.charAt(m+1)?(m+=2,b=a.indexOf("*/",m),-1===b?u("Missing */"):m=b+1):o+=l,"importRule-begin"===n&&(o+=" ",n="importRule");break;case"@":if(a.indexOf("@-moz-document",m)===m){n="documentRule-begin",k=new d.CSSDocumentRule,k.__starts=m,m+="-moz-document".length,o="";break}if(a.indexOf("@media",m)===m){n="atBlock",g=new d.CSSMediaRule,g.__starts=m,m+="media".length,o="";break}if(a.indexOf("@import",m)===m){n="importRule-begin",m+="import".length,o+="@import";break}if(a.indexOf("@font-face",m)===m){n="fontFaceRule-begin",m+="font-face".length,i=new d.CSSFontFaceRule,i.__starts=m,o="";break}t.lastIndex=m;var v=t.exec(a);if(v&&v.index===m){n="keyframesRule-begin",j=new d.CSSKeyframesRule,j.__starts=m,j._vendorPrefix=v[1],m+=v[0].length-1,o="";break}"selector"==n&&(n="atRule"),o+=l;break;case"{":"selector"===n||"atRule"===n?(f.selectorText=o.trim(),f.style.__starts=m,o="",n="before-name"):"atBlock"===n?(g.media.mediaText=o.trim(),r=c=g,g.parentStyleSheet=q,o="",n="before-selector"):"fontFaceRule-begin"===n?(c&&(i.parentRule=c),i.parentStyleSheet=q,f=i,o="",n="before-name"):"keyframesRule-begin"===n?(j.name=o.trim(),c&&(j.parentRule=c),j.parentStyleSheet=q,r=c=j,o="",n="keyframeRule-begin"):"keyframeRule-begin"===n?(f=new d.CSSKeyframeRule,f.keyText=o.trim(),f.__starts=m,o="",n="before-name"):"documentRule-begin"===n&&(k.matcher.matcherText=o.trim(),c&&(k.parentRule=c),r=c=k,k.parentStyleSheet=q,o="",n="before-selector");break;case":":"name"===n?(e=o.trim(),o="",n="before-value"):o+=l;break;case"(":if("value"===n)if("expression"==o.trim()){var w=new d.CSSValueExpression(a,m).parse();w.error?u(w.error):(o+=w.expression,m=w.idx)}else b=a.indexOf(")",m+1),-1===b&&u('Unmatched "("'),o+=a.slice(m,b+1),m=b;else o+=l;break;case"!":"value"===n&&a.indexOf("!important",m)===m?(s="important",m+="important".length):o+=l;
break;case";":switch(n){case"value":f.style.setProperty(e,o.trim(),s),s="",o="",n="before-name";break;case"atRule":o="",n="before-selector";break;case"importRule":h=new d.CSSImportRule,h.parentStyleSheet=h.styleSheet.parentStyleSheet=q,h.cssText=o+l,q.cssRules.push(h),o="",n="before-selector";break;default:o+=l}break;case"}":switch(n){case"value":f.style.setProperty(e,o.trim(),s),s="";case"before-name":case"name":f.__ends=m+1,c&&(f.parentRule=c),f.parentStyleSheet=q,r.cssRules.push(f),o="",n=r.constructor===d.CSSKeyframesRule?"keyframeRule-begin":"before-selector";break;case"keyframeRule-begin":case"before-selector":case"selector":c||u("Unexpected }"),r.__ends=m+1,q.cssRules.push(r),r=q,c=null,o="",n="before-selector"}break;default:switch(n){case"before-selector":n="selector",f=new d.CSSStyleRule,f.__starts=m;break;case"before-name":n="name";break;case"before-value":n="value";break;case"importRule-begin":n="importRule"}o+=l}return q},c.parse=d.parse,d.CSSStyleSheet=a("./CSSStyleSheet").CSSStyleSheet,d.CSSStyleRule=a("./CSSStyleRule").CSSStyleRule,d.CSSImportRule=a("./CSSImportRule").CSSImportRule,d.CSSMediaRule=a("./CSSMediaRule").CSSMediaRule,d.CSSFontFaceRule=a("./CSSFontFaceRule").CSSFontFaceRule,d.CSSStyleDeclaration=a("./CSSStyleDeclaration").CSSStyleDeclaration,d.CSSKeyframeRule=a("./CSSKeyframeRule").CSSKeyframeRule,d.CSSKeyframesRule=a("./CSSKeyframesRule").CSSKeyframesRule,d.CSSValueExpression=a("./CSSValueExpression").CSSValueExpression,d.CSSDocumentRule=a("./CSSDocumentRule").CSSDocumentRule},{"./CSSDocumentRule":20,"./CSSFontFaceRule":21,"./CSSImportRule":22,"./CSSKeyframeRule":23,"./CSSKeyframesRule":24,"./CSSMediaRule":25,"./CSSStyleDeclaration":27,"./CSSStyleRule":28,"./CSSStyleSheet":29,"./CSSValueExpression":31}],38:[function(a,b,c){"use strict";var d=a("./cssSupport"),e=function(a){var b=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return a.replace(b,"$1")};c.extractCssUrl=function(a){var b,c=/^url\(([^\)]+)\)/;if(!c.test(a))throw new Error("Invalid url");return b=c.exec(a)[1],d.unquoteString(e(b))};var f=function(a){var b,c="\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*",d="(url\\("+c+"\\)|[^,\\s]+)",e="(?:\\s*"+d+")+",f="^\\s*("+e+")(?:\\s*,\\s*("+e+"))*\\s*$",g=new RegExp(e,"g"),h=[],i=function(a){var b,c=new RegExp(d,"g"),e=[];for(b=c.exec(a);b;)e.push(b[1]),b=c.exec(a);return e};if(a.match(new RegExp(f))){for(b=g.exec(a);b;)h.push(i(b[0])),b=g.exec(a);return h}return[]},g=function(a){var b,d;for(b=0;b<a.length;b++)try{return d=c.extractCssUrl(a[b]),{url:d,idx:b}}catch(e){}};c.parse=function(a){var b=f(a);return b.map(function(a){var b=g(a);return b?{preUrl:a.slice(0,b.idx),url:b.url,postUrl:a.slice(b.idx+1)}:{preUrl:a}})},c.serialize=function(a){var b=a.map(function(a){var b=[].concat(a.preUrl);return a.url&&b.push('url("'+a.url+'")'),a.postUrl&&(b=b.concat(a.postUrl)),b.join(" ")});return b.join(", ")}},{"./cssSupport":39}],39:[function(a,b,c){"use strict";var d=a("cssom");c.unquoteString=function(a){var b=/^"(.*)"$/,c=/^'(.*)'$/;return b.test(a)?a.replace(b,"$1"):c.test(a)?a.replace(c,"$1"):a};var e=function(a){var b,c=document.implementation.createHTMLDocument(""),d=document.createElement("style");return d.textContent=a,c.body.appendChild(d),b=d.sheet.cssRules,Array.prototype.slice.call(b)},f=function(){var a=e("a{background:url(i)}");return!a.length||a[0].cssText.indexOf("url()")>=0}();c.rulesForCssText=function(a){return f&&d.parse?d.parse(a).cssRules:e(a)},c.cssRulesToText=function(a){return a.reduce(function(a,b){return a+b.cssText},"")},c.exchangeRule=function(a,b,c){var d=a.indexOf(b),e=b.parentStyleSheet;e.insertRule(c,d+1),e.deleteRule(d),a[d]=e.cssRules[d]},c.changeFontFaceRuleSrc=function(a,b,d){var e="@font-face { font-family: "+b.style.getPropertyValue("font-family")+"; ";b.style.getPropertyValue("font-style")&&(e+="font-style: "+b.style.getPropertyValue("font-style")+"; "),b.style.getPropertyValue("font-weight")&&(e+="font-weight: "+b.style.getPropertyValue("font-weight")+"; "),e+="src: "+d+"}",c.exchangeRule(a,b,e)}},{cssom:36}],40:[function(a,b,c){"use strict";var d=a("./util"),e=a("./inlineImage"),f=a("./inlineScript"),g=a("./inlineCss"),h=a("./cssSupport"),i=function(a){return d.joinUrl(a,".")},j=function(a){var b=a.map(function(b,c){return c===a.length-1&&(b={baseUrl:i(b.baseUrl)}),JSON.stringify(b)});return b},k=function(a,b){return b.cache!==!1&&"none"!==b.cache&&b.cacheBucket?d.memoize(a,j,b.cacheBucket):a},l=function(a,b,c){var d=h.rulesForCssText(a);return g.loadCSSImportsForRules(d,b,c).then(function(b){return g.loadAndInlineCSSResourcesForRules(d,c).then(function(c){var e=b.errors.concat(c.errors),f=b.hasChanges||c.hasChanges;return f&&(a=h.cssRulesToText(d)),{hasChanges:f,content:a,errors:e}})})},m=function(a,b,c){var e=a.textContent,f=k(l,b);return f(e,c,b).then(function(b){return b.hasChanges&&(a.childNodes[0].nodeValue=b.content),d.cloneArray(b.errors)})},n=function(a){var b=a.getElementsByTagName("style");return Array.prototype.filter.call(b,function(a){return!a.attributes.type||"text/css"===a.attributes.type.nodeValue})};c.loadAndInlineStyles=function(a,b){var c,e=n(a),f=[],g=[];return c=d.clone(b),c.baseUrl=c.baseUrl||d.getDocumentBaseUrl(a),d.all(e.map(function(a){return m(a,c,g).then(function(a){f=f.concat(a)})})).then(function(){return f})};var o=function(a,b){var c,d=a.parentNode;b=b.trim(),b&&(c=a.ownerDocument.createElement("style"),c.type="text/css",c.appendChild(a.ownerDocument.createTextNode(b)),d.insertBefore(c,a)),d.removeChild(a)},p=function(a,b){return d.ajax(a,b).then(function(a){var b=h.rulesForCssText(a);return{content:a,cssRules:b}}).then(function(b){var c=g.adjustPathsOfCssResources(a,b.cssRules);return{content:b.content,cssRules:b.cssRules,hasChanges:c}}).then(function(a){return g.loadCSSImportsForRules(a.cssRules,[],b).then(function(b){return{content:a.content,cssRules:a.cssRules,hasChanges:a.hasChanges||b.hasChanges,errors:b.errors}})}).then(function(a){return g.loadAndInlineCSSResourcesForRules(a.cssRules,b).then(function(b){return{content:a.content,cssRules:a.cssRules,hasChanges:a.hasChanges||b.hasChanges,errors:a.errors.concat(b.errors)}})}).then(function(a){var b=a.content;return a.hasChanges&&(b=h.cssRulesToText(a.cssRules)),{content:b,errors:a.errors}})},q=function(a,b){var c=a.attributes.href.nodeValue,e=d.getDocumentBaseUrl(a.ownerDocument),f=d.clone(b);!f.baseUrl&&e&&(f.baseUrl=e);var g=k(p,b);return g(c,f).then(function(a){return{content:a.content,errors:d.cloneArray(a.errors)}})},r=function(a){var b=a.getElementsByTagName("link");return Array.prototype.filter.call(b,function(a){return a.attributes.rel&&"stylesheet"===a.attributes.rel.nodeValue&&(!a.attributes.type||"text/css"===a.attributes.type.nodeValue)})};c.loadAndInlineCssLinks=function(a,b){var c=r(a),e=[];return d.all(c.map(function(a){return q(a,b).then(function(b){o(a,b.content+"\n"),e=e.concat(b.errors)},function(a){e.push({resourceType:"stylesheet",url:a.url,msg:"Unable to load stylesheet "+a.url})})})).then(function(){return e})},c.loadAndInlineImages=e.inline,c.loadAndInlineScript=f.inline,c.inlineReferences=function(a,b){var e=[],f=[c.loadAndInlineImages,c.loadAndInlineStyles,c.loadAndInlineCssLinks];return b.inlineScripts!==!1&&f.push(c.loadAndInlineScript),d.all(f.map(function(c){return c(a,b).then(function(a){e=e.concat(a)})})).then(function(){return e})}},{"./cssSupport":39,"./inlineCss":41,"./inlineImage":42,"./inlineScript":43,"./util":44}],41:[function(a,b,c){"use strict";var d=a("ayepromise"),e=a("./util"),f=a("./cssSupport"),g=a("./backgroundValueParser"),h=a("css-font-face-src"),i=function(a,b,c){a.style.setProperty(b,c,a.style.getPropertyPriority(b))},j=function(a){return a.filter(function(a){return a.type===window.CSSRule.STYLE_RULE&&(a.style.getPropertyValue("background-image")||a.style.getPropertyValue("background"))})},k=function(a){var b=[];return a.forEach(function(a){a.style.getPropertyValue("background-image")?b.push({property:"background-image",value:a.style.getPropertyValue("background-image"),rule:a}):a.style.getPropertyValue("background")&&b.push({property:"background",value:a.style.getPropertyValue("background"),rule:a})}),b},l=function(a){return a.filter(function(a){return a.type===window.CSSRule.FONT_FACE_RULE&&a.style.getPropertyValue("src")})},m=function(a){return a.filter(function(a){return a.type===window.CSSRule.IMPORT_RULE&&a.href})},n=function(a){var b=[];return a.forEach(function(a,c){a.url&&!e.isDataUri(a.url)&&b.push(c)}),b},o=function(a){var b=[];return a.forEach(function(a,c){a.url&&!e.isDataUri(a.url)&&b.push(c)}),b};c.adjustPathsOfCssResources=function(a,b){var c=j(b),d=k(c),p=!1;return d.forEach(function(b){var c,d=g.parse(b.value),f=n(d);f.length>0&&(f.forEach(function(b){var c=d[b].url,f=e.joinUrl(a,c);d[b].url=f}),c=g.serialize(d),i(b.rule,b.property,c),p=!0)}),l(b).forEach(function(c){var d,g,i=c.style.getPropertyValue("src");try{d=h.parse(i)}catch(j){return}g=o(d),g.length>0&&(g.forEach(function(b){var c=d[b].url,f=e.joinUrl(a,c);d[b].url=f}),f.changeFontFaceRuleSrc(b,c,h.serialize(d)),p=!0)}),m(b).forEach(function(c){var d=c.href,g=e.joinUrl(a,d);f.exchangeRule(b,c,"@import url("+g+");"),p=!0}),p};var p=function(a,b,c){var d=a.indexOf(b);a.splice(d,1),c.forEach(function(b,c){a.splice(d+c,0,b)})},q=function(a){var b=d.defer();return b.resolve(a),b.promise},r=function(a,b,d,g){var h,i=b.href;return i=f.unquoteString(i),h=e.joinUrl(g.baseUrl,i),d.indexOf(h)>=0?(p(a,b,[]),q([])):(d.push(h),e.ajax(i,g).then(function(e){var h=f.rulesForCssText(e);return c.loadCSSImportsForRules(h,d,g).then(function(d){return c.adjustPathsOfCssResources(i,h),p(a,b,h),d.errors})},function(a){throw{resourceType:"stylesheet",url:a.url,msg:"Unable to load stylesheet "+a.url}}))};c.loadCSSImportsForRules=function(a,b,c){var d=m(a),f=[],g=!1;return e.all(d.map(function(d){return r(a,d,b,c).then(function(a){f=f.concat(a),g=!0},function(a){f.push(a)})})).then(function(){return{hasChanges:g,errors:f}})};var s=function(a,b){var c=g.parse(a),d=n(c),f=!1;return e.collectAndReportErrors(d.map(function(a){var d=c[a].url;return e.getDataURIForImageURL(d,b).then(function(b){c[a].url=b,f=!0},function(a){throw{resourceType:"backgroundImage",url:a.url,msg:"Unable to load background-image "+a.url}})})).then(function(a){return{backgroundValue:g.serialize(c),hasChanges:f,errors:a}})},t=function(a,b){var c=j(a),d=k(c),f=[],g=!1;return e.all(d.map(function(a){return s(a.value,b).then(function(b){b.hasChanges&&(i(a.rule,a.property,b.backgroundValue),g=!0),f=f.concat(b.errors)})})).then(function(){return{hasChanges:g,errors:f}})},u=function(a,b){var c,d,f=!1;try{c=h.parse(a)}catch(g){c=[]}return d=o(c),e.collectAndReportErrors(d.map(function(a){var d=c[a],g=d.format||"woff";return e.binaryAjax(d.url,b).then(function(a){var b=btoa(a);d.url="data:font/"+g+";base64,"+b,f=!0},function(a){throw{resourceType:"fontFace",url:a.url,msg:"Unable to load font-face "+a.url}})})).then(function(a){return{srcDeclarationValue:h.serialize(c),hasChanges:f,errors:a}})},v=function(a,b){var c=l(a),d=[],g=!1;return e.all(c.map(function(c){var e=c.style.getPropertyValue("src");return u(e,b).then(function(b){b.hasChanges&&(f.changeFontFaceRuleSrc(a,c,b.srcDeclarationValue),g=!0),d=d.concat(b.errors)})})).then(function(){return{hasChanges:g,errors:d}})};c.loadAndInlineCSSResourcesForRules=function(a,b){var c=!1,d=[];return e.all([t,v].map(function(e){return e(a,b).then(function(a){c=c||a.hasChanges,d=d.concat(a.errors)})})).then(function(){return{hasChanges:c,errors:d}})}},{"./backgroundValueParser":38,"./cssSupport":39,"./util":44,ayepromise:3,"css-font-face-src":18}],42:[function(a,b,c){"use strict";var d=a("./util"),e=function(a,b){var c=a.attributes.src?a.attributes.src.nodeValue:null,e=d.getDocumentBaseUrl(a.ownerDocument),f=d.clone(b);return!f.baseUrl&&e&&(f.baseUrl=e),d.getDataURIForImageURL(c,f).then(function(a){return a},function(a){throw{resourceType:"image",url:a.url,msg:"Unable to load image "+a.url}})},f=function(a){return a.filter(function(a){var b=a.attributes.src?a.attributes.src.nodeValue:null;return null!==b&&!d.isDataUri(b)})},g=function(a){return Array.prototype.filter.call(a,function(a){return"image"===a.type})},h=function(a){return Array.prototype.slice.call(a)};c.inline=function(a,b){var c=h(a.getElementsByTagName("img")),i=g(a.getElementsByTagName("input")),j=f(c.concat(i));return d.collectAndReportErrors(j.map(function(a){return e(a,b).then(function(b){a.attributes.src.nodeValue=b})}))}},{"./util":44}],43:[function(a,b,c){"use strict";var d=a("./util"),e=function(a,b){var c=a.attributes.src.nodeValue,e=d.getDocumentBaseUrl(a.ownerDocument),f=d.clone(b);return!f.baseUrl&&e&&(f.baseUrl=e),d.ajax(c,f).fail(function(a){throw{resourceType:"script",url:a.url,msg:"Unable to load script "+a.url}})},f=function(a){return a.replace(/<\//g,"<\\/")},g=function(a,b){a.attributes.removeNamedItem("src"),a.textContent=f(b)},h=function(a){var b=a.getElementsByTagName("script");return Array.prototype.filter.call(b,function(a){return!!a.attributes.src})};c.inline=function(a,b){var c=h(a);return d.collectAndReportErrors(c.map(function(a){return e(a,b).then(function(b){g(a,b)})}))}},{"./util":44}],44:[function(a,b,c){"use strict";var d=a("url"),e=a("ayepromise");c.getDocumentBaseUrl=function(a){return"about:blank"!==a.baseURI?a.baseURI:null},c.clone=function(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c},c.cloneArray=function(a){return Array.prototype.slice.apply(a,[0])},c.joinUrl=function(a,b){return a?d.resolve(a,b):b},c.isDataUri=function(a){return/^data:/.test(a)},c.all=function(a){var b=e.defer(),c=a.length,d=[];return 0===a.length?(b.resolve([]),b.promise):(a.forEach(function(a,e){a.then(function(a){c-=1,d[e]=a,0===c&&b.resolve(d)},function(a){b.reject(a)})}),b.promise)},c.collectAndReportErrors=function(a){var b=[];return c.all(a.map(function(a){return a.fail(function(a){b.push(a)})})).then(function(){return b})};var f=null,g=function(a,b){return b===!1||"none"===b||"repeated"===b?((null===f||"repeated"!==b)&&(f=Date.now()),a+"?_="+f):a};c.ajax=function(a,b){var d,f=new window.XMLHttpRequest,h=e.defer(),i=c.joinUrl(b.baseUrl,a),j=function(){h.reject({msg:"Unable to load url",url:i})};d=g(i,b.cache),f.addEventListener("load",function(){200===f.status||0===f.status?h.resolve(f.response):j()},!1),f.addEventListener("error",j,!1);try{f.open("GET",d,!0),f.overrideMimeType(b.mimeType),f.send(null)}catch(k){j()}return h.promise},c.binaryAjax=function(a,b){var d=c.clone(b);return d.mimeType="text/plain; charset=x-user-defined",c.ajax(a,d).then(function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c));return b})};var h=function(a){var b=function(a,b){return a.substring(0,b.length)===b};return b(a,"<?xml")||b(a,"<svg")?"image/svg+xml":"image/png"};c.getDataURIForImageURL=function(a,b){return c.binaryAjax(a,b).then(function(a){var b=btoa(a),c=h(a);return"data:"+c+";base64,"+b})};var i=[],j=function(a){return i.indexOf(a)<0&&i.push(a),i.indexOf(a)};c.memoize=function(a,b,c){if("object"!=typeof c)throw new Error("cacheBucket is not an object");return function(){var d,e=Array.prototype.slice.call(arguments),f=b(e),g=j(a);return c[g]&&c[g][f]?c[g][f]:(d=a.apply(null,e),c[g]=c[g]||{},c[g][f]=d,d)}}},{ayepromise:3,url:14}],45:[function(b,c,d){!function(e,f){"object"==typeof d?c.exports=f(b("url"),b("xmlserializer"),b("ayepromise"),b("inlineresources")):"function"==typeof a&&a.amd?a(["url","xmlserializer","ayepromise","inlineresources"],f):e.rasterizeHTML=f(e.url,e.xmlserializer,e.ayepromise,e.inlineresources)}(this,function(a,b,c,d){var e=function(a){"use strict";var b={},c=[];b.joinUrl=function(b,c){return b?a.resolve(b,c):c},b.getConstantUniqueIdFor=function(a){return c.indexOf(a)<0&&c.push(a),c.indexOf(a)},b.clone=function(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};var d=function(a){return"object"==typeof a&&null!==a},e=function(a){return d(a)&&Object.prototype.toString.apply(a).match(/\[object (Canvas|HTMLCanvasElement)\]/i)},f=function(a){return"function"==typeof a};return b.parseOptionalParameters=function(a){var c={canvas:null,options:{},callback:null};return f(a[0])?c.callback=a[0]:null==a[0]||e(a[0])?(c.canvas=a[0]||null,f(a[1])?c.callback=a[1]:(c.options=b.clone(a[1]),c.callback=a[2]||null)):(c.options=b.clone(a[0]),c.callback=a[1]||null),c},b}(a),f=function(a,b){var c={};return c.baseUrlRespecting=function(b,c){var d=function(){var d=new b,e=d.open;return d.open=function(){var b=Array.prototype.slice.call(arguments),d=b.shift(),f=b.shift(),g=a.joinUrl(c,f);return e.apply(this,[d,g].concat(b))},d};return d},c.finishNotifying=function(a){var c=0,d=0,e=!1,f=b.defer(),g=function(){var a=c-d;0>=a&&e&&f.resolve({totalCount:c})},h=function(){var b=new a,e=b.send;return b.send=function(){return c+=1,e.apply(this,arguments)},b.addEventListener("load",function(){d+=1,g()}),b};return h.waitForRequestsToFinish=function(){return e=!0,g(),f.promise},h},c}(e,c),g=function(){"use strict";var a={},b=function(a){return Array.prototype.slice.call(a)};a.addClassNameRecursively=function(b,c){b.className+=" "+c,b.parentNode!==b.ownerDocument&&a.addClassNameRecursively(b.parentNode,c)};var c=function(a,c){var d=a.parentStyleSheet,e=b(d.cssRules).indexOf(a);d.insertRule(c,e+1),d.deleteRule(e)},d=function(a,b){var d=a.cssText.replace(/^[^\{]+/,""),e=b+" "+d;c(a,e)},e=function(a){return b(a).reduce(function(a,b){return a+b.cssText},"")},f=function(a){a.textContent=e(a.sheet.cssRules)};return a.rewriteStyleRuleSelector=function(a,c,e){var g=c+"(?=\\W|$)";b(a.querySelectorAll("style")).forEach(function(a){var c=b(a.sheet.cssRules).filter(function(a){return a.selectorText&&new RegExp(g).test(a.selectorText)});c.length&&(c.forEach(function(a){var b=a.selectorText.replace(new RegExp(g,"g"),e);d(a,b)}),f(a))})},a}(),h=function(a){"use strict";var b={},c=function(a){return Array.prototype.slice.call(a)};return b.fakeHover=function(b,c){var d=b.querySelector(c),e="rasterizehtmlhover";d&&(a.addClassNameRecursively(d,e),a.rewriteStyleRuleSelector(b,":hover","."+e))},b.fakeActive=function(b,c){var d=b.querySelector(c),e="rasterizehtmlactive";d&&(a.addClassNameRecursively(d,e),a.rewriteStyleRuleSelector(b,":active","."+e))},b.persistInputValues=function(a){var b=a.querySelectorAll("input"),d=a.querySelectorAll("textarea"),e=function(a){return"checkbox"===a.type||"radio"===a.type};c(b).filter(e).forEach(function(a){a.checked?a.setAttribute("checked",""):a.removeAttribute("checked")}),c(b).filter(function(a){return!e(a)}).forEach(function(a){a.setAttribute("value",a.value)}),c(d).forEach(function(a){a.textContent=a.value})},b}(g),i=function(a,b,c,d){"use strict";var e={},f=function(a,b,c,d){var e=a.createElement(b);return e.style.visibility="hidden",e.style.width=c+"px",e.style.height=d+"px",e.style.position="absolute",e.style.top=-1e4-d+"px",e.style.left=-1e4-c+"px",a.getElementsByTagName("body")[0].appendChild(e),e};e.executeJavascript=function(a,e){var g=f(d.document,"iframe",e.width,e.height),h=a.documentElement.outerHTML,i=[],j=c.defer(),k=e.executeJsTimeout||0,l=function(){var a=g.contentDocument;d.document.getElementsByTagName("body")[0].removeChild(g),j.resolve({document:a,errors:i})},m=function(){var a=c.defer();return k>0?setTimeout(a.resolve,k):a.resolve(),a.promise};g.onload=function(){m().then(o.waitForRequestsToFinish).then(l)};var n=g.contentWindow.XMLHttpRequest,o=b.finishNotifying(n),p=b.baseUrlRespecting(o,e.baseUrl);return g.contentDocument.open(),g.contentWindow.XMLHttpRequest=p,g.contentWindow.onerror=function(a){i.push({resourceType:"scriptExecution",msg:a})},g.contentDocument.write(h),g.contentDocument.close(),j.promise};var g=function(a,b,c){var d=a.createElement("iframe");return d.style.width=b+"px",d.style.height=c+"px",d.style.visibility="hidden",d.style.position="absolute",d.style.top=-1e4-c+"px",d.style.left=-1e4-b+"px",d.sandbox="allow-same-origin",d},h=function(a,b,c){var e=Math.floor(a/c),f=Math.floor(b/c);return g(d.document,e,f)},i=function(a,b,c,d){return{width:Math.max(a.width*d,b),height:Math.max(a.height*d,c)}},j=function(a,b,c,d,e){var f,g,h,j,k,l,m,n=Math.max(a.documentElement.scrollWidth,a.body.clientWidth),o=Math.max(a.documentElement.scrollHeight,a.body.scrollHeight,a.body.clientHeight);if(b){if(k=a.querySelector(b),!k)throw{message:"Clipping selector not found"};l=k.getBoundingClientRect(),f=l.top,g=l.left,h=l.width,j=l.height}else f=0,g=0,h=n,j=o;return m=i({width:h,height:j},c,d,e),{left:g,top:f,width:m.width,height:m.height,viewportWidth:n,viewportHeight:o}};e.calculateDocumentContentSize=function(a,b){var e,f=a.documentElement.outerHTML,g=c.defer(),i=b.zoom||1;return e=h(b.width,b.height,i),d.document.getElementsByTagName("body")[0].appendChild(e),e.onload=function(){var a,c=e.contentDocument;try{a=j(c,b.clip,b.width,b.height,i),d.document.getElementsByTagName("body")[0].removeChild(e),g.resolve(a)}catch(f){g.reject(f)}},e.contentDocument.open(),e.contentDocument.write(f),e.contentDocument.close(),g.promise};var k=function(a,b){var c,e,f,g,h=/<html((?:\s+[^>]*)?)>/im.exec(b),i=d.document.implementation.createHTMLDocument("");if(h)for(c="<div"+h[1]+"></div>",i.documentElement.innerHTML=c,f=i.querySelector("div"),e=0;e<f.attributes.length;e++)g=f.attributes[e],a.documentElement.setAttribute(g.name,g.value)};e.parseHTML=function(a){var b;return(new DOMParser).parseFromString("<a></a>","text/html")?b=(new DOMParser).parseFromString(a,"text/html"):(b=d.document.implementation.createHTMLDocument(""),b.documentElement.innerHTML=a,k(b,a)),b};var l=function(a){var b=new DOMParser,c=b.parseFromString("<","text/xml"),d=c.getElementsByTagName("parsererror")[0].namespaceURI;return"http://www.w3.org/1999/xhtml"===d?a.getElementsByTagName("parsererror").length>0:a.getElementsByTagNameNS(d,"parsererror").length>0},m=function(a){if(l(a))throw{message:"Invalid source"}};e.validateXHTML=function(a){var b=new DOMParser,c=b.parseFromString(a,"application/xml");m(c)};var n=null,o=function(a,b){return b===!1||"none"===b||"repeated"===b?((null===n||"repeated"!==b)&&(n=Date.now()),a+"?_="+n):a},p=function(b,d){var e=new window.XMLHttpRequest,f=a.joinUrl(d.baseUrl,b),g=o(f,d.cache),h=c.defer(),i=function(){h.reject({message:"Unable to load page"})};e.addEventListener("load",function(){200===e.status||0===e.status?h.resolve(e.responseXML):i()},!1),e.addEventListener("error",function(){i()},!1);try{e.open("GET",g,!0),e.responseType="document",e.send(null)}catch(j){i()}return h.promise};return e.loadDocument=function(a,b){return p(a,b).then(function(a){return m(a),a})},e}(e,f,c,window),j=function(a,b,c,d,e,f){"use strict";var g={},h=function(){if(f.navigator.userAgent.indexOf("WebKit")>=0&&f.navigator.userAgent.indexOf("Chrome")<0)return!1;if(f.BlobBuilder||f.MozBlobBuilder||f.WebKitBlobBuilder)return!0;if(f.Blob)try{return new f.Blob(["<b></b>"],{type:"text/xml"}),!0}catch(a){return!1}return!1},i=function(a){var b,c="image/svg+xml;charset=utf-8",d=f.BlobBuilder||f.MozBlobBuilder||f.WebKitBlobBuilder;return d?(b=new d,b.append(a),b.getBlob(c)):new f.Blob([a],{type:c})},j=function(a){var b=f.URL||f.webkitURL||f;return h()?b.createObjectURL(i(a)):"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a)},k=function(a){var b=f.URL||f.webkitURL||f;h()&&b.revokeObjectURL(a)},l=function(a,b){var c,d,e,f;b=b||1,c=Math.round(a.viewportWidth),d=Math.round(a.viewportHeight),e=-a.left,f=-a.top;var g={x:e,y:f,width:c,height:d};return 1!==b&&(g.style="-webkit-transform: scale("+b+"); -webkit-transform-origin: 0 0; transform: scale("+b+"); transform-origin: 0 0;"),g},m=function(a){var b=a.style||"";a.style=b+"float: left;"},n=function(a){var b=Object.keys(a);return b.length?" "+b.map(function(b){return b+'="'+a[b]+'"'}).join(" "):""};g.getSvgForDocument=function(a,c,e){var f;f=d.serializeToString(a),b.validateXHTML(f);var g=l(c,e);return m(g),'<svg xmlns="http://www.w3.org/2000/svg" width="'+c.width+'" height="'+c.height+'"><foreignObject'+n(g)+">"+f+"</foreignObject></svg>"};var o=function(){return{message:"Error rendering page"}};return g.renderSvg=function(a){var b,c,d=e.defer(),g=function(){c.onload=null,c.onerror=null},h=function(){b&&k(b)};return b=j(a),c=new f.Image,c.onload=function(){g(),h(),d.resolve(c)},c.onerror=function(){h(),d.reject(o())},c.src=b,d.promise},g.drawImageOnCanvas=function(a,b){try{b.getContext("2d").drawImage(a,0,0)}catch(c){throw o()}},g.drawDocumentImage=function(a,d){return d.hover&&c.fakeHover(a,d.hover),d.active&&c.fakeActive(a,d.active),b.calculateDocumentContentSize(a,d).then(function(b){return g.getSvgForDocument(a,b,d.zoom)}).then(function(a){return g.renderSvg(a)})},g}(e,i,h,b,c,window),k=function(a,b,c,d,e){"use strict";var f={},g=function(a,b,c){return d.drawDocumentImage(a,c).then(function(a){return b&&d.drawImageOnCanvas(a,b),a})},h=function(a,d){return b.executeJavascript(a,d).then(function(a){var b=a.document;return c.persistInputValues(b),{document:b,errors:a.errors}})};return f.rasterize=function(b,c,d){var f;return f=a.clone(d),f.inlineScripts=d.executeJs===!0,e.inlineReferences(b,f).then(function(a){return d.executeJs?h(b,d).then(function(b){return{document:b.document,errors:a.concat(b.errors)}}):{document:b,errors:a}}).then(function(a){return g(a.document,c,d).then(function(b){return{image:b,errors:a.errors}})})},f}(e,i,h,j,d),l=function(a,b,c){"use strict";var d={},e=function(a,b){var c=300,d=200,e=a?a.width:c,f=a?a.height:d,g=void 0!==b.width?b.width:e,h=void 0!==b.height?b.height:f;return{width:g,height:h}},f=function(b){var c,d=e(b.canvas,b.options);return c=a.clone(b.options),c.width=d.width,c.height=d.height,c};d.drawDocument=function(){var b=arguments[0],d=Array.prototype.slice.call(arguments,1),e=a.parseOptionalParameters(d),g=c.rasterize(b,e.canvas,f(e));return e.callback&&g.then(function(a){e.callback(a.image,a.errors)},function(){e.callback(null,[{resourceType:"document",msg:"Error rendering page"}])}),g};var g=function(a,c,e,f){var g=b.parseHTML(a);return d.drawDocument(g,c,e,f)};d.drawHTML=function(){var b=arguments[0],c=Array.prototype.slice.call(arguments,1),d=a.parseOptionalParameters(c);return g(b,d.canvas,d.options,d.callback)};var h=function(b,c,d){var e=document.implementation.createHTMLDocument("");e.replaceChild(b.documentElement,e.documentElement);var f=d?a.clone(d):{};return d.baseUrl||(f.baseUrl=c),{document:e,options:f}},i=function(a,c,e,f){var g=b.loadDocument(a,e).then(function(b){var f=h(b,a,e);return d.drawDocument(f.document,c,f.options)});return f&&g.then(function(a){f(a.image,a.errors)},function(b){f(null,[{resourceType:"page",url:a,msg:b.message+" "+a}])}),g};return d.drawURL=function(){var b=arguments[0],c=Array.prototype.slice.call(arguments,1),d=a.parseOptionalParameters(c);return i(b,d.canvas,d.options,d.callback)},d}(e,i,k);return l})},{ayepromise:3,inlineresources:40,url:14,xmlserializer:46}],46:[function(a,b,c){var d=function(a){return a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")},e=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},f=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},g=function(a){var b=a.value;return" "+a.name+'="'+e(b)+'"'},h=function(a){var b=a.tagName;return"http://www.w3.org/1999/xhtml"===a.namespaceURI&&(b=b.toLowerCase()),b},i=function(a){var b=Array.prototype.map.call(a.attributes||a.attrs,function(a){return a.name}).indexOf("xmlns")>=0;return b||a.parentNode&&a.namespaceURI===a.parentNode.namespaceURI&&"html"!==h(a)?"":' xmlns="'+a.namespaceURI+'"'},j=function(a){return Array.prototype.map.call(a.childNodes,function(a){return o(a)}).join("")},k=function(a){var b="<"+h(a);return b+=i(a),Array.prototype.forEach.call(a.attributes||a.attrs,function(a){b+=g(a)}),a.childNodes.length>0?(b+=">",b+=j(a),b+="</"+h(a)+">"):b+="/>",b},l=function(a){var b=a.nodeValue||a.value||"";return f(b)},m=function(a){return"<!--"+a.data.replace(/-/g,"&#45;")+"-->"},n=function(a){return"<![CDATA["+a.nodeValue+"]]>"},o=function(a){return"#document"===a.nodeName||"#document-fragment"===a.nodeName?j(a):a.tagName?k(a):"#text"===a.nodeName?l(a):"#comment"===a.nodeName?m(a):"#cdata-section"===a.nodeName?n(a):void 0};c.serializeToString=function(a){return d(o(a))}},{}]},{},[2])(2)});