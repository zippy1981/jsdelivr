/*! lazysizes - v0.7.1 - 2015-01-01
 Licensed MIT */
!function(a,b,c){"use strict";function d(a,b){return a.w-b.w}function e(a){var b={url:a.url};return b[a.desc.type]=a.desc.val,b}function f(b){var c={srcset:b.getAttribute(lazySizes.cfg.srcsetAttr)}||"",f=a.respimage?respimage._.parseSet(c):a.parseSrcset(c.srcset);return b._lazyMaxDprSrcset=c,c.cands=f,f[0]&&f[0].desc&&(f=f.map(e),c.cands=f),c.index=0,c.dirty=!1,f[0]&&f[0].w?(f.sort(d),c.cSrcset=[f[0].url+" "+f[0].w+"w"]):(c.cSrcset=[],c.cands=[]),c}function g(a){var b,c,d,e=a.parentNode||{},g=f(a);if(g.isImg=!0,n.test(e.nodeName||""))for(g.picture=!0,b=e.getElementsByTagName("source"),c=0,d=b.length;d>c;c++)f(b[c]).isImg=!1;return g}function h(a,b,c){var d,e;return a&&a.w?a.w>c?!1:(d=1-a.w/c,e=b/c-1,0>e-d):!0}function i(a,b){var c,d,e;for(c=a.index+1;c<a.cands.length;c++){if(d=a.cands[c],e=!1,d.w){if(!(d.w<=b||h(a.cands[c-1],d.w,b)))break;e="w"}else d.x||(d.x=d.d||1),e="x";e&&(a.cSrcset.push(d.url+" "+d[e]+e),a.index=c)}}function j(b,d,e){var f,g,h=b._lazyMaxDprSrcset;h&&(g=h.index,i(h,d),h.dirty&&g==h.index||(b.setAttribute(e,h.cSrcset.join(", ")),h.dirty=!0,h.isImg&&"srcset"==e&&!a.HTMLPictureElement&&(a.respimage&&!respimage._.observer?(f=b[respimage._.ns],f&&(f.srcset=c),respimage({reevaluate:!0,reparse:!0,elements:[b]})):a.picturefill&&picturefill({reevaluate:!0,reparse:!0,elements:[b]})),h.cSrcset.length>=h.cands.length&&b.removeAttribute("data-optimumx")))}function k(a){var b=a.getAttribute("data-optimumx")||a.getAttribute("data-maxdpr");return b&&(b="auto"==b?l.getOptimumX(a):parseFloat(b,10)),b}var l,m,n=/^picture$/i;a.addEventListener&&a.devicePixelRatio&&(l=a.lazySizes&&lazySizes.cfg||a.lazySizesConfig,l||(l={},a.lazySizesConfig=l),"function"!=typeof l.getOptimumX&&(l.getOptimumX=function(){var b=a.devicePixelRatio;return b*=b>2.5?.7:b>1.9?.8:b>1.4?.9:.99,Math.round(100*b)/100}),m=function(){a.lazySizes&&!a.lazySizes.getOptimumX&&(a.lazySizes.getX=k)},addEventListener("lazybeforesizes",function(b){var c,d,e,f,h,i,l,m;if(!(!a.respimage&&!a.parseSrcset||b.defaultPrevented||!(c=k(b.target))||c>=a.devicePixelRatio||b.target._lazysizesWidth&&b.target._lazysizesWidth>b.details.width)&&(d=b.target._lazyMaxDprSrcset||g(b.target),e=b.details.width*c)){if(f=b.details.dataAttr?lazySizes.cfg.srcsetAttr:"srcset",d.picture&&(h=b.target.parentNode))for(i=h.getElementsByTagName("source"),l=0,m=i.length;m>l;l++)j(i[l],e,f);j(b.target,e,f)}},!1),m(),setTimeout(m))}(window,document);