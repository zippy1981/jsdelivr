/*! lazysizes - v0.6.0 - 2014-12-22
 Licensed MIT */
!function(a){window.lazySizes=a(),"function"==typeof define&&define.amd&&define(function(){return window.lazySizes})}(function(){"use strict";function a(a,b){var c;window.picturefill?picturefill({reevaluate:!0,reparse:!0,elements:[a]}):window.respimage?(b&&(c=a[respimage._.ns],c&&(c[b.srcset?"srcset":"src"]=void 0)),respimage({reparse:!0,elements:[a]})):!window.HTMLPictureElement&&window.console&&"complete"==r.readyState&&console.log("use respimg polyfill: http://bit.ly/1FCts3P")}function b(a){t++,a=d(a),y(a,K,!0),clearTimeout(B),B=setTimeout(K,999)}function c(){m=0,clearTimeout(l)}function d(b,c){var d,e,g,h,j,k,l,m,p,q,r=z(b,"lazybeforeunveil",{force:!!c}),s=b.currentSrc||b.src;if(!r.defaultPrevented&&(j=b.getAttribute(i.sizesAttr)||b.getAttribute("sizes"),j&&("auto"==j?f(b,!0):b.setAttribute("sizes",j),i.clearAttr&&b.removeAttribute(i.sizesAttr)),l=b.getAttribute(i.srcsetAttr),k=b.getAttribute(i.srcAttr),(p=v.test(b.nodeName||""))&&(m=b.parentNode,q=u.test(m.nodeName||"")),i.addClasses&&(n(b,i.loadingClass),y(b,N,!0)),l||k)){if(q)for(d=m.getElementsByTagName("source"),e=0,g=d.length;g>e;e++)h=d[e].getAttribute(i.srcsetAttr),h&&d[e].setAttribute("srcset",h);l?(b.setAttribute("srcset",l),i.clearAttr&&b.removeAttribute(i.srcsetAttr)):k&&(b.setAttribute("src",k),i.clearAttr&&b.removeAttribute(i.srcAttr))}return x(function(){o(b,i.lazyClass),"auto"==j&&n(b,i.autosizesClass),(l||j)&&a(b,{srcset:l,src:k}),b.lazyload&&(b.lazyload=0),!r.details.stopSwitchClass&&i.addClasses&&(!p||!l&&!k||b.complete&&s==(b.currentSrc||b.src))&&N({target:b})}),b}function e(){k=0,clearTimeout(j)}function f(b,c){var d,e,f,g,h,j,k,l;if(g=b.parentNode){if(d=g.offsetWidth,e=b.offsetWidth,f=e>d?e:d,!f&&!b._lazysizesWidth)for(;g&&g!=r.body&&!f;)f=g.offsetWidth,g=g.parentNode;if(l=z(b,"lazybeforesizes",{width:f,dataAttr:!!c}),!l.defaultPrevented&&(f=l.details.width,f&&f!==b._lazysizesWidth&&(!i.onlyLargerSizes||!b._lazysizesWidth||b._lazysizesWidth<f))){if(b._lazysizesWidth=f,f+="px",b.setAttribute("sizes",f),u.test(g.nodeName||""))for(h=g.getElementsByTagName("source"),j=0,k=h.length;k>j;j++)h[j].setAttribute("sizes",f);l.details.dataAttr||a(b)}}}if(Date.now&&window.document.getElementsByClassName){var g,h,i,j,k,l,m,n,o,p,q,r=window.document,s=r.documentElement,t=0,u=/^picture$/i,v=/^img$/i,w=40,x=window.setImmediate||window.setTimeout,y=function(a,b,c){var d=c?"addEventListener":"removeEventListener";c&&y(a,b),a[d]("load",b,!1),a[d]("error",b,!1),a[d]("lazyincluded",b,!1)},z=function(a,b,c){var d=r.createEvent("Event");return d.initEvent(b,!0,!0),d.details=c||{},a.dispatchEvent(d),d};r.documentElement.classList?(n=function(a,b){a.classList.add(b)},o=function(a,b){a.classList.remove(b)},p=function(a,b){return a.classList.contains(b)}):(n=function(a,b){p(a,b)||(a.className+=" "+b)},o=function(a,b){var c;p(a,b)&&(c=new RegExp("(\\s|^)"+b+"(\\s|$)"),a.className=a.className.replace(c," "))},p=function(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))});var A,B,C,D,E,F,G,H,I,J=Date.now(),K=function(a){t--,clearTimeout(B),a&&a.target&&y(a.target,K),(!a||0>t||!a.target)&&(t=0)},L=function(){var a,b,d=function(){b=!1},e=function(){clearTimeout(a),c(),M(),setTimeout(d)};return{debounce:function(){clearTimeout(a),b=!0,a=setTimeout(e,66)},throttled:function(){b||(b=!0,clearTimeout(a),a=setTimeout(e,66))}}}(),M=function(){var a,c,e;if(A=g.length,J=Date.now(),A){for(C=window.innerWidth+w,D=window.innerHeight+w,I=-1*w;A>m;m++)if(a=g[m].getBoundingClientRect(),(H=a.bottom)>=I&&(E=a.top)<=D&&(G=a.right)>=I&&(F=a.left)<=C&&(H||G||F||E)&&(!q||"hidden"!=getComputedStyle(g[m],null).visibility))d(g[m]),e=!0;else{if(A-1>m&&Date.now()-J>9){c=!1,l=setTimeout(M,4);break}!e&&q&&!c&&i.preloadAfterLoad&&2>t&&(H||G||F||E||"auto"!=g[m].getAttribute(i.sizesAttr))&&(c=g[m])}c&&!e&&b(c)}},N=function(a){n(a.target,a.target.getAttribute("data-loadedclass")||i.loadedClass),o(a.target,i.loadingClass),y(a.target,N)},O=function(){var a,b=function(){clearTimeout(a),e(),P()};return function(){clearTimeout(a),clearTimeout(j),a=setTimeout(b,99)}}(),P=function(){var a,b,c,d=h.length;if(d)for(b=Date.now(),c=k||0,a=c+3,e();d>c;c++)if(f(h[c]),c>a&&d-1>c&&Date.now()-b>9){k=c+1,j=setTimeout(P,4);break}},Q=function(){w=600,r.addEventListener("load",L.throttled,!0),q=!0},R=function(){i.mutation&&(window.MutationObserver?new MutationObserver(L.throttled).observe(s,{childList:!0,subtree:!0,attributes:!0}):(s.addEventListener("DOMNodeInserted",L.throttled,!0),s.addEventListener("DOMAttrModified",L.throttled,!0))),i.hover&&r.addEventListener("mouseover",L.throttled,!0),r.addEventListener("focus",L.throttled,!0),window.addEventListener("hashchange",L.throttled,!0),"onmozfullscreenchange"in s?window.addEventListener("mozfullscreenchange",L.throttled,!0):"onwebkitfullscreenchange"in s?window.addEventListener("webkitfullscreenchange",L.throttled,!0):window.addEventListener("fullscreenchange",L.throttled,!0),i.cssanimation&&(r.addEventListener("animationstart",L.throttled,!0),r.addEventListener("transitionstart",L.throttled,!0))};return i=window.lazySizesConfig||{},function(){var a,b={mutation:!0,hover:!0,cssanimation:!0,lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",scroll:!0,autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",preloadAfterLoad:!0,onlyLargerSizes:!0};for(a in b)a in i||(i[a]=b[a])}(),setTimeout(function(){g=r.getElementsByClassName(i.lazyClass),h=r.getElementsByClassName(i.autosizesClass),i.scroll&&addEventListener("scroll",L.throttled,!0),addEventListener("resize",L.debounce,!1),addEventListener("resize",O,!1),/^i|^loade|c/.test(r.readyState)?R():r.addEventListener("DOMContentLoaded",R,!1),"complete"==r.readyState?Q():(addEventListener("load",Q,!1),r.addEventListener("readystatechange",L.throttled,!1)),L.throttled(),o(s,"no-js")}),{cfg:i,updateAllSizes:O,updateAllLazy:function(a){a?(c(),M()):L.throttled()},unveilLazy:function(a){p(a,i.lazyClass)&&d(a)},updateSizes:f,updatePolyfill:a,aC:n,rC:o,hC:p,fire:z}}});