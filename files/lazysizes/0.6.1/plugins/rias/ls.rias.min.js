/*! lazysizes - v0.6.1 - 2014-12-23
 Licensed MIT */
!function(a,b,c){"use strict";function d(a){var b,c=0;for(a.push(96);!b||2800>b;)c+=10,c>60&&(c+=10),b=16*c,a.push(b)}function e(){var b,c=function(){},e={prefix:"",postfix:"",srcAttr:"data-src",quality:78,hdQuality:60,maxdpr:1.7,absUrl:!1,encodeSrc:!1,modifySrc:c,modifyOptions:c};if(l=a.lazySizes&&lazySizes.cfg||a.lazySizesConfig){l.rias||(l.rias={}),m=l.rias,"formats"in m||(m.formats=[],d(m.formats,96));for(b in e)b in m||(m[b]=e[b]);return m.disable||k(),!0}return!1}function f(a,b){var c,d,e,f=a._lazyRiasOpts;if(!f){d=a.parentNode,f={isPicture:!(!d||!p.test(d.nodeName||""))},a._lazyRiasOpts=f,e=function(b,c){var d=a.getAttribute("data-"+b);null!=d?("true"==d?d=!0:"false"==d?d=!1:o.test(d)?d=parseFloat(d):"function"==typeof m[b]&&(d=m[b](a,d)),f[b]=d):n[typeof m[b]]?f[b]=m[b]:c&&"function"==typeof m[b]&&(f[b]=m[b](a,d))};for(c in m)e(c);b.replace(r,function(a,b){b in f||e(b,!0)})}return f}function g(a,b,c,d){return Math.abs(b-d.width)<Math.abs(a-d.width)?b:a}function h(a,b){return a.replace(r,function(a,c){return c in b?b[c]:a})}function i(a,b,c,d,e,f){var g;if(a)return a=h(a,b),b.absUrl&&(s.setAttribute("href",a),a=s.href),b.encodeSrc&&(a=encodeURIComponent(a).replace(q,"+")),a=e+a+f,g=m.modifySrc(a,b,c,m),null==g&&(g=a),g&&g!=c.getAttribute(d)?(c.setAttribute(d,g),!0):void 0}function j(c,d,e){var h=f(c,e),i="formats"in h?h.formats:m.formats,j=b.createEvent("Event");return h.width=d,h.height=c.offsetHeight,h.dpr=a.devicePixelRatio||1,h.maxdpr<h.dpr&&(h.dpr=h.maxdpr),h.dpr>1.4&&h.quality>h.hdQuality&&(h.quality=h.hdQuality),h.dpr>1&&(h.width*=h.dpr,h.height*=h.dpr),i&&(Array.isArray(i)?(i.width=h.width,h.width=i.reduce(g)):h.width=Math.round(h.width/i)*i),m.modifyOptions(h,c),j.initEvent("lazyriasmodifyoptions",!0,!1),j.details=h,c.dispatchEvent(j),h}function k(){b.addEventListener("lazybeforesizes",function(b){var d,e,f,g,k,n,o,p,q,r,s,t,u;if(!(b.defaultPrevented||!(d=b.target._lazyRiasSrc||b.target.getAttribute(b.target.getAttribute("data-srcattr")||m.srcAttr))||b.target._lazysizesWidth&&b.target._lazysizesWidth>b.details.width||(e=b.target._lazyRiasOpts,b.target._lazysizesWidth=b.details.width,b.preventDefault(),e&&e._elemWidth&&(b.details.width-e._elemWidth)/e._elemWidth<.2))){if(e=j(b.target,b.details.width,d),t=h(e.prefix,e),u=h(e.postfix,e),o=b.details.dataAttr?l.srcAttr:"src",b.target._lazyRiasSrc||(b.target._lazyRiasSrc=d),(e.isPicture||b.target.getAttribute(b.details.dataAttr?l.srcsetAttr:"srcset"))&&(o=b.details.dataAttr?l.srcsetAttr:"srcset",q=!0),e.isPicture&&(f=b.target.parentNode))for(g=f.getElementsByTagName("source"),k=0,n=g.length;n>k;k++)s=g[k]._lazyRiasSrc||g[k].getAttribute(m.srcAttr)||g[k].getAttribute(l.srcsetAttr),g[k]._lazyRiasSrc||(g[k]._lazyRiasSrc=s),i(s,e,g[k],o,t,u)&&(p="changed");i(d,e,b.target,o,t,u)&&(p=!0),q&&b.target.setAttribute("sizes",b.details.width+"px"),p&&(e._elemWidth=b.details.width,!q||b.details.dataAttr||a.HTMLPictureElement||(a.picturefill?picturefill({reevaluate:!0,reparse:!0,elements:[b.target]}):a.respimage&&!respimage._.observer?(r=b.target[respimage._.ns],p===!0&&r&&(r.srcset=c),respimage({reparse:!0,elements:[b.target]})):a.console&&console.log("a picture/[srcset] polyfill is needed here.")))}},!1)}if(b.addEventListener){var l,m,n={string:1,"boolean":1,number:1},o=/^\-*\+*\d+\.*\d*$/,p=/^picture$/i,q=/%20/g,r=/\s*\{\s*([a-z0-9]+)\s*\}\s*/gi,s=b.createElement("a");e()||setTimeout(e)}}(window,document);