(function(){var b,c=[].indexOf||function(f){for(var e=0,d=this.length;e<d;e++){if(e in this&&this[e]===f){return e}}return -1},a={}.hasOwnProperty;b=angular.module("piwik",[]);b.factory("PiwikActionMethods",function(){return["setTrackerUrl","setSiteId","setCustomData","setCustomVariable","deleteCustomVariable","setLinkTrackingTimer","setDownloadExtensions","addDownloadExtensions","setDomains","setIgnoreClasses","setRequestMethod","setReferrerUrl","setCustomUrl","setDocumentTitle","setDownloadClasses","setLinkClasses","setCampaignNameKey","setCampaignKeywordKey","discardHashTag","setCookieNamePrefix","setCookieDomain","setCookiePath","setVisitorCookieTimeout","setSessionCookieTimeout","setReferralCookieTimeout","setConversionAttributionFirstReferrer","setDoNotTrack","addListener","enableLinkTracking","setHeartBeatTimer","killFrame","redirectFile","setCountPreRendered","trackGoal","trackLink","trackPageView","setEcommerceView","addEcommerceItem","trackEcommerceOrder","trackEcommerceCartUpdate"]});b.factory("PiwikGetMethods",function(){return["getVisitorId","getVisitorInfo","getAttributionInfo","getAttributionCampaignName","getAttributionCampaignKeyword","getAttributionReferrerTimestamp","getAttributionReferrerUrl","getCustomData","getCustomVariable"]});b.factory("Piwik",["$q","$window","PiwikActionMethods","PiwikGetMethods",function(e,h,f,g){var d;h._paq=h._paq||[];return d=(function(){var i,m,q,n,l,p,j,o;function k(){}o=k;m=function(r){return o[r]=function(){var s,v,u,t;v=[r];for(u=0,t=arguments.length;u<t;u++){s=arguments[u];v.push(s)}return h._paq.push(v)}};for(n=0,p=f.length;n<p;n++){i=f[n];m(i)}q=function(r){return o[r]=function(){var t,s;t=e.defer();s=arguments;h._paq.push(function(){try{return t.resolve(this[r].apply(this,s))}catch(u){return t.reject(u)}});return t.promise}};for(l=0,j=g.length;l<j;l++){i=g[l];q(i)}return k})()}]);b.directive("ngpPiwik",["$window","$document","Piwik","PiwikActionMethods",function(k,j,d,e){var g,f,h,i;k._paq=k._paq||[];g=["setDomains","setDownloadClasses","setIgnoreClasses","setLinkClasses"];h=/,/g;h.compile(h);f=function(r,m){var n,q,p,l,o;n=[r];if((c.call(g,r)>=0)&&h.test(m)){n.push(m.split(","))}else{o=m.split(",");for(p=0,l=o.length;p<l;p++){q=o[p];n.push(q)}}return n};i={restrict:"E",replace:false,transclude:true,compile:function(n,o,m){var l;l=j[0].createElement("script");l.setAttribute("src",o.ngpSetJsUrl);j[0].body.appendChild(l);return{post:function(s,t,r){var q,p;for(q in r){if(!a.call(r,q)){continue}p=r[q];if(/^ngp/.test(q)){(function(w,u){var x;x=w[3].toLowerCase()+w.slice(4);if(!(c.call(e,x)>=0)){return}k._paq.push(f(x,u));return r.$observe(w,function(v){return k._paq.push(f(x,v))})})(q,p)}}return k._paq.push(["trackPageView"])}}}};return i}])}).call(this);