// mutationobserver-shim v0.3.0 (github.com/megawac/MutationObserver.js)
// Authors: Graeme Yeates (github.com/megawac) 
window.MutationObserver=window.MutationObserver||window.WebKitMutationObserver||function(x){function h(a){this.g=[];this.k=a}function G(a){(function c(){var d=a.takeRecords();d.length&&a.k(d,a);a.f=setTimeout(c,h._period)})()}function t(a){var b={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null},c;for(c in a)b[c]!==x&&a[c]!==x&&(b[c]=a[c]);return b}function H(a,b){var c=A(a,b);return function(d){var g=
d.length,p;b.a&&c.a&&z(d,a,c.a,b.d);if(b.b||b.e)p=I(d,a,c,b);if(p||d.length!==g)c=A(a,b)}}function z(a,b,c,d){for(var g={},p=b.attributes,k,n,B=p.length;B--;)k=p[B],n=k.name,d&&d[n]===x||(k.value!==c[n]&&a.push(t({type:"attributes",target:b,attributeName:n,oldValue:c[n],attributeNamespace:k.namespaceURI})),g[n]=!0);for(n in c)g[n]||a.push(t({target:b,type:"attributes",attributeName:n,oldValue:c[n]}))}function I(a,b,c,d){function g(b,c,g,k,w){var h=b.length-1;w=-~((h-w)/2);for(var f,m,e;e=b.pop();)f=
g[e.h],m=k[e.i],d.b&&w&&Math.abs(e.h-e.i)>=h&&(a.push(t({type:"childList",target:c,addedNodes:[f],removedNodes:[f],nextSibling:f.nextSibling,previousSibling:f.previousSibling})),w--),d.a&&m.a&&z(a,f,m.a,d.d),d.c&&3===f.nodeType&&f.nodeValue!==m.c&&a.push(t({type:"characterData",target:f})),d.e&&p(f,m)}function p(b,c){for(var h=b.childNodes,q=c.b,w=h.length,x=q?q.length:0,f,m,e,l,u,y=0,v=0,r=0;v<w||r<x;)l=h[v],u=(e=q[r])&&e.j,l===u?(d.a&&e.a&&z(a,l,e.a,d.d),d.c&&3===l.nodeType&&l.nodeValue!==e.c&&
a.push(t({type:"characterData",target:l})),m&&g(m,b,h,q,y),d.e&&(l.childNodes.length||e.b&&e.b.length)&&p(l,e),v++,r++):(k=!0,f||(f={},m=[]),l&&(f[e=C(l)]||(f[e]=!0,-1===(e=D(q,l,r,"j"))?d.b&&(a.push(t({type:"childList",target:b,addedNodes:[l],nextSibling:l.nextSibling,previousSibling:l.previousSibling})),y++):m.push({h:v,i:e})),v++),u&&u!==h[v]&&(f[e=C(u)]||(f[e]=!0,-1===(e=D(h,u,v))?d.b&&(a.push(t({type:"childList",target:c.j,removedNodes:[u],nextSibling:q[r+1],previousSibling:q[r-1]})),y--):m.push({h:e,
i:r})),r++));m&&g(m,b,h,q,y)}var k;p(b,c);return k}function A(a,b){var c=!0;return function g(a){var k={j:a};3===a.nodeType&&b.c?k.c=a.nodeValue:(b.a&&c&&1===a.nodeType&&(k.a=E(a.attributes,function(a,c){if(!b.d||b.d[c.name])a[c.name]=c.value;return a})),c&&(b.b||b.c||b.a&&b.e)&&(k.b=J(a.childNodes,g)),c=b.e);return k}(a)}function C(a){try{return a.id||(a.mo_id=a.mo_id||F++)}catch(b){try{return a.nodeValue}catch(c){return F++}}}function J(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d,a);return c}
function E(a,b){for(var c={},d=0;d<a.length;d++)c=b(c,a[d],d,a);return c}function D(a,b,c,d){for(;c<a.length;c++)if((d?a[c][d]:a[c])===b)return c;return-1}h._period=30;h.prototype={observe:function(a,b){for(var c={a:!!(b.attributes||b.attributeFilter||b.attributeOldValue),b:!!b.childList,e:!!b.subtree,c:!(!b.characterData&&!b.characterDataOldValue)},d=this.g,g=0;g<d.length;g++)d[g].m===a&&d.splice(g,1);b.attributeFilter&&(c.d=E(b.attributeFilter,function(a,b){a[b]=!0;return a}));d.push({m:a,l:H(a,
c)});this.f||G(this)},takeRecords:function(){for(var a=[],b=this.g,c=0;c<b.length;c++)b[c].l(a);return a},disconnect:function(){this.g=[];clearTimeout(this.f);this.f=null}};var F=1;return h}(void 0);
