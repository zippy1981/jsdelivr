/*! laroux 23-11-2014 */
!function(a){"use strict";a.anim={data:[],fx:{interpolate:function(a,b,c){return a+(b-a)*c},easing:function(a){return-Math.cos(a*Math.PI)/2+.5}},set:function(b){b.startTime=null,(void 0===b.unit||null===b.unit)&&(b.unit=""),(void 0===b.from||null===b.from)&&(b.from=b.object===document.body&&"scrollTop"==b.property?document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:b.object[b.property]),"string"==typeof b.from&&(b.from=Number(b.from)),(void 0===b.reset||null===b.reset)&&(b.reset=!1),a.anim.data.push(b),1===a.anim.data.length&&requestAnimationFrame(a.anim.onframe)},setCss:function(b){(void 0===b.from||null===b.from)&&(b.from=a.css.getProperty(b.object,b.property)),b.object=b.object.style,b.property=a.helpers.camelCase(b.property),a.anim.set(b)},remove:function(b){var c=null;for(var d in a.anim.data)if(a.anim.data.hasOwnProperty(d)){var e=a.anim.data[d];if(void 0!==e.id&&e.id==b){c=d;break}}return null!==c?(a.anim.data.splice(c,1),!0):!1},onframe:function(b){var c=[];for(var d in a.anim.data)if(a.anim.data.hasOwnProperty(d)){var e=a.anim.data[d];null===e.startTime&&(e.startTime=b);var f=a.anim.step(e,b);f===!1?c.unshift(d):b>e.startTime+e.time&&(e.reset?(e.startTime=b,newanim.object===document.body&&"scrollTop"==newanim.property?scrollTo(document.body,e.from):e.object[e.property]=e.from):c.unshift(d))}for(var g in c)c.hasOwnProperty(g)&&a.anim.data.splice(c[g],1);a.anim.data.length>0&&requestAnimationFrame(a.anim.onframe)},step:function(b,c){var d=b.startTime+b.time,e=c>d?1:(c-b.startTime)/b.time,f=a.anim.fx.interpolate(b.from,b.to,a.anim.fx.easing(e))+b.unit;b.object===document.body&&"scrollTop"==b.property?scrollTo(document.body,f):b.object[b.property]=f}}}(this.laroux),function(a){"use strict";a.date={parseEpoch:function(a,b){return 3e3>=a?"now":6e4>a?(a=Math.ceil(a/1e3),a+" seconds"):36e5>a?(a=Math.ceil(a/6e4),1==a?"a minute":a+" minutes"):864e5>a?(a=Math.ceil(a/36e5),1==a?"an hour":a+" hours"):6048e5>a?(a=Math.ceil(a/864e5),1==a?"a day":a+" days"):24192e5>a?(a=Math.ceil(a/6048e5),1==a?"a week":a+" weeks"):b===!0?null:18144e6>a?(a=Math.ceil(a/2592e6),1==a?"a month":a+" months"):(a=Math.ceil(a/31536e6),1==a?"a year":a+" years")},monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],getDateString:function(b,c){var d,e=Date.now(),f=("0"+b.getDate()).substr(-2,2),g=("0"+(b.getMonth()+1)).substr(-2,2),h=a.date.monthsShort[b.getMonth()],i=b.getFullYear(),j=e-b.getTime();0>j?(d=!0,j=Math.abs(j)):d=!1;var k=a.date.parseEpoch(j,!0);return null!==k?d?k+" later":k:c?f+" "+h+" "+i:f+"."+g+"."+i},getLongDateString:function(b,c,d){var e,f=("0"+b.getDate()).substr(-2,2),g=("0"+(b.getMonth()+1)).substr(-2,2),h=a.date.monthsShort[b.getMonth()],i=b.getFullYear();if(e=c?f+" "+h+" "+i:f+"."+g+"."+i,d){var j=("0"+b.getHours()).substr(-2,2),k=("0"+b.getMinutes()).substr(-2,2);e+=" "+j+":"+k}return e}}}(this.laroux),function(a){"use strict";a.mvc={appObjects:[],init:function(){var b=a.dom.select("*[lr-app]");for(var c in b)a.mvc.appObjects.push({app:b[c].getAttribute("lr-app"),element:b[c],model:{},cachedNodes:null})},scanElement:function(b,c,d){for(var e=0,f=b.attributes,g=f.length;g>e;e++)for(var h in c){var i="{{"+c[h]+"}}";-1!==f[e].value.indexOf(i)&&d.push({node:f[e],key:c[h],value:f[e].value})}for(var j=0,k=b.childNodes,l=k.length;l>j;j++){for(var m in c){var n="{{"+c[m]+"}}";3!==k[j].nodeType||-1!==k[j].textContent.indexOf(n)&&d.push({node:k[j],key:c[m],value:k[j].textContent})}1===k[j].nodeType&&a.mvc.scanElement(k[j],c,d)}},update:function(){for(var b in a.mvc.appObjects){var c=a.mvc.appObjects[b];a.mvc.updateApp(c)}},updateApp:function(b,c){if(void 0!==b.controller&&b.controller(b.model),null===b.cachedNodes){b.cachedNodes=[];var d=a.helpers.getKeysRecursive(b.model);a.mvc.scanElement(b.element,d,b.cachedNodes)}for(var e in b.cachedNodes){var f=b.cachedNodes[e];(void 0===c||-1!==c.indexOf(f.key))&&(f.node instanceof Attr?f.node.value=f.value:f.node.textContent=f.value)}for(var g in b.cachedNodes){var h=b.cachedNodes[g];if(void 0===c||-1!==c.indexOf(h.key)){var i="{{"+h.key+"}}",j=a.helpers.getElement(b.model,h.key);h.node instanceof Attr?h.node.value=h.node.value.replace(i,j):h.node.textContent=h.node.textContent.replace(i,j)}}},observer:function(b){var c={};for(var d in b)if("update"==b[d].type)for(var e in a.mvc.appObjects){var f=a.mvc.appObjects[e];f.model==b[d].object&&(f.app in c?c[f.app].keys.push(b[d].name):c[f.app]={app:f,keys:[b[d].name]})}for(var g in c)a.mvc.updateApp(c[g].app,c[g].keys)},bind:function(b,c,d){void 0===d&&(d=window[b]);for(var e in a.mvc.appObjects){var f=a.mvc.appObjects[e];f.app==b&&(f.model=c,f.controller=d,a.mvc.updateApp(f))}Object.observe(c,a.mvc.observer)}}}(this.laroux),function(a){"use strict";a.stack=function(){this.data={},this.add=function(a,b){this.data[a]=b},this.addRange=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.data[b]=a[b])},this.get=function(a,b){return this.data[a]||b||null},this.getRange=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=this.data[a[c]]);return b},this.keys=function(){return Object.keys(this.data)},this.length=function(){return Object.keys(this.data).length},this.exists=function(a){return a in this.data},this.remove=function(a){delete this.data[a]},this.clear=function(){this.data={}}}}(this.laroux),function(a){"use strict";a.templates={engine:null,load:function(b,c){var d=b.innerHTML;return a.templates.engine.compile(d,c)},apply:function(b,c,d){var e=a.templates.load(b,d);return e.render(c)},insert:function(b,c,d,e,f){var g=a.templates.apply(b,c,f);a.dom.insert(d,e||"beforeend",g)}}}(this.laroux),function(a){"use strict";a.ui={floatContainer:null,popup:{defaultTimeout:500,createBox:function(b,c,d){return a.dom.createElement("DIV",{id:b,"class":c},d)},msgbox:function(b,c){var d=a.helpers.getUniqueId(),e=a.ui.popup.createBox(d,"laroux_msgbox",c);a.ui.floatContainer.appendChild(e),a.css.setProperty(e,{opacity:1}),a.timers.set({timeout:b,reset:!1,ontick:function(b){a.dom.remove(b)},state:e})},init:function(){a.popupFunc=function(b){a.ui.popup.msgbox(a.ui.popup.defaultTimeout,b)}}},loading:{elementSelector:null,element:null,defaultDelay:1500,timer:null,killTimer:function(){clearTimeout(a.ui.loading.timer)},hide:function(){a.ui.loading.killTimer(),a.css.setProperty(a.ui.loading.element,{display:"none"}),localStorage.loadingIndicator="false"},show:function(b){a.ui.loading.killTimer(),void 0===b&&(b=a.ui.loading.defaultDelay),b>0?setTimeout(function(){a.ui.loading.show(0)},b):(a.css.setProperty(a.ui.loading.element,{display:"block"}),localStorage.loadingIndicator="true")},init:function(){null===a.ui.loading.element&&null!==a.ui.loading.elementSelector&&(a.ui.loading.element=a.dom.selectSingle(a.ui.loading.elementSelector)),null!==a.ui.loading.element&&(a.dom.setEvent(window,"load",a.ui.loading.hide),a.dom.setEvent(window,"beforeunload",a.ui.loading.show),void 0!==localStorage.loadingIndicator&&"true"==localStorage.loadingIndicator?a.ui.loading.show(0):a.ui.loading.show())}},dynamicDates:{updateDatesElements:null,updateDates:function(){null===a.ui.dynamicDates.updateDatesElements&&(a.ui.dynamicDates.updateDatesElements=a.dom.select("*[data-epoch]")),a.ui.dynamicDates.updateDatesElements.forEach(function(b){var c=new Date(1e3*(b.getAttribute("data-epoch")>>0));a.dom.replace(b,a.date.getDateString(c)),b.setAttribute("title",a.date.getLongDateString(c))})},init:function(){a.timers.set({timeout:500,reset:!0,ontick:a.ui.dynamicDates.updateDates})}},scrollView:{selectedElements:[],onhidden:function(b){a.css.setProperty(b,{opacity:0}),a.css.setTransition(b,["opacity"])},onreveal:function(b){a.css.setProperty(b,{opacity:1})},set:function(b){for(var c in b)b.hasOwnProperty(c)&&(a.css.inViewport(b[c])||a.ui.scrollView.selectedElements.push(b[c]));a.ui.scrollView.onhidden(a.ui.scrollView.selectedElements),a.dom.setEvent(window,"scroll",a.ui.scrollView.reveal)},reveal:function(){var b=[],c=[];a.each(a.ui.scrollView.selectedElements,function(d,e){a.css.inViewport(e)&&(b.unshift(d),c.push(e))});for(var d in b)b.hasOwnProperty(d)&&a.ui.scrollView.selectedElements.splice(b[d],1);0===a.ui.scrollView.selectedElements.length&&a.dom.unsetEvent(window,"scroll"),c.length>0&&a.ui.scrollView.onreveal(c)}},createFloatContainer:function(){a.ui.floatContainer||(a.ui.floatContainer=a.dom.createElement("DIV",{id:"laroux_floatdiv"}),document.body.insertBefore(a.ui.floatContainer,document.body.firstChild))},init:function(){a.ui.createFloatContainer(),a.ui.popup.init(),a.ui.loading.init(),a.ui.dynamicDates.init()}}}(this.laroux);