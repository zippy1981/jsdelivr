!function(a,b){"function"==typeof define&&define.amd?define(function(){return b(a)}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports.mota=b):a.mota=b(a)}("undefined"!=typeof window?window:this,function(a){function b(a,b,c){var d,e,f,g=void 0!==c;if(S(a))for(e=a.length,d=0;e>d&&(g||(c=a[d]),b.call(c,d,a[d])!==!1);d++);else for(f=N(a),e=f.length,d=0;e>d&&(g||(c=a[f[d]]),b.call(c,f[d],a[f[d]])!==!1);d++);return a}function c(a,b){gb[a]=b}function d(a,b){var c={};try{c[hb]={configurable:!0,value:b},Object.defineProperties(a,c)}catch(d){a[hb]=b}return b}function e(){}function f(a){return Yb(a)||Q(a)||Xb(a)}function g(){if(Fc){var a=new Map;return a.pointers=Gc,a}this.keys=[],this.values=[]}function h(a,b,c,d){this.addCallback=a.bind(d),this.removeCallback=b.bind(d),this.changedCallback=c.bind(d),Qc&&(this.observer=new Qc(this.mutationWatcher.bind(this)))}function i(a,b){b=b||Object.create(null);var c=s.createEvent("Event");c.initEvent(a,b.bubbles||!1,b.cancelable||!1);for(var d,e=2;e<Tc.length;e++)d=Tc[e],c[d]=b[d]||Uc[e];c.buttons=b.buttons||0;var f=0;return f=b.pressure?b.pressure:c.buttons?.5:0,c.x=c.clientX,c.y=c.clientY,c.pointerId=b.pointerId||0,c.width=b.width||0,c.height=b.height||0,c.pressure=f,c.tiltX=b.tiltX||0,c.tiltY=b.tiltY||0,c.pointerType=b.pointerType||"",c.hwTimestamp=b.hwTimestamp||0,c.isPrimary=b.isPrimary||!1,c}function j(a){return"body /shadow-deep/ "+k(a)}function k(a){return'[touch-action="'+a+'"]'}function l(a){return"{ -ms-touch-action: "+a+"; touch-action: "+a+"; touch-action-delay: none; }"}function m(){if(Yc){Wc.forEach(function(a){String(a)===a?(Xc+=k(a)+l(a)+"\n",Zc&&(Xc+=j(a)+l(a)+"\n")):(Xc+=a.selectors.map(k)+l(a.rule)+"\n",Zc&&(Xc+=a.selectors.map(j)+l(a.rule)+"\n"))});var a=s.createElement("style");a.textContent=Xc,s.head.appendChild(a)}}function n(){if(!r.PointerEvent){if(r.PointerEvent=Vc,r.navigator.msPointerEnabled){var a=r.navigator.msMaxTouchPoints;Object.defineProperty(r.navigator,"maxTouchPoints",{value:a,enumerable:!0}),Kc.registerSource("ms",sd)}else Kc.registerSource("mouse",ed),void 0!==r.ontouchstart&&Kc.registerSource("touch",nd);Kc.register(s)}}function o(a){if(!Kc.pointermap.has(a))throw new Error("InvalidPointerId")}function p(){r.Element&&!t.prototype.setPointerCapture&&Object.defineProperties(t.prototype,{setPointerCapture:{value:od},releasePointerCapture:{value:pd}})}function q(){}a||(a=this);var r=a,s=a.document,t=r.Element;r.navigator||(r.navigator={});var u=!1,v=function(a,b,c){var d=c&&c.length;if(!c||!d)return a.call(b);switch(d){case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2]);case 4:return a.call(b,c[0],c[1],c[2],c[3]);case 5:return a.call(b,c[0],c[1],c[2],c[3],c[4]);default:return a.apply(b,c)}},w=Array.isArray,x=Object.prototype,y=x.toString,z={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"},A=function(a){if(null==a)return a+"";var b=typeof a;return"object"===b||"function"===b?z[y.call(a)]||"object":b},B=w||function(a){return"array"===A(a)},C=function(a){return"object"===A(a)},D=function(a){var b,c,d,e,f,g,h,i=1,j=arguments.length,k=!1;for(a===!0&&(k=a,a=arguments[i]||{},i++),h=typeof a,"object"!==h&&"function"!==h&&(a={});j>i;i++)if(null!=(b=arguments[i]))for(c in b)d=a[c],e=b[c],a!==e&&(k&&e&&("object"===(f=A(e))||"array"===f)?(g="array"===f?d&&B(d)?d:[]:d&&C(d)?d:{},a[c]=D(k,g,e)):void 0!==e&&(a[c]=e));return a},E=x.hasOwnProperty,F=function(a,b){return null!=a&&E.call(a,b)},G={},H=function(a,b,c){var d,e,f,g=this;return e=a&&F(a,"constructor")?a.constructor:g,d=c?function(a,b){return this instanceof d?a===G?v(e,this,b):v(e,this,arguments):new d(G,arguments)}:function(){return v(e,this,arguments)},f=function(){this.constructor=d},f.prototype=g.prototype,d.prototype=new f,a&&D(d.prototype,a),D(d,g,b),d.__super__=g.prototype,d},I=Array.prototype,J=I.slice,K=function(a){var b;return!!a&&("function"==(b=typeof a)||"object"===b)},L=function(a){var b,c,d;if(a===!0&&F(arguments,1)&&(b=a,a=arguments[1]),!K(a))return a;switch(A(a)){case"array":return b?D(b,[],a):J.call(a);case"number":case"string":case"date":case"boolean":return new(c=a.constructor)(a);case"regexp":return c=a.constructor,d=new c(a),d.lastIndex=a.lastIndex,d;default:return b?D(b,{},a):D({},a)}},M=Object.keys,N=function(a,b){if(!K(a))return[];if(!b&&M)return M(a);var c,d=[];for(c in a)b?d.push(c):F(a,c)&&d.push(c);return d},O="[object Window]",P="[object global]",Q=function(a){if(!a||"object"!=typeof a)return!1;var b=y.call(a);return b===O||b===P},R=Math.pow(2,53)-1,S=function(a){var b,c=A(a);return"array"===c?!0:"object"!==c||Q(a)?!1:(b=a.length,0===b?!0:"number"==typeof b&&b>=0&&R>=b&&b-1 in a)},T=b,U=function(a,b){throw a+" ERROR: "+b},V=function(a,b){console.log(a+" LOG: "+b)},W=a.mota,X=function(){return W&&(a.mota=W),this},Y=Date.now||function(){return+new Date},Z=function(a){for(var b=N(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},$=function(a,b){var c,d,e=A(b);if("string"===e){if(!a)return null;b=a[b]}else if("function"!==e)return null;return void 0!==a?arguments.length>2?(c=J.call(arguments,2),d=function(){return b.apply(a,c.concat(J.call(arguments)))}):d=function(){return b.apply(a,arguments)}:arguments.length>2?(c=J.call(arguments,2),d=function(){return b.apply(this,c.concat(J.call(arguments)))}):d=function(){return b.apply(this,arguments)},d},_={},ab=function(a){return a=a?a+"":"",_[a]||(_[a]=0),a+ ++_[a]},bb="0.5.0",cb={};cb.apply=v,cb.classExtend=H,cb.clone=L,cb.each=T,cb.err=U,cb.extend=D,cb.has=F,cb.keys=N,cb.log=V,cb.noConflict=X,cb.now=Y,cb.pairs=Z,cb.proxy=$,cb.uniqueId=ab,cb.VERSION=bb;var db={},eb=[],fb=/\S+/g,gb={},hb="__mota__"+Y();e.setup=function(a,b,c){var f=a[hb]||d(a,new e);return b?f[b]?f[b]:f[b]=c:f},e.get=function(a,b){var c=a[hb];return b?c&&c[b]:c},e.set=function(a,b,c){var d=a[hb];return d?d[b]=c:void 0},e.del=function(a,b){var c=a[hb];return b&&c?delete c[b]:delete a[hb]},c("MotaData",e);var ib=I.indexOf,jb=function(a,b){var c,d,e;for(a.length>b.length?(c=b,d=a):(c=a,d=b),e=c.length;e--;)if(-1!==ib.call(d,c[e]))return!0;return!1},kb=function(a,b,c,d,f){var g,h,i,j=[],k=0;for(g=e.get(a,"events"),i=g?g.length:0;i>k;k++)h=g[k],b&&h.type!==b||d&&h.handler!==d||!(!c||0===c.length||h.namespaces&&jb(h.namespaces,c))||f&&h.context!==f||(h.index=k,j.push(h));return j},lb=/\.[^.]+/g,mb=/^[^.]+/g,nb=function(a,b,c,d){this.type=a,this.namespaces=b,this.handler=c,this.context=d},ob=function(a,b,c,d,e,f){var g,h,i,j,k,l,m;for(d=(d||"").match(fb)||[""],i=d.length,g=0;i>g;g++)if(k=(d[g].match(mb)||eb)[0],l=d[g].match(lb),"on"===b)c.call(a,new nb(k,l,e,f));else for(m=kb(a,k,l,e,f),j=m.length,h=0;j>h;h++)c.call(a,m[h])},pb=function(a,b,c){var d=[];return ob(this,"get",function(a){d.push(a)},a,b,c),d},qb=function(a,b,c){var d=e.get(this,"events"),f=0;return d?(ob(this,"off",function(a){d.splice(a.index-f,1),f++},a,b,c),this):this},rb=function(a,b,c,d){if(!a)return this;if(!b)return this;var f=this,g=e.setup(this,"events",[]);return ob(this,"on",function(a){if(d){var b=a.handler,c=a.type,e=function(){qb.call(f,c,e),b.apply(this,arguments)};a.handler=e}g.push(a)},a,b,c),this},sb=function(a,b,c){return rb.call(this,a,b,c,!0)},tb=function(a){var b=J.call(arguments,1);return ob(this,"trigger",function(a){v(a.handler,void 0!==a.context?a.context:this,b)},a),this};db.getListeners=pb,db.off=qb,db.on=rb,db.once=sb,db.trigger=tb;var ub=db,vb=function(a){this.attributes={},this.setAll(a),this.initialize&&this.initialize.apply(this,arguments)};vb.extend=H,vb.prototype={constructor:vb},D(vb.prototype,ub);var wb=function(){return this.unsetAll(Z(this.attributes))},xb=function(){return new this.constructor(Z(this.attributes))},yb=function(a){return"string"===A(a)},zb={},Ab=function(a,b){if(yb(b)&&(b=zb[b]||(zb[b]=b.split("."))),!b||!b.length)return a;for(var c,d,e,f,g=0,h=b.length-1,i=!1;F(a,b[g])&&h>g;)a=a[b[g]],g++;return g===h&&null!=a&&(c=a,d=J.call(b,0,-1),f=b[g],e=a[f],i=F(a,f)),{path:b,parent:c,parentPath:d,name:f,value:e,exists:i}},Bb=function(a){return Ab(this.attributes,a).value},Cb=function(a){return Ab(this.attributes,a).exists},Db=I.splice,Eb=function(a){return"number"===A(a)},Fb=function(a){return a!==+a&&Eb(a)},Gb=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n=Ab(this.attributes,a),o=n.value;if(a=n.path,B(o)&&(l=c-0,!(Fb(l)||(m=o.length,b&&m>l)))){for(0>l&&(l=m+l),j=J.call(arguments,2),k=j.length,g=2>k?0:k-2;l&&l>m;)l--,b&&g++;return b?(o[c]=e,h=[]):h=Db.apply(o,j),i=h.length,i||g?(f=J.call(J.call(o,l),0,g),{model:this,path:a,added:f,addedCount:g,index:l,object:o,removed:h,removedCount:i,type:"splice"}):void 0}},Hb=function(a){return"function"===A(a)};"function"!=typeof/./&&"object"!=typeof Int8Array&&(Hb=function(a){return"function"==typeof a||!1});var Ib=function(a){var b;return!a||"object"!=typeof a||"[object Object]"!==y.call(a)||F(a,"constructor")?!1:(b=a.constructor)?Hb(b)&&b instanceof b:!0},Jb=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;var e=A(a);if(e!=A(b))return!1;switch(e){case"regexp":case"string":return""+a==""+b;case"number":return a=+a,b=+b,a!==a?b!==b:0===a?1/a===1/b:a===b;case"date":case"boolean":return+a===+b}var f="array"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(!(g===h||Ib(a)&&Ib(b)))return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if(i=a.length,i!==b.length)return!1;for(;i--;)if(!Jb(a[i],b[i],c,d))return!1}else{var j,k=N(a);if(i=k.length,N(b).length!==i)return!1;for(;i--;)if(j=k[i],!F(b,j)||!Jb(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0},Kb=function(a,b){return Jb(a,b)},Lb=function(a,b,c){var d,e,f,g,h,i,j,k=null;if(null==a)return this;if(j=Ab(this.attributes,a),d=j.parent,null==d)return this;if(a=j.path,e=j.parentPath,f=j.value,g=j.exists,h=j.name,c?g&&(k="delete"):g?Kb(f,b)||(k="update"):k="add",k){switch(k){case"add":i=Gb.call(this,e,!0,h,0,b),i?k="splice":d[h]=b;break;case"update":d[h]=b;break;case"delete":delete d[h]}return i=i||{model:this,path:a,name:h,object:d,oldValue:f,newValue:c?void 0:b,type:k},"add"===k&&delete i.oldValue,"delete"===k&&delete i.newValue,i}},Mb=function(a,b,c){var d=Lb.call(this,a,b,c);return d&&this.trigger("change",[d]),this},Nb=function(a,b){var c=[];return T(a,function(a,d){var e=Lb.call(this,d[0],d[1],b);e&&c.push(e)},this),c.length&&this.trigger("change",c),this},Ob=function(){var a,b;return b=J.call(arguments),Db.call(b,1,0,!1),a=[Gb.apply(this,b)],a[0]?(this.trigger("change",a),a[0].removed):void 0},Pb=function(a){return this.set(a,null,!0)},Qb=function(a){return this.setAll(a,!0)};vb.prototype.clear=wb,vb.prototype.clone=xb,vb.prototype.get=Bb,vb.prototype.has=Cb,vb.prototype.set=Mb,vb.prototype.setAll=Nb,vb.prototype.splice=Ob,vb.prototype.unset=Pb,vb.prototype.unsetAll=Qb;var Rb=vb,Sb={},Tb=a.document,Ub="[object process]"===("undefined"!=typeof global&&global&&y.call(global.process)),Vb="[object HTMLDocument]",Wb="[object Document]",Xb=function(a){if(!a||null!==a.parentNode)return!1;if(Ub)return Q(a.defaultView);var b=y.call(a);return b===Vb||b===Wb},Yb=function(a){return a&&1===a.nodeType?Ub?!0:y.call(a).indexOf("Element")>-1:!1},Zb={add:function(a){return f(a.el)&&e.setup(a.el,"component",a)},remove:function(a){return f(a.el)&&e.del(a.el,"component")},get:function(a){return f(a)&&e.get(a,"component")}},$b=function(a){return this.el=a||("#textNode"===this.tagName?Tb.createTextNode(this.props.text):Tb.createElement(this.tagName||"div"))},_b=function(a,b){var c,d,e,f,g,h,i,j,k,l=a.el,m=a._cache,n=a._cacheMap,o=m,p=[],q=[],r=[],s={},t=0;for(c=0,d=b?b.length:c;d>c;c++)e=b[c],f=A(e),"array"!==f?("string"===f&&(e=b[c]={tagName:"#textNode",props:{text:e}}),j=null==e.key?"noKey"+t++:"key"+e.key,k=n&&n[j],k?(o&&delete o[k.index],g={index:c,from:k.index,component:k.component},g.component.props=e.props,q.push(g)):(g={index:c,component:e},p.push(g)),r[c]=s[j]=g):(b=b.concat.apply([],b),c--,d=b.length);a._cache=r,a._cacheMap=s;for(c in o)e=o[c].component,l.removeChild(e.el),Zb.remove(e);for(c=0,d=p.length;d>c;c++)e=p[c],h=l.childNodes[e.index],i=$b.call(e.component),Zb.add(e.component),mc.call(e.component),l.insertBefore(i,h||null);for(c=0,d=q.length;d>c;c++)e=q[c],h=l.childNodes[e.index],i=e.component.el,mc.call(e.component),h!==i&&l.insertBefore(i,h||null)},ac={},bc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,cc=function(){return null==this?"":(this+"").replace(bc,"")},dc=/^on/,ec=function(a,b){var c,d=a._prevAttrs,e=a.el;d=d||ac,b=b||ac;for(c in d)c in b?Kb(d[c],b[c])||fc(a,e,c,d[c],b[c]):fc(a,e,c,d[c]);for(c in b)c in d||fc(a,e,c,d[c],b[c]);a._prevAttrs=b},fc=function(a,b,c,d,e){var f,g;switch(c){case"key":case"innerHTML":break;case"daugerousInnerHTML":e&&e.__html&&(b.innerHTML=e.__html);break;case"style":kc(b,d,e);break;case"class":case"className":f=cc.call(B(e)?e.join(" "):e+""),f!==b.className&&(b.className=f);break;default:dc.test(c)?(g=cc.call(c.replace(dc,"")),d&&ub.off.call(a,g,d),e&&ub.on.call(a,g,e)):c in b&&"list"!==c&&"form"!==c&&"type"!==c?b[c]!=e&&(b[c]=e):e?b.setAttribute(c,e+""):b.removeAttribute(c)}},gc=["Webkit","Moz","ms"],hc={columnCount:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeOpacity:!0},ic=function(a,b){if(a in b)return a;for(var c=a[0].toUpperCase()+a.slice(1),d=a,e=gc.length;e--;)if(a=gc[e]+c,a in b)return a;return d},jc=function(a,b,c){var d,e=a.style;c=null==c||"boolean"==typeof c||""===c?"":c,b=ic(b,e),d=!(b in hc)&&Eb(c),c=d?c+"px":cc.call(c+""),e[b]!==c&&(e[b]=c)},kc=function(a,b,c){var d;b=b||ac,c=c||ac;for(d in b)d in c?Kb(b[d],c[d])||jc(a,d,c[d]):jc(a,d,null);for(d in c)d in b||jc(a,d,c[d])},lc={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},mc=function(){if("#textNode"===this.tagName){var a=this.props.text;return void(a!==this.el.nodeValue&&(this.el.nodeValue=a))}var b=this.initialize;b&&(this.initialize=null,b.call(this));var c=this.render?this.render():null;ec(this,c&&c[0]),lc[this.tagName]||_b(this,c&&c[1])},nc=function(a){$b.call(this,a)};nc.extend=H,nc.prototype={constructor:nc,update:mc},D(nc.prototype,ub);var oc=function(a){if(a){var b=Zb.get(a)||new nc(a);return Zb.add(b)?b:void 0}},pc=function(a,b){a instanceof nc||U("mota.view.appendTo","Provide a valid component");var c=oc(b);c||U("mota.view.appendTo","Provide a valid parent"),a.key=0,c.render=function(){return[null,[a]]},c.update()},qc=function(a,b,c){return c=c||{},D(c,{constructor:a,tagName:b}),nc.extend(c,null,!0)},rc=function(a,b){yb(a)||U("mota.view.createClass","Tag name should be a string");var c=function(a){this.props=a;var b=a&&a.key;null!=b&&(this.key=b,delete this.props.key)};return qc(c,a,b)},sc={};T("a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup command data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt rtc ruby s samp script section select small source span strong style sub summary sup table tbody td template textarea tfoot th thead time title tr track u ul var video wbr circle defs ellipse g line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),function(a,b){var c=function(){this.props=J.call(arguments);var a=this.props&&this.props[0]&&this.props[0].key;null!=a&&(this.key=a,delete this.props[0].key)},d={render:function(){return this.props}};sc[b]=qc(c,b,d)});var tc=sc,uc=function(a,b){a&&a.type?(this.originalEvent=a,this.type=a.type):this.type=a;for(var c in this.originalEvent)null==this[c]&&(this[c]=this.originalEvent[c]);this.type in yc&&(this.type=yc[this.type]),b&&D(this,b),this.timeStamp||(this.timeStamp=Y())};uc.prototype={constructor:uc,isDefaultPrevented:!1,isPropagationStopped:!1,isImmediatePropagationStopped:!1,stopPropagation:function(){this.isPropagationStopped=!0},stopImmediatePropagation:function(){this.isPropagationStopped=!0,this.isImmediatePropagationStopped=!0},preventDefault:function(){this.isDefaultPrevented=!0,this.originalEvent.preventDefault()}};var vc,wc=/^key/,xc=/^(?:mouse|touch|pointer|contextmenu|drag|drop)|click/,yc={mousewheel:"wheel",DOMMouseScroll:"whell"},zc={fixHooks:{},noop:function(a){return a},keyHooks:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a},pointerHooks:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||s,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]&&(a.target=s.elementFromPoint(a.originalEvent.changedTouches[0].clientX,a.originalEvent.changedTouches[0].clientY)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a},fix:function(a){var b=a.type,c=a,d=this.fixHooks[b];return d||(this.fixHooks[b]=d=xc.test(b)?this.pointerHooks:wc.test(b)?this.keyHooks:this.noop),a=new uc(c),a.target||(a.target=c.srcElement||s),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,d?d(a,c):a}},Ac={},Bc=function(a,b){return a?a.parentNode?a.parentNode:Xb(a)?a.defaultView:null:b.target},Cc=function(a){a=zc.fix(a);for(var b,c,d,e,f,g,h=a.type;b=Bc(b,a);){if(h in Ac)Ac[h].call(b,a);else if(a.isPropagationStopped)break;if(!a.isPropagationStopped){if(c=Zb.get(b),!c)continue;if(a.bubbles||a.stopPropagation(),e=kb(c,h),!e)continue;for(f=0,g=e.length,a.targetComponent||(a.targetComponent=oc(a.target));g>f&&!a.isImmediatePropagationStopped;f++)a.currentTarget=b,a.currentTargetComponent=c,a.handlerObj=d=e[f],a.result=d.handler.call(void 0!==d.context?d.context:c,a)}}},Dc=["pointermove","pointerdown","pointerup","pointerover","pointerout","pointerenter","pointerleave","pointercancel"],Ec=Dc.length;if(a.addEventListener){for(vc in a)vc!==(vc=vc.replace(dc,""))&&-1===ib.call(Dc,vc)&&a.addEventListener(vc,Cc);for(;Ec--;)a.addEventListener(Dc[Ec],Cc)}var Fc=r.Map&&r.Map.prototype.forEach,Gc=function(){return this.size};g.prototype={set:function(a,b){var c=this.keys.indexOf(a);c>-1?this.values[c]=b:(this.keys.push(a),this.values.push(b))},has:function(a){return this.keys.indexOf(a)>-1},"delete":function(a){var b=this.keys.indexOf(a);b>-1&&(this.keys.splice(b,1),this.values.splice(b,1))},get:function(a){var b=this.keys.indexOf(a);return this.values[b]},clear:function(){this.keys.length=0,this.values.length=0},forEach:function(a,b){this.values.forEach(function(c,d){a.call(b,c,this.keys[d],this)},this)},pointers:function(){return this.keys.length}};var Hc=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],Ic=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],Jc="undefined"!=typeof SVGElementInstance,Kc={pointermap:new g,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(a,b){var c=b,d=c.events;d&&(d.forEach(function(a){c[a]&&(this.eventMap[a]=c[a].bind(c))},this),this.eventSources[a]=c,this.eventSourceList.push(c))},register:function(a){for(var b,c=this.eventSourceList.length,d=0;c>d&&(b=this.eventSourceList[d]);d++)b.register.call(b,a)},unregister:function(a){for(var b,c=this.eventSourceList.length,d=0;c>d&&(b=this.eventSourceList[d]);d++)b.unregister.call(b,a)},contains:function(a,b){return a.contains(b)},down:function(a){a.bubbles=!0,this.fireEvent("pointerdown",a)},move:function(a){a.bubbles=!0,this.fireEvent("pointermove",a)},up:function(a){a.bubbles=!0,this.fireEvent("pointerup",a)},enter:function(a){a.bubbles=!1,this.fireEvent("pointerenter",a)},leave:function(a){a.bubbles=!1,this.fireEvent("pointerleave",a)},over:function(a){a.bubbles=!0,this.fireEvent("pointerover",a)},out:function(a){a.bubbles=!0,this.fireEvent("pointerout",a)},cancel:function(a){a.bubbles=!0,this.fireEvent("pointercancel",a)},leaveOut:function(a){this.out(a),this.contains(a.target,a.relatedTarget)||this.leave(a)},enterOver:function(a){this.over(a),this.contains(a.target,a.relatedTarget)||this.enter(a)},eventHandler:function(a){if(!a._handledByPE){var b=a.type,c=this.eventMap&&this.eventMap[b];c&&c(a),a._handledByPE=!0}},listen:function(a,b){b.forEach(function(b){this.addEvent(a,b)},this)},unlisten:function(a,b){b.forEach(function(b){this.removeEvent(a,b)},this)},addEvent:function(a,b){a.addEventListener(b,this.boundHandler)},removeEvent:function(a,b){a.removeEventListener(b,this.boundHandler)},makeEvent:function(a,b){this.captureInfo[b.pointerId]&&(b.relatedTarget=null);var c=new PointerEvent(a,b);return b.preventDefault&&(c.preventDefault=b.preventDefault),c._target=c._target||b.target,c},fireEvent:function(a,b){var c=this.makeEvent(a,b);return this.dispatchEvent(c)},cloneEvent:function(a){for(var b,c=Object.create(null),d=0;d<Hc.length;d++)b=Hc[d],c[b]=a[b]||Ic[d],!Jc||"target"!==b&&"relatedTarget"!==b||c[b]instanceof SVGElementInstance&&(c[b]=c[b].correspondingUseElement);return a.preventDefault&&(c.preventDefault=function(){a.preventDefault()}),c},getTarget:function(a){return this.captureInfo[a.pointerId]||a._target},setCapture:function(a,b){this.captureInfo[a]&&this.releaseCapture(a),this.captureInfo[a]=b;var c=s.createEvent("Event");c.initEvent("gotpointercapture",!0,!1),c.pointerId=a,this.implicitRelease=this.releaseCapture.bind(this,a),s.addEventListener("pointerup",this.implicitRelease),s.addEventListener("pointercancel",this.implicitRelease),c._target=b,this.asyncDispatchEvent(c)},releaseCapture:function(a){var b=this.captureInfo[a];if(b){var c=s.createEvent("Event");c.initEvent("lostpointercapture",!0,!1),c.pointerId=a,this.captureInfo[a]=void 0,s.removeEventListener("pointerup",this.implicitRelease),s.removeEventListener("pointercancel",this.implicitRelease),c._target=b,this.asyncDispatchEvent(c)}},dispatchEvent:function(a){var b=this.getTarget(a);return b?b.dispatchEvent(a):void 0},asyncDispatchEvent:function(a){requestAnimationFrame(this.dispatchEvent.bind(this,a))}};Kc.boundHandler=Kc.eventHandler.bind(Kc);var Lc={shadow:function(a){return a?a.shadowRoot||a.webkitShadowRoot:void 0},canTarget:function(a){return a&&Boolean(a.elementFromPoint)},targetingShadow:function(a){var b=this.shadow(a);return this.canTarget(b)?b:void 0},olderShadow:function(a){var b=a.olderShadowRoot;if(!b){var c=a.querySelector("shadow");c&&(b=c.olderShadowRoot)}return b},allShadows:function(a){for(var b=[],c=this.shadow(a);c;)b.push(c),c=this.olderShadow(c);return b},searchRoot:function(a,b,c){if(a){var d,e,f=a.elementFromPoint(b,c);for(e=this.targetingShadow(f);e;){if(d=e.elementFromPoint(b,c)){var g=this.targetingShadow(d);return this.searchRoot(g,b,c)||d}e=this.olderShadow(e)}return f}},owner:function(a){for(var b=a;b.parentNode;)b=b.parentNode;return b.nodeType!=Node.DOCUMENT_NODE&&b.nodeType!=Node.DOCUMENT_FRAGMENT_NODE&&(b=s),b},findTarget:function(a){var b=a.clientX,c=a.clientY,d=this.owner(a.target);return d.elementFromPoint(b,c)||(d=s),this.searchRoot(d,b,c)}},Mc=Array.prototype.forEach.call.bind(Array.prototype.forEach),Nc=Array.prototype.map.call.bind(Array.prototype.map),Oc=Array.prototype.slice.call.bind(Array.prototype.slice),Pc=Array.prototype.filter.call.bind(Array.prototype.filter),Qc=r.MutationObserver||r.WebKitMutationObserver,Rc="[touch-action]",Sc={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};h.prototype={watchSubtree:function(a){Lc.canTarget(a)&&this.observer.observe(a,Sc)},enableOnSubtree:function(a){this.watchSubtree(a),a===s&&"complete"!==s.readyState?this.installOnLoad():this.installNewSubtree(a)},installNewSubtree:function(a){Mc(this.findElements(a),this.addElement,this)},findElements:function(a){return a.querySelectorAll?a.querySelectorAll(Rc):[]},removeElement:function(a){this.removeCallback(a)},addElement:function(a){this.addCallback(a)},elementChanged:function(a,b){this.changedCallback(a,b)},concatLists:function(a,b){return a.concat(Oc(b))},installOnLoad:function(){s.addEventListener("readystatechange",function(){"complete"===s.readyState&&this.installNewSubtree(s)}.bind(this))},isElement:function(a){return a.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(a){var b=Nc(a,this.findElements,this);return b.push(Pc(a,this.isElement)),b.reduce(this.concatLists,[])},mutationWatcher:function(a){a.forEach(this.mutationHandler,this)},mutationHandler:function(a){if("childList"===a.type){var b=this.flattenMutationTree(a.addedNodes);b.forEach(this.addElement,this);var c=this.flattenMutationTree(a.removedNodes);c.forEach(this.removeElement,this)}else"attributes"===a.type&&this.elementChanged(a.target,a.oldValue)}},Qc||(h.prototype.watchSubtree=function(){console.warn("PointerEventsPolyfill: MutationObservers not found, touch-action will not be dynamically detected")});var Tc=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],Uc=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],Vc=i,Wc=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],Xc="",Yc=(s.head,r.PointerEvent||r.MSPointerEvent),Zc=!r.ShadowDOMPolyfill&&s.head.createShadowRoot,$c=Kc.pointermap,_c=25,ad=[0,1,4,2],bd=!1;try{bd=1===new MouseEvent("test",{buttons:1}).buttons}catch(cd){}var dd,ed={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(a){Kc.listen(a,this.events)},unregister:function(a){Kc.unlisten(a,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(a){for(var b,c=this.lastTouches,d=a.clientX,e=a.clientY,f=0,g=c.length;g>f&&(b=c[f]);f++){var h=Math.abs(d-b.x),i=Math.abs(e-b.y);if(_c>=h&&_c>=i)return!0}},prepareEvent:function(a){var b=Kc.cloneEvent(a),c=b.preventDefault;return b.preventDefault=function(){a.preventDefault(),c()},b.pointerId=this.POINTER_ID,b.isPrimary=!0,b.pointerType=this.POINTER_TYPE,bd||(b.buttons=ad[b.which]||0),b},mousedown:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=$c.has(this.POINTER_ID);b&&this.cancel(a);var c=this.prepareEvent(a);$c.set(this.POINTER_ID,a),Kc.down(c)}},mousemove:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);Kc.move(b)}},mouseup:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=$c.get(this.POINTER_ID);if(b&&b.button===a.button){var c=this.prepareEvent(a);Kc.up(c),this.cleanupMouse()}}},mouseover:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);Kc.enterOver(b)}},mouseout:function(a){if(!this.isEventSimulatedFromTouch(a)){var b=this.prepareEvent(a);Kc.leaveOut(b)}},cancel:function(a){var b=this.prepareEvent(a);Kc.cancel(b),this.cleanupMouse()},cleanupMouse:function(){$c["delete"](this.POINTER_ID)}},fd=Kc.captureInfo,gd=Lc.findTarget.bind(Lc),hd=Lc.allShadows.bind(Lc),id=Kc.pointermap,jd=(Array.prototype.map.call.bind(Array.prototype.map),2500),kd=200,ld="touch-action",md=!1,nd={events:["touchstart","touchmove","touchend","touchcancel"],register:function(a){md?Kc.listen(a,this.events):dd.enableOnSubtree(a)},unregister:function(a){md&&Kc.unlisten(a,this.events)},elementAdded:function(a){var b=a.getAttribute(ld),c=this.touchActionToScrollType(b);c&&(a._scrollType=c,Kc.listen(a,this.events),hd(a).forEach(function(a){a._scrollType=c,Kc.listen(a,this.events)},this))},elementRemoved:function(a){a._scrollType=void 0,Kc.unlisten(a,this.events),hd(a).forEach(function(a){a._scrollType=void 0,Kc.unlisten(a,this.events)},this)},elementChanged:function(a,b){var c=a.getAttribute(ld),d=this.touchActionToScrollType(c),e=this.touchActionToScrollType(b);d&&e?(a._scrollType=d,hd(a).forEach(function(a){a._scrollType=d},this)):e?this.elementRemoved(a):d&&this.elementAdded(a)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(a){var b=a,c=this.scrollTypes;return"none"===b?"none":b===c.XSCROLLER?"X":b===c.YSCROLLER?"Y":c.SCROLLER.exec(b)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(a){return this.firstTouch===a.identifier},setPrimaryTouch:function(a){(0===id.pointers()||1===id.pointers()&&id.has(1))&&(this.firstTouch=a.identifier,this.firstXY={X:a.clientX,Y:a.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(a){a.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var a=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(a,kd)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(a){var b=0;return("touchstart"===a||"touchmove"===a)&&(b=1),b},touchToPointer:function(a){var b=this.currentTouchEvent,c=Kc.cloneEvent(a),d=c.pointerId=a.identifier+2;c.target=fd[d]||gd(c),c.bubbles=!0,c.cancelable=!0,c.detail=this.clickCount,c.button=0,c.buttons=this.typeToButtons(b.type),c.width=a.webkitRadiusX||a.radiusX||0,c.height=a.webkitRadiusY||a.radiusY||0,c.pressure=a.webkitForce||a.force||.5,c.isPrimary=this.isPrimaryTouch(a),c.pointerType=this.POINTER_TYPE;var e=this;return c.preventDefault=function(){e.scrolling=!1,e.firstXY=null,b.preventDefault()},c},processTouches:function(a,b){var c=a.changedTouches;this.currentTouchEvent=a;for(var d,e=0;e<c.length;e++)d=c[e],b.call(this,this.touchToPointer(d))},shouldScroll:function(a){if(this.firstXY){var b,c=a.currentTarget._scrollType;if("none"===c)b=!1;else if("XY"===c)b=!0;else{var d=a.changedTouches[0],e=c,f="Y"===c?"X":"Y",g=Math.abs(d["client"+e]-this.firstXY[e]),h=Math.abs(d["client"+f]-this.firstXY[f]);b=g>=h}return this.firstXY=null,b}},findTouch:function(a,b){for(var c,d=0,e=a.length;e>d&&(c=a[d]);d++)if(c.identifier===b)return!0},vacuumTouches:function(a){var b=a.touches;if(id.pointers()>=b.length){var c=[];id.forEach(function(a,d){if(1!==d&&!this.findTouch(b,d-2)){var e=a.out;c.push(e)}},this),c.forEach(this.cancelOut,this)}},touchstart:function(a){this.vacuumTouches(a),this.setPrimaryTouch(a.changedTouches[0]),this.dedupSynthMouse(a),this.scrolling||(this.clickCount++,this.processTouches(a,this.overDown))},overDown:function(a){id.set(a.pointerId,{target:a.target,out:a,outTarget:a.target});Kc.over(a),Kc.enter(a),Kc.down(a)},touchmove:function(a){this.scrolling||(this.shouldScroll(a)?(this.scrolling=!0,this.touchcancel(a)):(a.preventDefault(),this.processTouches(a,this.moveOverOut)))},moveOverOut:function(a){var b=a,c=id.get(b.pointerId);if(c){var d=c.out,e=c.outTarget;Kc.move(b),d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Kc.leaveOut(d),Kc.enterOver(b)):(b.target=e,b.relatedTarget=null,this.cancelOut(b))),c.out=b,c.outTarget=b.target}},touchend:function(a){this.dedupSynthMouse(a),this.processTouches(a,this.upOut)},upOut:function(a){this.scrolling||(Kc.up(a),Kc.out(a),Kc.leave(a)),this.cleanUpPointer(a)},touchcancel:function(a){this.processTouches(a,this.cancelOut)},cancelOut:function(a){Kc.cancel(a),Kc.out(a),Kc.leave(a),this.cleanUpPointer(a)
},cleanUpPointer:function(a){id["delete"](a.pointerId),this.removePrimaryPointer(a)},dedupSynthMouse:function(a){var b=ed.lastTouches,c=a.changedTouches[0];if(this.isPrimaryTouch(c)){var d={x:c.clientX,y:c.clientY};b.push(d);var e=function(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)}.bind(null,b,d);setTimeout(e,jd)}}};md||(dd=new h(nd.elementAdded,nd.elementRemoved,nd.elementChanged,nd));var od,pd,qd=Kc.pointermap,rd=r.MSPointerEvent&&"number"==typeof r.MSPointerEvent.MSPOINTER_TYPE_MOUSE,sd={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(a){Kc.listen(a,this.events)},unregister:function(a){Kc.unlisten(a,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(a){var b=a;return rd&&(b=Kc.cloneEvent(a),b.pointerType=this.POINTER_TYPES[a.pointerType]),b},cleanup:function(a){qd["delete"](a)},MSPointerDown:function(a){qd.set(a.pointerId,a);var b=this.prepareEvent(a);Kc.down(b)},MSPointerMove:function(a){var b=this.prepareEvent(a);Kc.move(b)},MSPointerUp:function(a){var b=this.prepareEvent(a);Kc.up(b),this.cleanup(a.pointerId)},MSPointerOut:function(a){var b=this.prepareEvent(a);Kc.leaveOut(b)},MSPointerOver:function(a){var b=this.prepareEvent(a);Kc.enterOver(b)},MSPointerCancel:function(a){var b=this.prepareEvent(a);Kc.cancel(b),this.cleanup(a.pointerId)},MSLostPointerCapture:function(a){var b=Kc.makeEvent("lostpointercapture",a);Kc.dispatchEvent(b)},MSGotPointerCapture:function(a){var b=Kc.makeEvent("gotpointercapture",a);Kc.dispatchEvent(b)}},td=r.navigator;td.msPointerEnabled?(od=function(a){o(a),this.msSetPointerCapture(a)},pd=function(a){o(a),this.msReleasePointerCapture(a)}):(od=function(a){o(a),Kc.setCapture(a,this)},pd=function(a){o(a),Kc.releaseCapture(a,this)}),m(),n(),p();Sb.appendTo=pc,Sb.Component=nc,Sb.createClass=rc,Sb.dom=tc,Sb.select=oc;var ud=Sb,vd=ud.dom,wd=(vd.a,vd.b,vd.br,vd.button,vd.div,vd.em,vd.form,vd.h1,vd.h2,vd.h3,vd.h4,vd.h5,vd.h6,vd.i,vd.img,vd.input,vd.li,vd.small,vd.span,vd.strong,vd.style,vd.table,vd.tbody,vd.td,vd.textarea,vd.tfoot,vd.th,vd.thead,vd.tr,vd.u,vd.ul,{}),xd=wd,yd=function(a){return"[object Arguments]"===y.call(a)};yd(arguments)||(yd=function(a){return F(a,"callee")});var zd=function(a){return a===!0||a===!1||"boolean"===A(a)},Ad=function(a){return"date"===A(a)},Bd=function(a){if(null==a)return!0;if(B(a)||yb(a)||yd(a))return 0===a.length;for(var b in a)if(F(a,b))return!1;return!0},Cd=function(a){return"error"===A(a)},Dd=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},Ed=function(a){return null===a},Fd=function(a){return"regexp"===A(a)},Gd=function(a){return void 0===a},Hd={};Hd.isArguments=yd,Hd.isArray=B,Hd.isArrayLike=S,Hd.isBoolean=zd,Hd.isDate=Ad,Hd.isDocument=Xb,Hd.isElement=Yb,Hd.isEmpty=Bd,Hd.isEqual=Kb,Hd.isError=Cd,Hd.isFinite=Dd,Hd.isFunction=Hb,Hd.isNaN=Fb,Hd.isNull=Ed,Hd.isNumber=Eb,Hd.isObject=C,Hd.isObjectLike=K,Hd.isPlainObject=Ib,Hd.isRegExp=Fd,Hd.isString=yb,Hd.isUndefined=Gd,Hd.isWindow=Q,Hd.type=A;var Id;for(Id in cb)q[Id]=cb[Id];q.events=ub,q.Model=Rb,q.ui=xd;for(Id in Hd)q[Id]=Hd[Id];return q.view=ud,u&&(q.DEV=gb),q});
//# sourceMappingURL=mota.min.js.map