!function e(t,n,o){function r(i,a){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!a&&s)return s(i,!0);if(l)return l(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return r(n?n:e)},c,c.exports,e,t,n,o)}return n[i].exports}for(var l="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,t){"use strict";t.exports=e("./src/main")},{"./src/main":19}],2:[function(e,t){"use strict";var n=e("lodash.template");t.exports={level_selector:n('<button data-level-selector-button>  Auto</button><ul>  <li><a href="#" data-level-selector-select="-1">AUTO</a></li>  <% for (var i = 0; i < levels.length; i++) { %>    <li><a href="#" data-level-selector-select="<%= i %>"><%= Math.floor(levels[i].bitrate / 1000) %>kbps</a></li>  <% }; %></ul>'),CSS:{level_selector:'.level_selector[data-level-selector]{float:right;margin-top:5px;position:relative}.level_selector[data-level-selector] button{background-color:transparent;color:#fff;font-family:Roboto,"Open Sans",Arial,sans-serif;-webkit-font-smoothing:antialiased;border:none;font-size:10px}.level_selector[data-level-selector] button:hover{color:#c9c9c9}.level_selector[data-level-selector] button.changing{-webkit-animation:pulse .5s infinite alternate}.level_selector[data-level-selector]>ul{list-style-type:none;position:absolute;bottom:25px;border:1px solid #000;display:none;background-color:#e6e6e6}.level_selector[data-level-selector] li a{color:#444;padding:2px 10px;display:block;text-decoration:none;font-size:10px}.level_selector[data-level-selector] li:hover{background-color:#555;color:#fff}.level_selector[data-level-selector] li:hover a{color:#fff;text-decoration:none}@-webkit-keyframes pulse{0%{color:#fff}50%{color:#ff0101}100%{color:#B80000}}'}}},{"lodash.template":3}],3:[function(e,t){function n(e){return"\\"+C[e]}function o(e,t,n,o){return"undefined"!=typeof e&&E.call(o,n)?e:t}function r(e,t,n){var o=f(t);if(!n)return a(t,e,o);for(var r=-1,l=o.length;++r<l;){var i=o[r],s=e[i],u=n(s,t[i],i,e,t);(u===u?u===s:s!==s)&&("undefined"!=typeof s||i in e)||(e[i]=u)}return e}function l(e,t,l){var a=d.imports._.templateSettings||d;l&&c(e,t,l)&&(t=l=null),e=s(e),t=r(r({},l||t),a,o);var C,x,E=r(r({},t.imports),a.imports,o),j=f(E),O=u(E,j),S=0,L=t.interpolate||y,k="__p += '",A=RegExp((t.escape||y).source+"|"+L.source+"|"+(L===v?m:y).source+"|"+(t.evaluate||y).source+"|$","g"),w="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(A,function(t,o,r,l,i,a){return r||(r=l),k+=e.slice(S,a).replace(_,n),o&&(C=!0,k+="' +\n__e("+o+") +\n'"),i&&(x=!0,k+="';\n"+i+";\n__p += '"),r&&(k+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),S=a+t.length,t}),k+="';\n";var M=t.variable;M||(k="with (obj) {\n"+k+"\n}\n"),k=(x?k.replace(h,""):k).replace(g,"$1").replace(b,"$1;"),k="function("+(M||"obj")+") {\n"+(M?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(C?", __e = _.escape":"")+(x?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+k+"return __p\n}";var R=i(function(){return Function(j,w+"return "+k).apply(void 0,O)});if(R.source=k,p(R))throw R;return R}function i(e){try{return e()}catch(t){return p(t)?t:Error(t)}}var a=e("lodash._basecopy"),s=e("lodash._basetostring"),u=e("lodash._basevalues"),c=e("lodash._isiterateecall"),p=e("lodash.iserror"),f=e("lodash.keys"),v=e("lodash.reinterpolate"),d=e("lodash.templatesettings"),h=/\b__p \+= '';/g,g=/\b(__p \+=) '' \+/g,b=/(__e\(.*?\)|\b__t\)) \+\n'';/g,m=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,y=/($^)/,_=/['\n\r\u2028\u2029\\]/g,C={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},x=Object.prototype,E=x.hasOwnProperty;t.exports=l},{"lodash._basecopy":4,"lodash._basetostring":5,"lodash._basevalues":6,"lodash._isiterateecall":7,"lodash.iserror":8,"lodash.keys":9,"lodash.reinterpolate":13,"lodash.templatesettings":15}],4:[function(e,t){function n(e,t,n){n||(n=t,t={});for(var o=-1,r=n.length;++o<r;){var l=n[o];t[l]=e[l]}return t}t.exports=n},{}],5:[function(e,t){function n(e){return"string"==typeof e?e:null==e?"":e+""}t.exports=n},{}],6:[function(e,t){function n(e,t){for(var n=-1,o=t.length,r=Array(o);++n<o;)r[n]=e[t[n]];return r}t.exports=n},{}],7:[function(e,t){function n(e,t){return e=+e,t=null==t?i:t,e>-1&&e%1==0&&t>e}function o(e,t,o){if(!l(o))return!1;var i=typeof t;if("number"==i)var a=o.length,s=r(a)&&n(t,a);else s="string"==i&&t in o;if(s){var u=o[t];return e===e?e===u:u!==u}return!1}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}function l(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}var i=Math.pow(2,53)-1;t.exports=o},{}],8:[function(e,t){function n(e){return e&&"object"==typeof e||!1}function o(e){return n(e)&&"string"==typeof e.message&&i.call(e)==r||!1}var r="[object Error]",l=Object.prototype,i=l.toString;t.exports=o},{}],9:[function(e,t){function n(e,t){return e=+e,t=null==t?d:t,e>-1&&e%1==0&&t>e}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&d>=e}function r(e){for(var t=i(e),r=t.length,l=r&&e.length,u=l&&o(l)&&(s(e)||h.nonEnumArgs&&a(e)),c=-1,f=[];++c<r;){var v=t[c];(u&&n(v,l)||p.call(e,v))&&f.push(v)}return f}function l(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}function i(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(s(e)||h.nonEnumArgs&&a(e))&&t||0;for(var r=e.constructor,i=-1,u="function"==typeof r&&r.prototype===e,c=Array(t),f=t>0;++i<t;)c[i]=i+"";for(var v in e)f&&n(v,t)||"constructor"==v&&(u||!p.call(e,v))||c.push(v);return c}var a=e("lodash.isarguments"),s=e("lodash.isarray"),u=e("lodash.isnative"),c=Object.prototype,p=c.hasOwnProperty,f=c.propertyIsEnumerable,v=u(v=Object.keys)&&v,d=Math.pow(2,53)-1,h={};!function(){try{h.nonEnumArgs=!f.call(arguments,1)}catch(e){h.nonEnumArgs=!0}}(0,0);var g=v?function(e){if(e)var t=e.constructor,n=e.length;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&n&&o(n)?r(e):l(e)?v(e):[]}:r;t.exports=g},{"lodash.isarguments":10,"lodash.isarray":11,"lodash.isnative":12}],10:[function(e,t){function n(e){return e&&"object"==typeof e||!1}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&s>=e}function r(e){var t=n(e)?e.length:void 0;return o(t)&&a.call(e)==l||!1}var l="[object Arguments]",i=Object.prototype,a=i.toString,s=Math.pow(2,53)-1;t.exports=r},{}],11:[function(e,t){function n(e){return"string"==typeof e?e:null==e?"":e+""}function o(e){return e&&"object"==typeof e||!1}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&b>=e}function l(e){return null==e?!1:d.call(e)==s?h.test(v.call(e)):o(e)&&u.test(e)||!1}function i(e){return e=n(e),e&&p.test(e)?e.replace(c,"\\$&"):e}var a="[object Array]",s="[object Function]",u=/^\[object .+?Constructor\]$/,c=/[.*+?^${}()|[\]\/\\]/g,p=RegExp(c.source),f=Object.prototype,v=Function.prototype.toString,d=f.toString,h=RegExp("^"+i(d).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=l(g=Array.isArray)&&g,b=Math.pow(2,53)-1,m=g||function(e){return o(e)&&r(e.length)&&d.call(e)==a||!1};t.exports=m},{}],12:[function(e,t){function n(e){return"string"==typeof e?e:null==e?"":e+""}function o(e){return e&&"object"==typeof e||!1}function r(e){return null==e?!1:f.call(e)==i?v.test(p.call(e)):o(e)&&a.test(e)||!1}function l(e){return e=n(e),e&&u.test(e)?e.replace(s,"\\$&"):e}var i="[object Function]",a=/^\[object .+?Constructor\]$/,s=/[.*+?^${}()|[\]\/\\]/g,u=RegExp(s.source),c=Object.prototype,p=Function.prototype.toString,f=c.toString,v=RegExp("^"+l(f).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},{}],13:[function(e,t){t.exports=e("lodash._reinterpolate")},{"lodash._reinterpolate":14}],14:[function(e,t){var n=/<%=([\s\S]+?)%>/g;t.exports=n},{}],15:[function(e,t){var n=e("lodash._reinterpolate"),o=e("lodash.escape"),r=/<%-([\s\S]+?)%>/g,l=/<%([\s\S]+?)%>/g,i={escape:r,evaluate:l,interpolate:n,variable:"",imports:{_:{escape:o}}};t.exports=i},{"lodash._reinterpolate":16,"lodash.escape":17}],16:[function(e,t){t.exports=e(14)},{"/Users/flavio.barbosa/Development/clappr-level-selector-plugin/node_modules/lodash.template/node_modules/lodash.reinterpolate/node_modules/lodash._reinterpolate/index.js":14}],17:[function(e,t){function n(e){return a[e]}function o(e){return e=r(e),e&&i.test(e)?e.replace(l,n):e}var r=e("lodash._basetostring"),l=/[&<>"'`]/g,i=RegExp(l.source),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};t.exports=o},{"lodash._basetostring":5}],18:[function(e,t){t.exports={name:"level-selector",description:"A simple plugin for Clappr that adds support to manually select level on multi-bitrate streams.",version:"0.0.6",license:"MIT",repository:"clappr/clappr-level-selector-plugin",author:{name:"Lucas Mundim",email:"lucas.mundim@gmail.com",url:"https://github.com/lucasmundim"},contributors:[{name:"Fl√°vio Ribeiro",email:"email@flavioribeiro.com"}],keywords:["clappr","plugin"],dependencies:{clappr:"latest"},devDependencies:{browserify:"^6.2.0",babelify:"5.0.3",gulp:"^3.8.6","gulp-minify-css":"^0.3.6","lodash.template":"3.0.0","gulp-rename":"^1.2.0","gulp-sass":"^0.7.2","vinyl-source-stream":"^1.0.0",yargs:"latest",glob:"^4.0.4",mkdirp:"^0.5.0",express:"^4.6.1","gulp-util":"latest","gulp-uglify":"^1.0.1","gulp-livereload":"^2.1.0","gulp-streamify":"0.0.5"}}},{}],19:[function(e,t){"use strict";var n=function(){function e(e,t){for(var n in t){var o=t[n];o.configurable=!0,o.value&&(o.writable=!0)}Object.defineProperties(e,t)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function f(e,t,n){var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:f(r,t,n)}if("value"in o&&o.writable)return o.value;var l=o.get;return void 0===l?void 0:l.call(n)},r=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=e("ui_core_plugin"),a=e(".././jst"),s=e("./styler"),u=e("../package.json").version,c=Clappr.Events,p=function(e){function t(e){l(this,t),this.core=e,this.isEnabled()&&this.init(),o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return r(t,e),n(t,{name:{get:function(){return"level_selector"}},template:{get:function(){return a.level_selector}},attributes:{get:function(){return{"class":this.name,"data-level-selector":""}}},events:{get:function(){return{"click [data-level-selector-select]":"onLevelSelect","click [data-level-selector-button]":"onShowLevelSelectMenu"}}},init:{value:function(){this.levels={},this.auto_level=!0,this.selected_level=-1}},reload:{value:function(){this.unBindEvents(),this.init(),this.bindEvents()}},bindEvents:{value:function(){var e=this;this.listenTo(this.core.mediaControl,c.MEDIACONTROL_CONTAINERCHANGED,this.reload),this.isEnabled()&&(this.listenTo(this.core.mediaControl,c.MEDIACONTROL_RENDERED,this.render),Clappr.Mediator.on(this.getContainer().playback.uniqueId+":fragmentloaded",function(){return e.onFragmentLoaded()}),Clappr.Mediator.on(this.getContainer().playback.uniqueId+":levelchanged",function(t){return e.onLevelChanged(t)}))}},unBindEvents:{value:function(){this.stopListening(this.core.mediaControl,c.MEDIACONTROL_CONTAINERCHANGED),this.stopListening(this.core.mediaControl,c.MEDIACONTROL_RENDERED),Clappr.Mediator.off(this.getContainer().playback.uniqueId+":fragmentloaded"),Clappr.Mediator.off(this.getContainer().playback.uniqueId+":levelchanged")}},render:{value:function(){if(this.isEnabled()){this.$el.html(this.template({levels:this.levels,current_level:0}));var e=s.getStyleFor(this.name);return this.$el.append(e),this.core.mediaControl.$el.find(".media-control-right-panel").append(this.el),void 0!==this.levels.length&&this.onLevelChanged(!1),this}}},isEnabled:{value:function(){return"hls"===this.core.mediaControl.container.playback.name}},onFragmentLoaded:{value:function(){this.levels=this.getContainer().playback.el.globoGetLevels(),Clappr.Mediator.off(this.getContainer().playback.uniqueId+":fragmentloaded"),this.render()}},onLevelChanged:{value:function(){void 0===arguments[0]?!1:arguments[0];this.updateText(),this.selectedIsCurrent()&&this.stopAnimation()}},onLevelSelect:{value:function(e){return this.selected_level=parseInt(e.target.dataset.levelSelectorSelect,10),this.auto_level=-1===this.selected_level,this.setLevel(this.selected_level),this.toggleContextMenu(),this.auto_level||this.selectedIsCurrent()?this.updateText():(this.startAnimation(),this.updateText(this.selected_level)),e.stopPropagation(),!1}},onShowLevelSelectMenu:{value:function(){this.toggleContextMenu()}},toggleContextMenu:{value:function(){this.$el.find(".level_selector ul").toggle()}},getContainer:{value:function(){return this.core.mediaControl.container}},getCurrentLevel:{value:function(){return this.getContainer().playback.el.globoGetLevel()}},setLevel:{value:function(e){this.getContainer().playback.el.globoPlayerSmoothSetLevel(e)}},buttonElement:{value:function(){return this.$el.find(".level_selector button")}},startAnimation:{value:function(){this.buttonElement().addClass("changing")}},stopAnimation:{value:function(){this.buttonElement().removeClass("changing")}},selectedIsCurrent:{value:function(){return this.selected_level===this.getCurrentLevel()}},updateText:{value:function(){var e=void 0===arguments[0]?void 0:arguments[0];e||(e=this.getCurrentLevel());var t=Math.floor(this.levels[e].bitrate/1e3);t+="kbps",this.auto_level&&(t="AUTO ("+t+")"),this.buttonElement().text(t)}}},{version:{get:function(){return u}}}),t}(i);t.exports=window.LevelSelector=p},{".././jst":2,"../package.json":18,"./styler":20,ui_core_plugin:"ui_core_plugin"}],20:[function(e,t){"use strict";var n=e(".././jst"),o=e("zepto"),r={getStyleFor:function(e){return o("<style>").html(n.CSS[e])}};t.exports=r},{".././jst":2,zepto:"zepto"}]},{},[1]);