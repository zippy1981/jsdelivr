require({config:{tpl:{variable:"data"}},shim:{bootstrap:["jquery"],marionette:{deps:["backbone"],exports:"Marionette"},highcharts:{deps:["jquery"],exports:"Highcharts"}}},["jquery","cilantro"],function(e,s){var t={url:s.config.get("url"),credentials:s.config.get("credentials")};s.ready(function(){s.sessions.open(t).then(function(){s.panels={concept:new s.ui.ConceptPanel({collection:this.data.concepts.queryable}),context:new s.ui.ContextPanel({model:this.data.contexts.session})},s.dialogs={exporter:new s.ui.ExporterDialog({exporters:this.data.exporter}),columns:new s.ui.ConceptColumnsDialog({view:this.data.views.session,concepts:this.data.concepts.viewable}),query:new s.ui.EditQueryDialog({view:this.data.views.session,context:this.data.contexts.session,collection:this.data.queries}),deleteQuery:new s.ui.DeleteQueryDialog};var t=[];e.each(s.panels,function(e,s){s.render(),t.push(s.el)}),e.each(s.dialogs,function(e,s){s.render(),t.push(s.el)});var i=e(s.config.get("main"));i.append.apply(i,t),s.workflows={query:new s.ui.QueryWorkflow({context:this.data.contexts.session,concepts:this.data.concepts.queryable}),results:new s.ui.ResultsWorkflow({view:this.data.views.session,results:this.data.preview})};var o=[{id:"query",route:"query/",view:s.workflows.query},{id:"results",route:"results/",view:s.workflows.results}];s.isSupported("2.1.0")&&(s.workflows.workspace=new s.ui.WorkspaceWorkflow({queries:this.data.queries,context:this.data.contexts.session,view:this.data.views.session,public_queries:this.data.public_queries,stats:this.data.stats}),o.push({id:"workspace",route:"workspace/",view:s.workflows.workspace})),s.isSupported("2.2.0")&&(s.workflows.queryload=new s.ui.QueryLoader({queries:this.data.queries,context:this.data.contexts.session,view:this.data.views.session}),o.push({id:"query-load",route:"results/:query_id/",view:s.workflows.queryload})),this.start(o)})})});