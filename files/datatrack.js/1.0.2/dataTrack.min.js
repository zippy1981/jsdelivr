// dataTrack.js v1.0.2 by Ben Fried @ Lucid Fusion, Inc.
// http://os.lucidfusion.com/datatrack
(function($){var trackEvents=[];$.dataTrack=function(options){function trackElement(element,children){if(children){var data=element.data("trackChildren")}else{var data=element.data("track")}if(data.indexOf("[")>-1){data=data.substr(0,data.length-1);var start=data.indexOf("[");var stop=data.indexOf("]");var events=data.substr(start+1,stop-start-1).split("'").join("").split(",");data=data.substr(stop);var start=data.indexOf("'");data=data.substr(start+1).split("', '");if(data[1]===undefined){data=data.join("");data=data.split("','")}}else{data=data.substr(1,data.length-2);data=data.split("', '");if(data[1]===undefined){data=data.join("");data=data.split("','")}var events=[data[0]];data.shift()}var track={events:events,category:data[0],label:data[1],value:data[2]};$.each(track.events,function(index,event){if(children){element.children().on(event,function(){var label=track.label;if(element.data("dynamicLabel")){label=label+eval("$(this)"+element.data("dynamicLabel"))}functions(event,track.category,label,track.value)});trackEvents.push({element:element.children(),event:event})}else{element.on(event,function(){var label=track.label;if(element.data("dynamicLabel")){label=label+eval("element"+element.data("dynamicLabel"))}functions(event,track.category,label,track.value)});trackEvents.push({element:element,event:event})}})}if(trackEvents.length>0){$.each(trackEvents,function(e,t){t.element.off(t.event)})}if(options!="disable"){if(options){var functions=options}else{var functions=function(e,t,n,r){ga("send","event",t,e,n,r)}}$("[data-track]").each(function(){trackElement($(this),false)});$("[data-track-children]").each(function(){trackElement($(this),true)})}}})(jQuery)