/*
SPF 20 (v2.0.0)
(c) 2012-2014 Google, Inc.
License: MIT
*/
(function(){function f(a,b,c){var d=Array.prototype.slice.call(arguments,2);return function(){var c=d.slice();c.push.apply(c,arguments);return a.apply(b,c)}}function g(a,b){if(document.createEvent){var c=document.createEvent("CustomEvent");c.initCustomEvent(a,!0,!0,b);document.dispatchEvent(c)}};var l=window._spf_state||{};window._spf_state=l;var m={};"config"in l||(l.config=m);m=l.config;function r(a,b){if(a.forEach)a.forEach(b,void 0);else for(var c=0,d=a.length;c<d;c++)c in a&&b.call(void 0,a[c],c,a)}function s(a,b){if(a.every)return a.every(b,void 0);for(var c=0,d=a.length;c<d;c++)if(c in a&&!b.call(void 0,a[c],c,a))return!1;return!0}function t(a,b){if(a.filter)return a.filter(b,void 0);var c=[];r(a,function(a,e,n){b.call(void 0,a,e,n)&&c.push(a)});return c}function u(a){return"[object Array]"==Object.prototype.toString.call(a)};function v(a,b){a&&b&&(a in w||(w[a]=[]),w[a].push(b))}function y(a){a in w&&r(w[a],function(a,c,d){d[c]=null;a&&a()})}var w={};"ps-s"in l||(l["ps-s"]=w);w=l["ps-s"];function z(a){var b=document.createElement("a");b.href=a;b.href=b.href;return b.href.split("#")[0]};function A(a,b,c){var d=B,e=d==B;a=C(d,a);var n=b||"^"+a,q=D(d,n),p;b&&(p=E(d,b))&&a!=p&&(g(e?"spfjsbeforeunload":"spfcssbeforeunload",{name:b,url:p}),F(d,b,p),v(q,f(G,null,d,b,p)));e=D(d,a);if((e=H[e])&&n!=e){var k=D(d,e);delete I[k];k=D(d,a);delete H[k];(k=D(d,e))&&q&&k in w&&(w[q]=(w[q]||[]).concat(w[k]),delete w[k])}k=D(d,a);H[k]=n;var k=a,h=D(d,n);I[h]=k;v(q,c);c=f(J,null,d);K(d,a)?(e&&n!=e&&(a=L(d,a))&&a.setAttribute("name",b||""),c()):(a=M(d,a,c,void 0,void 0,p))&&b&&a.setAttribute("name",
b)}function N(a){var b=B,c=E(b,a);F(b,a,c);G(b,a,c)}function F(a,b,c){var d=D(a,b);delete I[d];c&&(c=D(a,c),delete H[c]);a=D(a,b);delete w[a]}function G(a,b,c){var d=a==B;c&&(g(d?"spfjsunload":"spfcssunload",{name:b,url:c}),b=C(a,c),(c=L(a,b,void 0))&&c.parentNode&&c.parentNode.removeChild(c),a=D(a,b),delete O[a])}function J(a){var b=D(a,""),c;for(c in w)0==c.indexOf(b)&&s(c.substring(b.length).split("|"),f(P,null,a))&&y(c)}
function M(a,b,c,d,e,n){function q(){K(a,b,e)&&Q(R,a,b,e);p&&h&&h.parentNode&&k==document&&h.parentNode.removeChild(h);c&&setTimeout(c,0);return null}var p=a==B;b=C(a,b);Q(S,a,b,e);var k=d||document,h=k.createElement(p?"script":"link");if(!b)return q();var x=b?String(b).replace(/[^\w]/g,""):"";h.className=D(a,x);"onload"in h?h.onerror=h.onload=q:h.onreadystatechange=function(){/^c|loade/.test(h.readyState)&&q()};x=k.getElementsByTagName("head")[0];p?(h.async=!0,h.src=b,x.insertBefore(h,x.firstChild)):
(h.rel="stylesheet",h.href=b,d=n&&L(a,n,d),x.insertBefore(h,d));return h}function L(a,b,c){b=b?String(b).replace(/[^\w]/g,""):"";a=D(a,b);c=c||document;return(c.querySelectorAll?c.querySelectorAll("."+a):[])[0]}
function C(a,b){var c="rsrc-p-"+a;if(b){var d=b.indexOf("//");if(0>d){if(0==b.lastIndexOf("hash-",0))return b;c=l[c]||"";if("[object String]"==Object.prototype.toString.call(c))b=c+b;else for(var e in c)b=b.replace(e,c[e]);b=0>b.indexOf("."+a)?b+"."+a:b;b=z(b)}else 0==d&&(b=z(b))}return b}function D(a,b,c){return a+"-"+b+(c?"-"+c:"")}function Q(a,b,c,d){b=D(b,c,d);O[b]=a}function K(a,b,c){a=D(a,b,c);return O[a]}function E(a,b){var c=D(a,b);return I[c]}
function P(a,b){var c=E(a,b),d;if(d=void 0!=c)d=K(a,c),d=""==c||d==R;return d}var O={},H={},I={},S=1,R=2,B="js";"rsrc-s"in l||(l["rsrc-s"]=O);O=l["rsrc-s"];"rsrc-n"in l||(l["rsrc-n"]=H);H=l["rsrc-n"];"rsrc-u"in l||(l["rsrc-u"]=I);I=l["rsrc-u"];function T(a,b,c){a=u(a)?a:[a];a=t(a,function(a){return!!a});var d=[];r(a,function(a){void 0==E(B,a)&&d.push(a)});var e=!d.length;if(b){var n=s(a,f(P,null,B));e&&n?b():(a=D(B,a.sort().join("|")),v(a,b))}c&&!e&&c(d)}function U(a,b){a=u(a)?a:[a];r(a,function(a){if(a){var b=V[a]||a,b=C(B,b),e=E(B,a);e&&b!=e&&W(a)}});T(a,b,X)}function X(a){r(a,function(a){function c(){A(e,a,void 0)}var d=Y[a],e=V[a]||a;d?U(d,c):c()})}
function W(a){a=u(a)?a:[a];r(a,function(a){var c=[],d;for(d in Y){var e=Y[d],e=u(e)?e:[e];r(e,function(e){e==a&&c.push(d)})}r(c,function(a){W(a)});N(a)})}var Y={};"js-d"in l||(l["js-d"]=Y);var Y=l["js-d"],V={};"js-u"in l||(l["js-u"]=V);V=l["js-u"];var Z={script:{load:function(a,b,c){A(a,b,c)},get:function(a,b){M(B,a,b)},ready:T,done:function(a){a=D(B,a);I[a]="";J(B)},require:U,declare:function(a,b){if(a){for(var c in a)Y[c]=a[c];if(b)for(c in b)V[c]=b[c]}},path:function(a){l["rsrc-p-"+B]=a}}},aa=this.spf=this.spf||{},$;for($ in Z)aa[$]=Z[$];})();
