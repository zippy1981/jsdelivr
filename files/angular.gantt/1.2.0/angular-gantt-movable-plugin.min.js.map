{"version":3,"file":"angular-gantt-movable-plugin.min.js","sources":["../src/plugins/movable.js","../src/plugins/movable/movableOptions.factory.js"],"names":["angular","module","directive","mouseButton","mouseOffset","smartEvent","movableOptions","utils","dom","$window","$document","$timeout","restrict","require","scope","enabled","allowMoving","allowResizing","allowRowSwitching","link","element","attrs","ganttCtrl","api","gantt","options","option","movable","initialize","registerEvent","mouseStartOffsetX","moveStartX","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","taskWithSmallWidth","resizeAreaWidthBig","resizeAreaWidthSmall","scrollSpeed","scrollTriggerDistance","directives","on","directiveName","taskScope","taskElement","scrollInterval","windowElement","ganttBodyElement","row","rowsManager","body","$element","ganttScrollElement","scroll","taskHasBeenChanged","foregroundElement","task","getForegroundElement","contentElement","getContentElement","onPressEvents","evt","preventDefault","getTouch","taskMovable","model","rowMovable","enabledValue","firstProperty","isFunction","taskOffsetX","getOffset","x","mode","getMoveMode","getButton","bodyOffsetX","getOffsetForElement","enableMoveMode","$digest","onMousemove","isMoving","css","getCursor","handleMove","destroyed","clearScrollInterval","moveTask","scrollScreen","oldTaskHasBeenChanged","mousePos","mouseOffsetX","taskOutOfRange","value","moveMode","scrollRect","getBoundingClientRect","rowCenterLeft","left","width","ganttBody","querySelectorAll","targetRowElement","findElementFromPoint","clientY","hasClass","targetRow","rows","i","l","length","sourceRow","undefined","moveTaskToRow","$scope","moveTo","tasks","raise","move","setGlobalCursor","setTo","resize","setFrom","backgroundElement","getBackgroundElement","addClass","moveBegin","resizeBegin","leftScreenBorder","scrollLeft","screenWidth","offsetWidth","scrollWidth","rightScreenBorder","keepOnScrolling","right","cancel","distance","cursor","-moz-user-select","-webkit-user-select","-ms-user-select","user-select","originalModel","originalRow","copy","isResizing","modelLeft","active","taskMoveHandler","stopImmediatePropagation","moveSmartEvent","bind","unbind","disableMoveMode","bindOnce","removeClass","extend","id","removeTask","$apply","moveEnd","resizeEnd","sortTasks","change","$on","factory"],"mappings":"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"}