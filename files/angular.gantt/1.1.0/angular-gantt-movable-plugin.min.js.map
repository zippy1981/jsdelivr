{"version":3,"file":"angular-gantt-movable-plugin.min.js","sources":["../src/plugins/movable.js","../src/plugins/movable/movableOptions.factory.js"],"names":["angular","module","directive","mouseButton","mouseOffset","smartEvent","movableOptions","utils","$window","$document","$timeout","restrict","require","scope","enabled","allowMoving","allowResizing","allowRowSwitching","link","element","attrs","ganttCtrl","api","gantt","options","option","movable","initialize","registerEvent","mouseStartOffsetX","moveStartX","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","taskWithSmallWidth","resizeAreaWidthBig","resizeAreaWidthSmall","scrollSpeed","scrollTriggerDistance","directives","on","directiveName","taskScope","taskElement","scrollInterval","windowElement","ganttBodyElement","row","rowsManager","body","$element","ganttScrollElement","scroll","taskHasBeenChanged","foregroundElement","task","getForegroundElement","evt","preventDefault","getTouch","taskMovable","model","rowMovable","enabledValue","firstProperty","isFunction","taskOffsetX","getOffset","x","mode","getMoveMode","getButton","bodyOffsetX","getOffsetForElement","enableMoveMode","$digest","isMoving","css","getCursor","handleMove","destroyed","clearScrollInterval","moveTask","scrollScreen","oldTaskHasBeenChanged","mousePos","mouseOffsetX","taskOutOfRange","value","moveMode","targetRow","scrollRect","getBoundingClientRect","rowCenterLeft","left","width","targetRowElement","findElementFromPoint","clientY","hasClass","rows","i","l","length","sourceRow","undefined","moveTaskToRow","$scope","moveTo","tasks","raise","move","setGlobalCursor","setTo","resize","setFrom","backgroundElement","getBackgroundElement","addClass","moveBegin","resizeBegin","leftScreenBorder","scrollLeft","screenWidth","offsetWidth","scrollWidth","rightScreenBorder","keepOnScrolling","right","cancel","distance","cursor","-moz-user-select","-webkit-user-select","-ms-user-select","user-select","originalModel","originalRow","copy","isResizing","modelLeft","active","taskMoveHandler","stopImmediatePropagation","moveSmartEvent","bind","unbind","disableMoveMode","bindOnce","removeClass","extend","id","removeTask","$apply","moveEnd","resizeEnd","sortTasks","change","$on","factory"],"mappings":"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"}