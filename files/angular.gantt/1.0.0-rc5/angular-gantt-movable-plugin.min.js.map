{"version":3,"file":"angular-gantt-movable-plugin.min.js","sources":["../src/plugins/movable.js","../src/plugins/movable/movableOptions.factory.js"],"names":["angular","module","directive","mouseButton","mouseOffset","smartEvent","movableOptions","utils","$window","$document","$timeout","restrict","require","scope","enabled","allowMoving","allowResizing","allowRowSwitching","link","element","attrs","ganttCtrl","api","gantt","options","option","movable","initialize","registerEvent","mouseStartOffsetX","moveStartX","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","resizeAreaWidthBig","resizeAreaWidthSmall","scrollSpeed","scrollTriggerDistance","directives","on","new","directiveName","taskScope","taskElement","scrollInterval","windowElement","ganttBodyElement","row","rowsManager","body","$element","ganttScrollElement","scroll","taskHasBeenChanged","evt","preventDefault","getTouch","firstProperty","task","model","taskOffsetX","getOffset","x","mode","getMoveMode","getButton","bodyOffsetX","getOffsetForElement","enableMoveMode","$digest","isMoving","css","getCursor","handleMove","moveTask","scrollScreen","mousePos","mouseOffsetX","targetRow","scrollRect","getBoundingClientRect","targetRowElement","findElementFromPoint","left","clientY","hasClass","rows","i","l","length","sourceRow","undefined","moveTaskToRow","$scope","taskOutOfRange","width","moveTo","tasks","raise","move","setTo","resize","setFrom","leftScreenBorder","scrollLeft","screenWidth","offsetWidth","scrollWidth","rightScreenBorder","keepOnScrolling","right","clearScrollInterval","cancel","distance","originalModel","originalRow","copy","addClass","moveBegin","resizeBegin","modelLeft","moveMode","active","taskMoveHandler","stopImmediatePropagation","moveSmartEvent","bind","unbind","disableMoveMode","bindOnce","-moz-user-select","-webkit-user-select","-ms-user-select","user-select","cursor","removeClass","extend","id","removeTask","$apply","moveEnd","resizeEnd","sortTasks","change","isResizing","factory"],"mappings":"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"}