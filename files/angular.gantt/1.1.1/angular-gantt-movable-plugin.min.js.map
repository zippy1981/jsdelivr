{"version":3,"file":"angular-gantt-movable-plugin.min.js","sources":["../src/plugins/movable.js","../src/plugins/movable/movableOptions.factory.js"],"names":["angular","module","directive","mouseButton","mouseOffset","smartEvent","movableOptions","utils","$window","$document","$timeout","restrict","require","scope","enabled","allowMoving","allowResizing","allowRowSwitching","link","element","attrs","ganttCtrl","api","gantt","options","option","movable","initialize","registerEvent","mouseStartOffsetX","moveStartX","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","taskWithSmallWidth","resizeAreaWidthBig","resizeAreaWidthSmall","scrollSpeed","scrollTriggerDistance","directives","on","directiveName","taskScope","taskElement","scrollInterval","windowElement","ganttBodyElement","row","rowsManager","body","$element","ganttScrollElement","scroll","taskHasBeenChanged","foregroundElement","task","getForegroundElement","evt","preventDefault","getTouch","taskMovable","model","rowMovable","enabledValue","firstProperty","isFunction","taskOffsetX","getOffset","x","mode","getMoveMode","getButton","bodyOffsetX","getOffsetForElement","enableMoveMode","$digest","isMoving","css","getCursor","handleMove","destroyed","clearScrollInterval","moveTask","scrollScreen","oldTaskHasBeenChanged","mousePos","mouseOffsetX","taskOutOfRange","value","moveMode","scrollRect","getBoundingClientRect","rowCenterLeft","left","width","ganttBody","querySelectorAll","targetRowElement","findElementFromPoint","clientY","hasClass","targetRow","rows","i","l","length","sourceRow","undefined","moveTaskToRow","$scope","moveTo","tasks","raise","move","setGlobalCursor","setTo","resize","setFrom","backgroundElement","getBackgroundElement","addClass","moveBegin","resizeBegin","leftScreenBorder","scrollLeft","screenWidth","offsetWidth","scrollWidth","rightScreenBorder","keepOnScrolling","right","cancel","distance","cursor","-moz-user-select","-webkit-user-select","-ms-user-select","user-select","originalModel","originalRow","copy","isResizing","modelLeft","active","taskMoveHandler","stopImmediatePropagation","moveSmartEvent","bind","unbind","disableMoveMode","bindOnce","removeClass","extend","id","removeTask","$apply","moveEnd","resizeEnd","sortTasks","change","$on","factory"],"mappings":"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"}