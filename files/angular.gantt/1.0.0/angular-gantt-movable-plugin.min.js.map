{"version":3,"file":"angular-gantt-movable-plugin.min.js","sources":["../src/plugins/movable.js","../src/plugins/movable/movableOptions.factory.js"],"names":["angular","module","directive","mouseButton","mouseOffset","smartEvent","movableOptions","utils","$window","$document","$timeout","restrict","require","scope","enabled","allowMoving","allowResizing","allowRowSwitching","link","element","attrs","ganttCtrl","api","gantt","options","option","movable","initialize","registerEvent","mouseStartOffsetX","moveStartX","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","taskWithSmallWidth","resizeAreaWidthBig","resizeAreaWidthSmall","scrollSpeed","scrollTriggerDistance","directives","on","new","directiveName","taskScope","taskElement","scrollInterval","windowElement","ganttBodyElement","row","rowsManager","body","$element","ganttScrollElement","scroll","taskHasBeenChanged","evt","preventDefault","getTouch","firstProperty","task","model","taskOffsetX","getOffset","x","mode","getMoveMode","getButton","bodyOffsetX","getOffsetForElement","enableMoveMode","$digest","isMoving","css","getCursor","handleMove","destroyed","clearScrollInterval","moveTask","scrollScreen","mousePos","mouseOffsetX","taskOutOfRange","value","moveMode","targetRow","scrollRect","getBoundingClientRect","rowCenterLeft","left","width","targetRowElement","findElementFromPoint","clientY","hasClass","rows","i","l","length","sourceRow","undefined","moveTaskToRow","$scope","moveTo","tasks","raise","move","setGlobalCursor","setTo","resize","setFrom","leftScreenBorder","scrollLeft","screenWidth","offsetWidth","scrollWidth","rightScreenBorder","keepOnScrolling","right","cancel","distance","cursor","-moz-user-select","-webkit-user-select","-ms-user-select","user-select","originalModel","originalRow","copy","styleElement","getStyleElement","addClass","moveBegin","resizeBegin","isResizing","modelLeft","active","taskMoveHandler","stopImmediatePropagation","moveSmartEvent","bind","unbind","disableMoveMode","bindOnce","removeClass","extend","id","removeTask","$apply","moveEnd","resizeEnd","sortTasks","change","$on","factory"],"mappings":"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"}