{"version":3,"file":"angular-gantt-movable-plugin.min.js","sources":["../src/plugins/movable.js","../src/plugins/movable/movableOptions.factory.js"],"names":["angular","module","directive","mouseButton","mouseOffset","smartEvent","movableOptions","utils","$window","$document","$timeout","restrict","require","scope","enabled","allowMoving","allowResizing","allowRowSwitching","link","element","attrs","ganttCtrl","api","gantt","options","option","movable","initialize","registerEvent","mouseStartOffsetX","moveStartX","_hasTouch","DocumentTouch","_pressEvents","_moveEvents","_releaseEvents","taskWithSmallWidth","resizeAreaWidthBig","resizeAreaWidthSmall","scrollSpeed","scrollTriggerDistance","directives","on","new","directiveName","taskScope","taskElement","scrollInterval","windowElement","ganttBodyElement","row","rowsManager","body","$element","ganttScrollElement","scroll","taskHasBeenChanged","evt","preventDefault","getTouch","firstProperty","task","model","taskOffsetX","getOffset","x","mode","getMoveMode","getButton","bodyOffsetX","getOffsetForElement","enableMoveMode","$digest","isMoving","css","getCursor","handleMove","moveTask","scrollScreen","mousePos","mouseOffsetX","moveMode","targetRow","scrollRect","getBoundingClientRect","rowCenterLeft","left","width","targetRowElement","findElementFromPoint","clientY","hasClass","rows","i","l","length","sourceRow","undefined","moveTaskToRow","$scope","taskOutOfRange","moveTo","tasks","raise","move","setGlobalCursor","setTo","resize","setFrom","leftScreenBorder","scrollLeft","screenWidth","offsetWidth","scrollWidth","rightScreenBorder","keepOnScrolling","right","clearScrollInterval","cancel","distance","cursor","-moz-user-select","-webkit-user-select","-ms-user-select","user-select","originalModel","originalRow","copy","addClass","moveBegin","resizeBegin","isResizing","modelLeft","active","taskMoveHandler","stopImmediatePropagation","moveSmartEvent","bind","unbind","disableMoveMode","bindOnce","removeClass","extend","id","removeTask","$apply","moveEnd","resizeEnd","sortTasks","change","factory"],"mappings":"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"}