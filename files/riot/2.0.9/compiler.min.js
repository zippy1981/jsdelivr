(function(e){var r=("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,"+"defaultchecked,defaultmuted,defaultselected,defer,disabled,draggable,enabled,formnovalidate,hidden,"+"indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,"+"pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,spellcheck,translate,truespeed,"+"typemustmatch,visible").split(",");var t="area,base,br,col,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr".split(",");var n={jade:h};var i={coffeescript:p,none:g,cs:p,es6:d,typescript:m,livescript:v,ls:v};var o=/^<([\w\-]+)>([^\x00]*[\w\-\/]>$)?([^\x00]*?)^<\/\1>/gim,a=/<script(\s+type=['"]?([^>'"]+)['"]?)?>([^\x00]*?)<\/script>/gm,c=/<!--.*?-->/g,u=/<([\w\-]+)([^>]*)\/\s*>/g,f=/^\s*\/\/.*$/gm,l=/\/\*[^\x00]*?\*\//gm;function s(e,n,i){e=e.replace(/\s+/g," ");e=e.trim().replace(c,"");e=e.replace(/=(\{[^\}]+\})([\s\/\>])/g,'="$1"$2');e=e.replace(/([\w\-]+)=["'](\{[^\}]+\})["']/g,function(e,t,n){if(r.indexOf(t.toLowerCase())>=0)t="__"+t;return t+'="'+n+'"'});if(n.expr){e=e.replace(/\{\s*([^\}]+)\s*\}/g,function(e,r){return"{"+y(r,n,i).trim().replace(/\r?\n|\r/g,"")+"}"})}e=e.replace(u,function(e,r,n){var i="<"+r+(n?" "+n.trim():"")+">";if(t.indexOf(r.toLowerCase())==-1)i+="</"+r+">";return i});e=e.replace(/'/g,"\\'");e=e.replace(/\\[{}]/g,"\\$&");if(n.compact)e=e.replace(/> </g,"><");return e}function p(e){return require("coffee-script").compile(e,{bare:true})}function d(e){return require("6to5").transform(e,{blacklist:["useStrict"]}).code}function m(e){return require("typescript-simple")(e)}function v(e){return require("LiveScript").compile(e,{bare:true,header:false})}function g(e){return e}function h(e){return require("jade").render(e,{pretty:true})}function w(e){e=e.replace(f,"").replace(l,"");var r=e.split("\n"),t="";r.forEach(function(e,n){var i=e.trim();if(i[0]!="}"&&i.indexOf("(")>0&&i.slice(-1)=="{"&&i.indexOf("function")==-1){var o=/(\s+)([\w]+)\s*\(([\w,\s]*)\)\s*\{/.exec(e);if(o&&!/^(if|while|switch|for)$/.test(o[2])){r[n]=o[1]+"this."+o[2]+" = function("+o[3]+") {";t=o[1]}}if(e.slice(0,t.length+1)==t+"}"){r[n]=t+t+"this.update()\n"+t+"}.bind(this);";t=""}});return r.join("\n")}function y(e,r,t){var n=r.parser||(t?i[t]:w);if(!n)throw new Error('Parser not found "'+t+'"');return n(e,r)}function x(e,r){var t=n[e];if(!t)throw new Error('Template parser not found "'+e+'"');return t(r)}function b(e,r){r=r||{};if(r.template)e=x(r.template,e);return e.replace(o,function(e,t,n,i){n=n||"";var o=r.type;if(!i.trim()){n=n.replace(a,function(e,r,t,n){if(t)o=t.replace("text/","");i=n;return""})}return"riot.tag('"+t+"', '"+s(n,r,o)+"', function(opts) {"+y(i,r,o)+"\n});"})}if(e){return module.exports={html:s,compile:b}}var q=document,k,E;function T(e,r){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState==4&&t.status==200)r(t.responseText)};t.open("GET",e,true);t.send("")}function $(e){var r=/[ \t]+/.exec(e);if(r)e=e.replace(new RegExp("^"+r[0],"gm"),"");return e}function L(e){var r=q.createElement("script"),t=q.documentElement;r.text=b(e);t.appendChild(r);t.removeChild(r)}function C(e){var r=q.querySelectorAll('script[type="riot/tag"]');[].map.call(r,function(t,n){var i=t.getAttribute("src");function o(t){L(t);if(n+1==r.length){k.trigger("ready");E=true;e&&e()}}return i?T(i,o):o($(t.innerHTML))})}riot.compile=function(e,r){if(typeof e=="string"){if(e.trim()[0]=="<"){var t=$(b(e));if(!r)L(t);return t}else{return T(e,function(e){var t=$(b(e));L(t);r&&r(t,e)})}}if(typeof e!="function")e=undefined;if(E)return e&&e();if(k){e&&k.on("ready",e)}else{k=riot.observable();C(e)}};var O=riot.mount,S=riot.mountTo;riot.mount=function(e,r){var t;riot.compile(function(){t=O(e,r)});return t};riot.mountTo=function(e,r,t){var n;riot.compile(function(){n=S(e,r,t)});return n}})(!this.top);